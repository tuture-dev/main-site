---
title: "ç±»å‹å³æ­£ä¹‰ï¼šTypeScript ä»å…¥é—¨åˆ°å®è·µï¼ˆåºè¨€ï¼‰"
description: "æœ¬æ–‡é€šè¿‡åŠ¨æ‰‹å®è·µçš„æ–¹å¼å¸¦ä½ æ­å»ºä¸€ä¸ª TypeScript ç‰ˆæœ¬çš„ React é¡¹ç›®ï¼Œå¹¶ä¸”é…ç½®äº† Ant Design ç»„ä»¶åº“ï¼Œä¸ºæ•´ä¸ªTypeScript ä»å…¥é—¨åˆ°å®è·µç³»åˆ—å®æˆ˜æ•™ç¨‹å‡†å¤‡åˆå§‹ä»£ç ã€‚"
tags: ["TypeScript", "React"]
date: 2020-04-06T01:47:37.842Z
photos:
  - https://static.tuture.co/c/cea18bc864f7a9b94223dcc718646b02/ts1-044f5e5a2ecd6e8c.png
---

<div class="profileBox">
  <div class="avatarBox">
    <a href="https://github.com/pftom"><img src="/images/avatars/pftom.jpg" alt="" class="avatar"></a>
  </div>
  <div class="rightBox">
    <div class="infoBox">
    <a href="https://github.com/pftom"><p class="nickName">@pftom</p></a>
  </div>
  <div class="codeBox">
    <a href="https://github.com/pftom/typescript-tea"><span class="codeText">æŸ¥çœ‹ä»£ç </span></a>
  </div>
  </div>
</div>

## å‡†å¤‡ä»£ç 

1. å› ä¸ºéœ€è¦å°½å¯èƒ½å…¨ä¸”ç²¾ç‚¼çš„è®²è§£ TypeScript è¯­æ³•çŸ¥è¯†ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ°åˆ°å¥½å¤„çš„å®æˆ˜é¡¹ç›®ï¼Œè¿™ä¸€å°èŠ‚ä¸»è¦æ˜¯ç”¨äºè®²è§£æˆ‘ä»¬å‡†å¤‡åˆå§‹ TypeScript ç‰ˆæœ¬çš„ React é¡¹ç›®ä»£ç çš„è¿‡ç¨‹ï¼Œåœ¨ä¸‹ä¸€ä¸ªå°èŠ‚ä¸­æˆ‘ä»¬å°†ä¼šç»“åˆ React é¡¹ç›®ä»£ç ï¼ŒçœŸæ­£å¼€å§‹ TypeScript è¯­æ³•çš„è®²è§£ã€‚
2. 

> æœ¬æ–‡æ‰€æ¶‰åŠçš„æºä»£ç éƒ½æ”¾åœ¨äº† [Github](https://github.com/tuture-dev/typescript-tea)Â  æˆ–è€… [Gitee](https://gitee.com/tuture/typescript-tea) ä¸Šï¼Œå¦‚æœæ‚¨è§‰å¾—æˆ‘ä»¬å†™å¾—è¿˜ä¸é”™ï¼Œå¸Œæœ›æ‚¨èƒ½ç»™**â¤ï¸è¿™ç¯‡æ–‡ç« ç‚¹èµ+**[**Github**](https://github.com/tuture-dev/typescript-tea)** æˆ– **[**Gitee**](https://gitee.com/tuture/typescript-tea)** ä»“åº“åŠ æ˜Ÿâ¤**ï¸å“¦~

> æ­¤æ•™ç¨‹å±äº [React å‰ç«¯å·¥ç¨‹å¸ˆå­¦ä¹ è·¯çº¿](https://github.com/tuture-dev/react-roadmap)çš„ä¸€éƒ¨åˆ†ï¼Œæ¬¢è¿æ¥ Star ä¸€æ³¢ï¼Œé¼“åŠ±æˆ‘ä»¬ç»§ç»­åˆ›ä½œå‡ºæ›´å¥½çš„æ•™ç¨‹ï¼ŒæŒç»­æ›´æ–°ä¸­~

### å‰ææ¡ä»¶

1. ç¡®ä¿ä½ å·²ç»å®‰è£…äº† Node.jsï¼Œå¯ä»¥è®¿é—®å®˜ç½‘å®‰è£…ï¼š[å®˜ç½‘åœ°å€](https://nodejs.org/en/)ã€‚
2. ç¡®ä¿ä½ å·²ç»äº†è§£åŸºæœ¬çš„ React å¼€å‘çŸ¥è¯†ï¼Œå›¾é›€ç¤¾åŒºæœ‰ä¸€ç¯‡å¾ˆå¥½çš„ [React å…¥é—¨æ•™ç¨‹](https://tuture.co/2019/11/18/07acf61/)ï¼Œä½ å¯ä»¥é€šè¿‡å­¦ä¹ å®ƒå¾ˆå¿«çš„ä¸Šæ‰‹ Reactã€‚
3. ç¡®ä¿ä½ æœ‰ä¸€å®šçš„å‘½ä»¤è¡Œä½¿ç”¨åŸºç¡€ï¼ŒåŒ…æ‹¬ä½¿ç”¨ Npm ï¼ˆNode.js åŒ…ç®¡ç†å·¥å…·ï¼‰æ¥å®‰è£…åŒ…ã€‚

### åˆå§‹åŒ–åº”ç”¨

åˆå§‹ä¸€ä¸ª React åº”ç”¨çš„æœ€ä½³æ–¹å¼é‚£ä¹ˆä¸€å®šæ˜¯ React å®˜æ–¹ç»´æŠ¤çš„ [Create React App](https://github.com/facebook/create-react-app) è„šæ‰‹æ¶äº†ï¼Œæˆ‘ä»¬æ‰“å¼€ç»ˆç«¯ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤æ¥åˆå§‹åŒ–ä¸€ä¸ª TypeScript ç‰ˆæœ¬çš„ React åº”ç”¨ï¼š

```bash
$ npx create-react-app typescript-tea --template typescript
```

è¿è¡Œå¦‚ä¸Šå‘½ä»¤ï¼Œå‘½ä»¤è¡Œé‡Œé¢åº”è¯¥ä¼šæœ‰ä¸€ç³»åˆ—è¾“å‡ºï¼Œç­‰å¾…å‡ åˆ†é’Ÿï¼Œå°±ä¼šæç¤ºå·²ç»åˆå§‹åŒ–å®Œæˆï¼Œå¹¶æä¾›äº†å¯¹äºçš„å‘½ä»¤æ¥å¸®åŠ©ä½ å¼€å¯é¡¹ç›®ï¼Œæˆ‘ä»¬æ ¹æ®æç¤ºè¾“å…¥å¦‚ä¸‹å‘½ä»¤æ¥å¼€å¯é¡¹ç›®ï¼š

```bash
$ cd typescript-tea
$ npm start
```

è¿è¡Œå¦‚ä¸Šå‘½ä»¤ä¹‹åï¼Œä¼šè‡ªåŠ¨å¼€å¯ Webpack å¼€å‘æœåŠ¡å™¨ï¼Œå¹¶æ‰“å¼€æµè§ˆå™¨çª—æˆ·ï¼Œè®¿é—® [http://localhost:3000/](http://localhost:3000/) æ¥å±•ç¤ºä½ çš„åº”ç”¨åˆå§‹ç•Œé¢ï¼š

![](https://static.tuture.co/c/cea18bc864f7a9b94223dcc718646b02/image.png)

å¦‚æœçœ‹åˆ°è¿™ä¸ªç•Œé¢ï¼Œæ­å–œä½ ğŸ¥³ï¼æˆåŠŸåˆ›å»ºä¸€ä¸ª TypeScript ç‰ˆæœ¬çš„ React åº”ç”¨ï¼

{% note info %}
**æç¤º**

åœ¨ä¸‹æ–‡ä¸­ï¼Œä¸ºäº†ç®€åŒ–è¯­è¨€ï¼Œæˆ‘ä»¬ç»Ÿä¸€ç§° TypeScript ä¸º TSã€‚
{% endnote %}

### å¼•å…¥ antd ç»„ä»¶åº“

å®æˆ˜é©±åŠ¨çš„æŠ€æœ¯å­¦ä¹ èƒ½å¸¦ç»™æˆ‘ä»¬æˆå°±æ„Ÿï¼Œä¾¿æ·å¥½ç”¨çš„åŒ…å¯ä»¥åŠ å¿«æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ï¼Œå¥½çœ‹çš„ç•Œé¢å¯ä»¥æé«˜æˆ‘ä»¬çš„å®¡ç¾èƒ½åŠ›ï¼Œç¼“è§£å­¦ä¹ ç–²åŠ³ã€‚åœ¨è¿™ç¯‡æ•™ç¨‹çš„è®²è§£è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†é€šè¿‡ [Ant Design](https://ant.design/index-cn) å¯¹åº”çš„ React ç»„ä»¶åº“ [antd](https://github.com/ant-design/ant-design) æ¥è¾…åŠ©æˆ‘ä»¬é¡¹ç›®çš„ç¼–å†™ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥ä¸“æ³¨äºè®²è§£ TS çš„æ ¸å¿ƒçŸ¥è¯†ï¼Œè€Œä¸è¢«ç¹æ‚çš„ç•Œé¢è¯­è¨€æ‰€å¹²æ‰°ï¼Œè¿˜èƒ½åšå‡ºå¯¹åº”ç›¸åº”å®Œæˆçš„ç›®æ ‡åŠŸèƒ½ã€‚

{% note info %}
**æç¤º**

[Ant Design ](https://ant.design/index-cn)æ˜¯èš‚èšé‡‘æœå­µåŒ–çš„ä¸€å¥—ä¼ä¸šçº§äº§å“è®¾è®¡ä½“ç³»ï¼Œæä¾›äº†å®Œå¤‡çš„ TS ç±»å‹å®šä¹‰ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„åœ¨ TS é¡¹ç›®ä¸­ä½¿ç”¨ï¼Œåœ¨æœ€è¿‘å‘å¸ƒäº† 4.0 ç‰ˆæœ¬ï¼Œè‡´åŠ›äºåˆ›é€ é«˜æ•ˆæ„‰æ‚¦çš„å·¥ä½œä½“éªŒã€‚

é™¤æ­¤ä¹‹å¤– Ant Design çš„å‘¨è¾¹ç”Ÿæ€ä¹Ÿå¾ˆä¸°å¯Œï¼š

- åŒ…æ‹¬æ–°ä¸€ä»£æ•°æ®å¯è§†åŒ–è§£å†³æ–¹æ¡ˆï¼š[AntV](https://antv.vision/zh)
- ä¸€ä¸ªåŸºäº Preact / React / React Native çš„ UI ç»„ä»¶åº“ï¼š[Ant Design Mobile](https://mobile.ant.design/index-cn)
- å¼€ç®±å³ç”¨çš„ä¸­å°å‰ç«¯/è®¾è®¡è§£å†³æ–¹æ¡ˆï¼š[Ant Design Pro](https://pro.ant.design/index-cn)
- æ’ç”»è®¾è®¡ï¼š[æµ·å…”](https://ant.design/docs/spec/illustration-cn)
- ä¸€æ¬¾ä¸ºè®¾è®¡è€…æå‡å·¥ä½œæ•ˆç‡çš„ Sketch å·¥å…·é›† ï¼š [Kitchen](https://kitchen.alipay.com/)

åé¢å›¾é›€ç¤¾åŒºè®¡åˆ’å›´ç»• Ant Design ç”Ÿæ€æ’°å†™ä¸€ç³»åˆ—æ•™ç¨‹ï¼Œå¸®åŠ©å¤§å®¶æé«˜è®¾è®¡ã€å¼€å‘æ•ˆç‡ï¼Œæ•¬è¯·æœŸå¾…ï¼âœŒï¸
{% endnote %}

#### å®‰è£…ä¾èµ–

å¥½äº†ï¼Œå¤§è‡´ä»‹ç»äº† antd ç»„ä»¶åº“åŠ Ant Design å‘¨è¾¹ä¹‹åï¼Œæˆ‘ä»¬é©¬ä¸Šæ¥å†™ä»£ç å¼•å…¥ antdï¼Œæ‰“å¼€å‘½ä»¤è¡Œï¼Œåœ¨å…¶ä¸­è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š

```bash
$ npm install antd
```

è¿è¡Œä¸Šé¢çš„å‘½ä»¤å®‰è£…å®Œä¾èµ–ä¹‹åå°±å¯ä»¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨äº†ï¼Œä½†æ˜¯ä¸ºäº†æ›´å¥½çš„å®šåˆ¶æ ·å¼å’ŒæŒ‰éœ€å¼•ç”¨ä»¥å‡å°æ‰“åŒ…ä¹‹åçš„åŒ…ä½“ç§¯ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åšä¸€ç‚¹å®šåˆ¶åŒ–çš„æ“ä½œï¼Œæ‰“å¼€å‘½ä»¤è¡Œï¼Œä¾æ¬¡å®‰è£…å¦‚ä¸‹ä¾èµ–ï¼š

```bash
$ npm install react-app-rewired customize-cra babel-plugin-import less less-loader 
```

æ³¨æ„åˆ°ä¸Šé¢æˆ‘ä»¬å®‰è£…äº†å¾ˆå¤šåŒ…ï¼Œæˆ‘ä»¬æ¥ä¾æ¬¡è§£é‡Šä¸€ä¸‹ä¸Šé¢å„ç§åŒ…çš„æ„æ€ï¼š

- react-app-rewiredï¼šç”¨æ¥å®šåˆ¶åŒ– Create React App ï¼ˆCRA)è„šæ‰‹æ¶çš„ä¸€äº›é…ç½®ï¼Œæ¯”å¦‚ Webpackã€Babel ç­‰ï¼Œå› ä¸º CRA å®ƒæ˜¯ä¸€ä¸ªå°é—­çš„é»‘ç›’ï¼Œä¸å…è®¸å¼€å‘è€…ç›´æ¥å®šåˆ¶ï¼Œä½†æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦å¯¹é…ç½®åšä¸€äº›ä¿®æ”¹ï¼Œæ¯”å¦‚è¿™é‡Œéœ€è¦é…ç½® antd çš„æŒ‰éœ€å¼•ç”¨ã€‚
- customize-craï¼šæ˜¯ CRA åœ¨å‘å¸ƒ 2.0 ä¹‹åå‡ºæ¥çš„ä¸€ä¸ªè¾…åŠ© react-app-rewired æ›´æ–¹ä¾¿å®šåˆ¶ CRA çš„ Webpack é…ç½®çš„ä¸€ä¸ªåº“ï¼Œå®ƒæä¾›äº†ä¸€äº›å¼€ç®±å³ç”¨çš„ APIã€‚
- babel-plugin-importï¼šæ˜¯é…ç½®å¯ä¾›å¼€å‘è€…æŒ‰éœ€å¼•ç”¨ antd ç»„ä»¶çš„ä¸€ä¸ª Babel æ’ä»¶
- less å’Œ less-loaderï¼šæ˜¯æˆ‘ä»¬ç”¨äºå®šåˆ¶åŒ– antd çš„ä¸»é¢˜éœ€è¦çš„ Webpack loaderï¼Œå› ä¸º antd ä½¿ç”¨ less ä½œä¸ºæ ·å¼åŒ–è¯­è¨€ã€‚

æœ€åæˆ‘ä»¬å®‰è£…ä¸€ä¸ªåœ¨ Ant Design 4.0 æ‹†åˆ†å‡ºå»çš„ icons åŒ…ï¼Œå¯ä»¥ç”¨æ¥æŒ‰éœ€å¼•ç”¨ iconsï¼Œè¿›ä¸€æ­¥å‡å°‘æœ€åçš„æ‰“åŒ…ä½“ç§¯ï¼Œç»§ç»­åœ¨å‘½ä»¤è¡Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š

```bash
$ npm install @ant-design/icons
```

å¤§åŠŸå‘Šæˆï¼ç°åœ¨æˆ‘ä»¬æ‰€æœ‰çš„ä¾èµ–ä»¥åŠå®‰è£…å®Œæˆã€‚æ¥ä¸‹æ¥å°±éœ€è¦æ”¹å†™ä¸€ä¸‹ CRA ä¹‹å‰é€šè¿‡ `react-scripts`  è·‘å¼€å‘æ„å»ºçš„æµç¨‹ï¼Œç”¨æˆ‘ä»¬å®‰è£…çš„ `react-app-rewired`  è„šæœ¬æ¥æ›¿æ¢å®ƒï¼Œå½“å®‰è£…å®Œäº†æ‰€ä»¥ä¾èµ–ï¼Œä»¥åŠç”¨`react-app-rewired`   æ›¿æ¢ `react-scripts`  ä¹‹åï¼Œæˆ‘ä»¬çš„ `package.json`  æ–‡ä»¶åº”è¯¥æ˜¯ä¸‹é¢çš„æ ·å­ï¼š

```json package.json https://github.com/pftom/typescript-tea/blob/756b2d45f9790caf91ab4c76c23dec06b7bf9da8/package.json æŸ¥çœ‹å®Œæ•´ä»£ç 
// ...
  "version": "0.1.0",
  "private": true,
  "dependencies": {
[tuture-add]    "@ant-design/icons": "^4.0.2",
    "@testing-library/jest-dom": "^4.2.4",
    "@testing-library/react": "^9.3.2",
    "@testing-library/user-event": "^7.1.2",
    "@types/jest": "^24.0.0",
    "@types/node": "^12.0.0",
    "@types/react": "^16.9.0",
    "@types/react-dom": "^16.9.0",
[tuture-add]    "antd": "^4.0.0",
[tuture-add]    "babel-plugin-import": "^1.13.0",
[tuture-add]    "customize-cra": "^0.9.1",
[tuture-add]    "less": "^3.11.1",
[tuture-add]    "less-loader": "^5.0.0",
    "react": "^16.13.0",
[tuture-add]    "react-app-rewired": "^2.1.5",
    "react-dom": "^16.13.0",
    "react-scripts": "3.4.0",
    "typescript": "~3.7.2"
  },
  "scripts": {
[tuture-del]    "start": "react-scripts start",
[tuture-del]    "build": "react-scripts build",
[tuture-del]    "test": "react-scripts test",
[tuture-add]    "start": "react-app-rewired start",
[tuture-add]    "build": "react-app-rewired build",
[tuture-add]    "test": "react-app-rewired test",
    "eject": "react-scripts eject"
  },
  // ...
```

#### ä¿®æ”¹é…ç½®

å®‰è£…å®Œä¾èµ–ä¹‹åï¼Œæˆ‘ä»¬è¦ç¡®ä¿å¯¹åº”æ”¹å†™ CRA æµç¨‹çš„é…ç½®ç”Ÿæ•ˆï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ® `react-app-rewired` çš„æ–‡æ¡£è¯´æ˜åœ¨æ ¹ç›®å½•ä¸‹å»ºç«‹ `config-overrides.js` æ–‡ä»¶ï¼Œå¹¶åœ¨å…¶ä¸­ç¼–å†™å¦‚ä¸‹çš„å†…å®¹ï¼š

```js config-overrides.js https://github.com/pftom/typescript-tea/blob/756b2d45f9790caf91ab4c76c23dec06b7bf9da8/config-overrides.js æŸ¥çœ‹å®Œæ•´ä»£ç 
const { override, fixBabelImports, addLessLoader } = require("customize-cra");
const darkThemeVars = require("antd/dist/dark-theme");

module.exports = override(
  fixBabelImports("import", {
    libraryName: "antd",
    libraryDirectory: "es",
    style: true
  }),
  addLessLoader({
    javascriptEnabled: true,
    modifyVars: {
      hack: `true;@import "${require.resolve(
        "antd/lib/style/color/colorPalette.less"
      )}";`,
      ...darkThemeVars,
      "@primary-color": "#02b875"
    }
  })
);
```

å¯ä»¥çœ‹åˆ°ï¼Œä¸Šé¢çš„ä»£ç ä¸»è¦æ˜¯å¯¼å‡ºä¸€ä¸ªç”¨äºä¿®æ”¹ Webpack é…ç½®çš„å¯¹è±¡ï¼Œä½¿ç”¨ `override` APIï¼Œæ¥æ”¶ä¸¤ä¸ªä¿®æ”¹é…ç½®çš„å‡½æ•°è°ƒç”¨ï¼Œ`fixBabelImports` ç”¨äºé…ç½® antd çš„æŒ‰éœ€å¼•ç”¨ï¼Œ`addLessLoader` ç”¨äºé…ç½® antd çš„ä¸»é¢˜ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº† Ant Design 4.0 æ–°å¸¦æ¥çš„ Dark Modeï¼ˆæš—è‰²æ¨¡å¼ï¼‰ï¼Œç„¶åé…ç½®äº†ä¸»é¢˜è‰²ä¸ºå›¾é›€ç¤¾åŒºçš„ä¸»é¢˜è‰²ï¼š`#02b875` ï¼Œä»£è¡¨å¸Œæœ›çš„ç»¿è‰²ã€‚ğŸ˜†

è‡ªæ­¤ï¼Œæˆ‘ä»¬å°±å¼•å…¥äº† antd ç»„ä»¶åº“ï¼Œå¹¶è¿›è¡Œäº†æŒ‰éœ€é…ç½®ä½¿ç”¨ä»¥åŠé…ç½®ä¸»é¢˜è‰²å’Œä½¿ç”¨äº† Ant Design æœ€æ–°çš„æš—è‰²ä¸»é¢˜ -- Dark Modeã€‚

### ç¼–å†™åˆå§‹ä»£ç 

#### å‡†å¤‡é€»è¾‘éƒ¨åˆ†

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ antd å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿçš„ç¼–å†™ä¸€ä¸‹æˆ‘ä»¬å³å°†å®ç°çš„å¾…åŠäº‹é¡¹çš„ç•Œé¢ï¼Œæ‰“å¼€ `src/App.tsx` ï¼Œå¯¹å…¶ä¸­çš„ä»£ç åšå‡ºå¯¹åº”çš„ä¿®æ”¹å¦‚ä¸‹ï¼š

```ts src/App.tsx https://github.com/pftom/typescript-tea/blob/756b2d45f9790caf91ab4c76c23dec06b7bf9da8/src/App.tsx æŸ¥çœ‹å®Œæ•´ä»£ç 
[tuture-del]import React from 'react';
[tuture-del]import logo from './logo.svg';
[tuture-del]import './App.css';
[tuture-add]import React, { useState, useRef } from "react";
[tuture-add]import {
[tuture-add]  List,
[tuture-add]  Avatar,
[tuture-add]  Button,
[tuture-add]  Typography,
[tuture-add]  Form,
[tuture-add]  Input,
[tuture-add]  Select,
[tuture-add]  DatePicker,
[tuture-add]  Menu,
[tuture-add]  Dropdown,
[tuture-add]  Tabs
[tuture-add]} from "antd";
[tuture-add]import { DownOutlined } from "@ant-design/icons";

[tuture-del]function App() {
[tuture-add]import "./App.css";
[tuture-add]import logo from "./logo.svg";
[tuture-add] 
[tuture-add]const { Title } = Typography;
[tuture-add]const { Option } = Select;
[tuture-add]const { TabPane } = Tabs;
[tuture-add] 
[tuture-add]const todoListData = [
[tuture-add]  {
[tuture-add]    content: "å›¾é›€ç¤¾åŒºï¼šæ±‡èšç²¾å½©çš„å…è´¹å®æˆ˜æ•™ç¨‹",
[tuture-add]    user: "mRcfps",
[tuture-add]    time: "2020å¹´3æœˆ2æ—¥ 19:34",
[tuture-add]    isCompleted: false
[tuture-add]  },
[tuture-add]  {
[tuture-add]    content: "å›¾é›€ç¤¾åŒºï¼šæ±‡èšç²¾å½©çš„å…è´¹å®æˆ˜æ•™ç¨‹",
[tuture-add]    user: "pftom",
[tuture-add]    time: "2020å¹´3æœˆ2æ—¥ 19:34",
[tuture-add]    isCompleted: false
[tuture-add]  },
[tuture-add]  {
[tuture-add]    content: "å›¾é›€ç¤¾åŒºï¼šæ±‡èšç²¾å½©çš„å…è´¹å®æˆ˜æ•™ç¨‹",
[tuture-add]    user: "Holy",
[tuture-add]    time: "2020å¹´3æœˆ2æ—¥ 19:34",
[tuture-add]    isCompleted: false
[tuture-add]  },
[tuture-add]  {
[tuture-add]    content: "å›¾é›€ç¤¾åŒºï¼šæ±‡èšç²¾å½©çš„å…è´¹å®æˆ˜æ•™ç¨‹",
[tuture-add]    user: "crxk",
[tuture-add]    time: "2020å¹´3æœˆ2æ—¥ 19:34",
[tuture-add]    isCompleted: false
[tuture-add]  },
[tuture-add]  {
[tuture-add]    content: "å›¾é›€ç¤¾åŒºï¼šæ±‡èšç²¾å½©çš„å…è´¹å®æˆ˜æ•™ç¨‹",
[tuture-add]    user: "Pony",
[tuture-add]    time: "2020å¹´3æœˆ2æ—¥ 19:34",
[tuture-add]    isCompleted: false
[tuture-add]  }
[tuture-add]];
[tuture-add] 
[tuture-add]const userList = [
[tuture-add]  {
[tuture-add]    id: "666666666",
[tuture-add]    name: "å›¾é›€ç¤¾åŒº",
[tuture-add]    avatar: "https://avatars0.githubusercontent.com/u/39240800?s=60&v=4"
[tuture-add]  },
[tuture-add]  {
[tuture-add]    id: "23410977",
[tuture-add]    name: "mRcfps",
[tuture-add]    avatar: "https://avatars0.githubusercontent.com/u/23410977?s=96&v=4"
[tuture-add]  },
[tuture-add]  {
[tuture-add]    id: "25455350",
[tuture-add]    name: "crxk",
[tuture-add]    avatar: "https://avatars1.githubusercontent.com/u/25455350?s=96&v=4"
[tuture-add]  },
[tuture-add]  {
[tuture-add]    id: "23410977",
[tuture-add]    name: "pftom",
[tuture-add]    avatar: "https://avatars0.githubusercontent.com/u/23410977?s=96&v=4"
[tuture-add]  },
[tuture-add]  {
[tuture-add]    id: "58352313",
[tuture-add]    name: "holy",
[tuture-add]    avatar: "https://avatars0.githubusercontent.com/u/58352313?s=96&v=4"
[tuture-add]  }
[tuture-add]];
[tuture-add] 
[tuture-add]const menu = (
[tuture-add]  <Menu>
[tuture-add]    <Menu.Item>å®Œæˆ</Menu.Item>
[tuture-add]    <Menu.Item>åˆ é™¤</Menu.Item>
[tuture-add]  </Menu>
[tuture-add]);
[tuture-add] 
[tuture-add]const TodoInput = ({ value = {} }) => {
  return (
[tuture-del]    <div className="App">
[tuture-del]      <header className="App-header">
[tuture-del]        <img src={logo} className="App-logo" alt="logo" />
[tuture-del]        <p>
[tuture-del]          Edit <code>src/App.tsx</code> and save to reload.
[tuture-del]        </p>
[tuture-del]        <a
[tuture-del]          className="App-link"
[tuture-del]          href="https://reactjs.org"
[tuture-del]          target="_blank"
[tuture-del]          rel="noopener noreferrer"
[tuture-add]    <div className="todoInput">
[tuture-add]      <Input type="text" placeholder="è¾“å…¥å¾…åŠäº‹é¡¹å†…å®¹" />
[tuture-add]      <Select style={{ width: 80 }} size="small" defaultValue="666666666">
[tuture-add]        {userList.map(user => (
[tuture-add]          <Option value={user.id}>{user.name}</Option>
[tuture-add]        ))}
[tuture-add]      </Select>
[tuture-add]      <DatePicker
[tuture-add]        size="small"
[tuture-add]        style={{ marginLeft: "16px", marginRight: "16px" }}
[tuture-add]      />
[tuture-add]    </div>
[tuture-add]  );
[tuture-add]};
[tuture-add] 
[tuture-add]function TodoList() {
[tuture-add]  return (
[tuture-add]    <List
[tuture-add]      className="demo-loadmore-list"
[tuture-add]      itemLayout="horizontal"
[tuture-add]      dataSource={todoListData}
[tuture-add]      renderItem={item => (
[tuture-add]        <List.Item
[tuture-add]          actions={[
[tuture-add]            <Dropdown overlay={menu}>
[tuture-add]              <a key="list-loadmore-more">
[tuture-add]                æ“ä½œ <DownOutlined />
[tuture-add]              </a>
[tuture-add]            </Dropdown>
[tuture-add]          ]}
        >
[tuture-del]          Learn React
[tuture-del]        </a>
[tuture-del]      </header>
[tuture-add]          <List.Item.Meta
[tuture-add]            avatar={
[tuture-add]              <Avatar src="https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png" />
[tuture-add]            }
[tuture-add]            title={<a href="https://ant.design">{item.user}</a>}
[tuture-add]            description={item.time}
[tuture-add]          />
[tuture-add]          <div>{item.content}</div>
[tuture-add]        </List.Item>
[tuture-add]      )}
[tuture-add]    />
[tuture-add]  );
[tuture-add]}
[tuture-add] 
[tuture-add]function App() {
[tuture-add]  const callback = () => {};
[tuture-add] 
[tuture-add]  const onFinish = () => {};
[tuture-add]  const ref = useRef(null);
[tuture-add] 
[tuture-add]  return (
[tuture-add]    <div className="App" ref={ref}>
[tuture-add]      <div className="container header">
[tuture-add]        <img src={logo} alt="" />
[tuture-add]        <Title level={3}>å›¾é›€ç¤¾åŒºï¼šæ±‡èšç²¾å½©çš„å…è´¹å®æˆ˜æ•™ç¨‹</Title>
[tuture-add]      </div>
[tuture-add]      <div className="container">
[tuture-add]        <Form onFinish={onFinish}>
[tuture-add]          <Form.Item name="todo">
[tuture-add]            <TodoInput />
[tuture-add]          </Form.Item>
[tuture-add]        </Form>
[tuture-add]      </div>
[tuture-add]      <div className="container">
[tuture-add]        <Tabs onChange={callback} type="card">
[tuture-add]          <TabPane tab="æ‰€æœ‰" key="1">
[tuture-add]            <TodoList />
[tuture-add]          </TabPane>
[tuture-add]          <TabPane tab="è¿›è¡Œä¸­" key="2">
[tuture-add]            <TodoList />
[tuture-add]          </TabPane>
[tuture-add]          <TabPane tab="å·²å®Œæˆ" key="3">
[tuture-add]            <TodoList />
[tuture-add]          </TabPane>
[tuture-add]        </Tabs>
[tuture-add]      </div>
    </div>
  );
}
 // ...
```

ä¸Šé¢çš„ä»£ç ä¸»è¦å°±æ˜¯ä¸€ç³»åˆ—åˆå§‹æ•°æ®çš„å‡†å¤‡ï¼Œantd ç»„ä»¶çš„ä½¿ç”¨ï¼Œç¼–å†™èµ·æ¥çš„å¤§è‡´è½®å»“ï¼Œè¿˜æ²¡æœ‰æ¶‰åŠåˆ°ä»»ä½•çš„ TS è¯­æ³•ï¼Œä½†è¿™ä¸ªæ˜¯æˆ‘ä»¬å¼€å§‹é¡¹ç›®çš„åŸºç¡€ï¼Œè¯»è€…åªéœ€è¦è¿›è¡Œç®€å•çš„å¤åˆ¶æ”¾è¿›ç°æœ‰çš„ `typescript-tea` é¡¹ç›®ä¸­å¯¹åº”çš„ `src/App.tsx`  ä¸­å³å¯ã€‚

#### å‡†å¤‡æ ·å¼éƒ¨åˆ†

å‡†å¤‡äº†é€»è¾‘ä»£ç ä¹‹åï¼Œä¸ºäº†è®©æˆ‘ä»¬æœ€åçš„å¾…åŠäº‹é¡¹åœ¨æ ·å¼ä¸Šæ›´ç¾è§‚ä¸€ç‚¹ï¼Œä¹Ÿåˆ©äºæˆ‘ä»¬è®²è§£æ—¶çš„æ“ä½œï¼Œæˆ‘ä»¬éœ€è¦ç»™é¡¹ç›®åŠ ä¸€ç‚¹æ ·å¼ï¼Œæ‰“å¼€ `src/App.css` å¯¹å…¶ä¸­çš„ä»£ç åšå‡ºå¯¹åº”çš„ä¿®æ”¹å¦‚ä¸‹ï¼š

```css src/App.css https://github.com/pftom/typescript-tea/blob/756b2d45f9790caf91ab4c76c23dec06b7bf9da8/src/App.css æŸ¥çœ‹å®Œæ•´ä»£ç 
.App {
[tuture-del]  text-align: center;
[tuture-add]  display: flex;
[tuture-add]  flex-direction: column;
[tuture-add]  align-items: center;
[tuture-add]  padding-top: 60px;
[tuture-add]}
[tuture-add] 
[tuture-add].container {
[tuture-add]  width: 600px;
}

[tuture-del].App-logo {
[tuture-del]  height: 40vmin;
[tuture-del]  pointer-events: none;
[tuture-add].header {
[tuture-add]  text-align: center;
[tuture-add]  margin-bottom: 56px;
}

[tuture-del]@media (prefers-reduced-motion: no-preference) {
[tuture-del]  .App-logo {
[tuture-del]    animation: App-logo-spin infinite 20s linear;
[tuture-del]  }
[tuture-add].header img {
[tuture-add]  width: 160px;
[tuture-add]  height: 160px;
[tuture-add]  margin-bottom: 24px;
}

[tuture-del].App-header {
[tuture-del]  background-color: #282c34;
[tuture-del]  min-height: 100vh;
[tuture-add].todoInput {
  display: flex;
[tuture-del]  flex-direction: column;
[tuture-add]  flex-direction: row;
  align-items: center;
[tuture-del]  justify-content: center;
[tuture-del]  font-size: calc(10px + 2vmin);
[tuture-del]  color: white;
[tuture-del]}
[tuture-del] 
[tuture-del].App-link {
[tuture-del]  color: #61dafb;
[tuture-add]  height: 40px;
[tuture-add]  border: 1px solid #434343;
}

[tuture-del]@keyframes App-logo-spin {
[tuture-del]  from {
[tuture-del]    transform: rotate(0deg);
[tuture-del]  }
[tuture-del]  to {
[tuture-del]    transform: rotate(360deg);
[tuture-del]  }
[tuture-add].todoInput input {
[tuture-add]  border: none;
}
```

å¥½äº†ï¼æ‰€æœ‰çš„å‡†å¤‡å·¥ä½œå·²ç»å°±ç»ªï¼Œåœ¨å¼€å§‹ä¸‹ä¸€èŠ‚çœŸæ­£çš„ TS å­¦ä¹ ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸€ä¸‹æˆ‘ä»¬åœ¨è¿™ä¸ªå°èŠ‚ä¸­æ‰€å®Œæˆçš„å·¥ä½œï¼š

- ä½¿ç”¨ CRA çš„ TypeScript è„šæœ¬åˆå§‹åŒ–äº†ä¸€ä¸ª TS ç‰ˆçš„ React é¡¹ç›®
- å®‰è£…äº† antd ç»„ä»¶åº“ï¼Œå¹¶ä½¿ç”¨ `react-app-rewired` æ›¿æ¢é»˜è®¤çš„ `react-scripts` æ¥å®Œæˆå¯¹ CRA çš„ Webpack é…ç½®è¿›è¡Œä¿®æ”¹ï¼Œä»¥æ˜¯æˆ‘ä»¬å¯ä»¥è·å¾— antd ç»„ä»¶çš„æŒ‰éœ€å¼•ç”¨å’Œä¸»é¢˜å®šåˆ¶çš„åŠŸèƒ½
- å‡†å¤‡äº†åˆå§‹å¾…åŠäº‹é¡¹ä»£ç çš„é€»è¾‘éƒ¨åˆ†å’Œæ ·å¼éƒ¨åˆ†

æˆ‘ä»¬åœ¨å‰é¢é“ºå«äº†å¤§é‡çš„ TypeScript çš„ä¼˜ç‚¹ä»¥åŠèŠ±äº†ä¸å°‘ç¬”å¢¨æ¥å‡†å¤‡åˆå§‹ä»£ç ï¼Œæƒ³å¿…è¯»åˆ°è¿™é‡Œçš„è¯»è€…ä»¬å¯èƒ½å·²ç»ç­‰ä¸åŠè¦é©¬ä¸Šè§è¯†ä¸€ä¸‹ TS çš„åºå±±çœŸé¢ç›®äº†å§ï¼é©¬ä¸Šå°±æ¥å•¦ï¼

> æœ¬æ–‡æ‰€æ¶‰åŠçš„æºä»£ç éƒ½æ”¾åœ¨äº† [Github](https://github.com/tuture-dev/typescript-tea)Â  æˆ–è€… [Gitee](https://gitee.com/tuture/typescript-tea) ä¸Šï¼Œå¦‚æœæ‚¨è§‰å¾—æˆ‘ä»¬å†™å¾—è¿˜ä¸é”™ï¼Œå¸Œæœ›æ‚¨èƒ½ç»™**â¤ï¸è¿™ç¯‡æ–‡ç« ç‚¹èµ+**[**Github**](https://github.com/tuture-dev/typescript-tea)** æˆ– **[**Gitee**](https://gitee.com/tuture/typescript-tea)** ä»“åº“åŠ æ˜Ÿâ¤**ï¸å“¦~

![](https://user-gold-cdn.xitu.io/2019/12/19/16f1ddb37a4d47a8?w=900&h=500&f=png&s=138401)