---
title: 'ç±»å‹å³æ­£ä¹‰ï¼šTypeScript ä»å…¥é—¨åˆ°å®è·µï¼ˆä¸€ï¼‰'
description: 'JavaScript å·²ç»å é¢†äº†ä¸–ç•Œä¸Šçš„æ¯ä¸€ä¸ªè§’è½ï¼Œèƒ½è®¿é—®ç½‘é¡µçš„åœ°æ–¹ï¼ŒåŸºæœ¬ä¸Šå°±æœ‰ JavaScript åœ¨è¿ä½œï¼Œç„¶è€Œ JavaScript å› ä¸ºå…¶åŠ¨æ€ã€å¼±ç±»å‹ã€è§£é‡Šå‹è¯­è¨€çš„ç‰¹æ€§ã€å‡ºé”™çš„è°ƒç”¨æ ˆéšè”½ï¼Œä½¿å¾—å¼€å‘è€…ä¸ä»…åœ¨è°ƒè¯•é”™è¯¯ä¸ŠèŠ±è´¹å¤§æŠŠæ—¶é—´ï¼Œåœ¨å›¢é˜Ÿåä½œå¼€å‘æ—¶ç†è§£é˜Ÿå‹ç¼–å†™ä»£ç ä¹Ÿæå…¶å›°éš¾ã€‚TypeScript çš„å‡ºç°æå¤§çš„è§£å†³äº†ä¸Šé¢çš„é—®é¢˜ï¼ŒTypeScript -- ä¸€ä¸ª JavaScript çš„è¶…é›†ï¼Œå®ƒä½œä¸ºä¸€é—¨ç¼–è¯‘å‹è¯­è¨€ï¼Œæä¾›äº†å¯¹ç±»å‹ç³»ç»Ÿå’Œæœ€æ–° ES è¯­æ³•çš„æ”¯æŒï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥åœ¨äº«å—ä½¿ç”¨ ES æœ€æ–°è¯­æ³•çš„ç¼–å†™ä»£ç çš„åŒæ—¶ï¼Œè¿˜èƒ½åœ¨å†™ä»£ç çš„è¿‡ç¨‹ä¸­å°±è§„é¿å¾ˆå¤šæ½œåœ¨çš„è¯­æ³•ã€è¯­ä¹‰é”™è¯¯ï¼›å¹¶ä¸”å…¶æä¾›çš„ç±»å‹ç³»ç»Ÿä½¿å¾—æˆ‘ä»¬å¯ä»¥åœ¨å›¢é˜Ÿåä½œç¼–å†™ä»£ç æ—¶å¯ä»¥å¾ˆå®¹æ˜“çš„äº†è§£é˜Ÿå‹ä»£ç çš„å«ä¹‰ï¼šè¾“å…¥å’Œè¾“å‡ºï¼Œå¤§å¤§æé«˜äº†å›¢é˜Ÿåä½œç¼–å†™å¤§å‹ä¸šåŠ¡åº”ç”¨çš„æ•ˆç‡ã€‚åœ¨ç°ä»£ JavaScript ä¸–ç•Œä¸­ï¼Œå·²ç»æœ‰å¾ˆå¤šå¤§å‹åº“åœ¨ä½¿ç”¨ TypeScript é‡æ„ï¼ŒåŒ…æ‹¬å‰ç«¯ä¸‰å¤§æ¡†æ¶ï¼šReactã€Vueã€Angularï¼Œè¿˜æœ‰çŸ¥åçš„ç»„ä»¶åº“ antdï¼Œmaterialï¼Œåœ¨å¾ˆå¤šå…¬å¸å†…éƒ¨çš„å¤§å‹ä¸šåŠ¡åº”ç”¨ä¹Ÿåœ¨ç”¨ TypeScript å¼€å‘ç”šè‡³é‡å†™ç°æœ‰çš„åº”ç”¨ï¼Œæ‰€ä»¥å¦‚æœä½ æƒ³ç¼–å†™å¤§å‹ä¸šåŠ¡åº”ç”¨æˆ–åº“ï¼Œæˆ–è€…æƒ³å†™å‡ºæ›´åˆ©äºå›¢é˜Ÿåä½œçš„ä»£ç ï¼Œé‚£ä¹ˆ TypeScript æœ‰åè¶³çš„ç†ç”±å€¼å¾—ä½ å­¦ä¹ ï¼æœ¬æ–‡æ˜¯ TypeScript ç³»åˆ—æ•™ç¨‹çš„ç¬¬ä¸€ç¯‡ï¼Œä¸»è¦é€šè¿‡ä½¿ç”¨ antd ç»„ä»¶åº“å®æˆ˜æ¼”ç»ƒä¸€ä¸ª TypeScript ç‰ˆæœ¬ React TodoList åº”ç”¨æ¥è®²è§£ TypeScript çš„è¯­æ³•ï¼Œä½¿å¾—ä½ èƒ½åœ¨å­¦ä¼šè¯­æ³•çš„åŒæ—¶è¿˜èƒ½å®Œæˆä¸€ä¸ªå®é™…å¯è¿è¡Œçš„é¡¹ç›®ã€‚'
tags: ['TypeScript', 'React']
date: 2020-04-06T01:46:37.842Z
photos:
  - https://static.powerformer.com/c/cea18bc864f7a9b94223dcc718646b02/ts2-5185d2d4eef2179f.png
---

<div class="profileBox">
  <div class="avatarBox">
    <a href="https://github.com/pftom"><img src="/images/avatars/pftom.jpg" alt="" class="avatar"></a>
  </div>
  <div class="rightBox">
    <div class="infoBox">
    <a href="https://github.com/pftom"><p class="nickName">@pftom</p></a>
  </div>
  <div class="codeBox">
    <a href="https://github.com/pftom/typescript-tea"><span class="codeText">æŸ¥çœ‹ä»£ç </span></a>
  </div>
  </div>
</div>

## TypeScript åˆæ¢

æ­£å¼ TS æ—¶é—´ â˜•ï¸ï¼ŒTS æ˜¯ä¸€é—¨é™æ€ç¼–ç¨‹è¯­è¨€ï¼Œå®ƒæ˜¯ JavaScript çš„è¶…é›†ã€‚é¦–å…ˆæˆ‘ä»¬å…ˆæ¥è§£é‡Šä¸€ä¸‹ä»€ä¹ˆæ˜¯ç¼–ç¨‹è¯­è¨€ï¼Œç„¶åæˆ‘ä»¬å†æ¥å¼•å‡º TypeScript æ˜¯ä»€ä¹ˆã€‚

### ç¼–ç¨‹è¯­è¨€æ˜¯ä»€ä¹ˆï¼Ÿ

é‚£ä¹ˆä»€ä¹ˆæ˜¯ç¼–ç¨‹è¯­è¨€äº†ï¼Ÿç¼–ç¨‹è¯­è¨€æ˜¯ç”¨æ¥å®šä¹‰è®¡ç®—æœºç¨‹åºçš„å½¢å¼è¯­è¨€ã€‚å®ƒæ˜¯ä¸€ç§è¢«æ ‡å‡†åŒ–çš„äº¤æµæŠ€å·§ï¼Œç”¨æ¥å‘è®¡ç®—æœºå‘å‡ºæŒ‡ä»¤ã€‚

æˆ‘ä»¬æ‹¿ JS æ¥ä¸¾ä¾‹ï¼Œä¸€é—¨æ ‡å‡†çš„ç¼–ç¨‹è¯­è¨€ä¸€èˆ¬åŒ…å«å¦‚ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š

- æ•°æ®ç»“æ„ï¼šå¦‚åŸå§‹æ•°æ®ç±»å‹ string/number/void ç­‰ï¼ŒéåŸå§‹æ•°æ®ç±»å‹ array/object/enum ç­‰
- æ§åˆ¶ç»“æ„ï¼šå¦‚ if/else ã€ switch ã€whileã€for å¾ªç¯ç­‰
- ç»„ç»‡ç»“æ„ï¼šå¦‚ å‡½æ•°ã€ç±»
- ç‰¹æ€§ï¼šå¦‚ JS çš„åŸå‹é“¾
- å¸¸ç”¨çš„ APIï¼šå¦‚ isNaN åˆ¤æ–­æ˜¯ä¸æ˜¯éæ•°å­—ï¼ŒtoFixed å°†å°æ•°è¿›è¡Œå››èˆäº”å…¥æ“ä½œ
- è¿è¡Œç¯å¢ƒï¼šå¦‚ æµè§ˆå™¨ç«¯çš„ JavaScriptã€æœåŠ¡å™¨ç«¯çš„ Node

å…¶ä¸­å‰äº”ç§åˆç§°ä¸ºè¯­è¨€å†…æ ¸ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸å¸¸å–Šçš„ ECMAScript 2015ï¼Œæˆ–è€… ES6ï¼›æœ€åä¸€ä¸ªè¿è¡Œç¯å¢ƒåœ¨æµè§ˆå™¨ç«¯ç»“åˆ BOM/DOM å³æˆä¸º JavaScriptï¼Œåœ¨æœåŠ¡å™¨ç«¯ç»“åˆä¸€äº›æ–‡ä»¶/ç½‘ç»œçš„æ“ä½œå³æˆä¸º Nodeã€‚

### TypeScript æ˜¯ä»€ä¹ˆï¼Ÿ

è€Œ TSï¼Œä½œä¸º JavaScript çš„è¶…é›†ï¼ŒåŒ…å«ç€ä¸¤ç±»å±æ€§ï¼š

- å±äº JavaScript ç«¯çš„ç¼–ç¨‹è¯­è¨€ç‰¹æ€§ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥æ‰§è¡Œå„ç§ JavaScript ç›¸å…³çš„æ“ä½œï¼šå˜é‡å£°æ˜ã€ç¼–å†™ if/else æ§åˆ¶æµã€ä½¿ç”¨å¾ªç¯å¤„ç†é‡å¤ä»»åŠ¡ã€ä½¿ç”¨å‡½æ•°æ‰§è¡Œç‰¹å®šçš„ä»»åŠ¡å—ã€ä½¿ç”¨ç±»æ¥ç»„ç»‡å’Œå¤ç”¨ä»£ç å’Œæ¨¡æ‹ŸçœŸå®ä¸–ç•Œçš„æ“ä½œç­‰ï¼Œè¿˜æœ‰æ–°ç‰¹æ€§æ¯”å¦‚ï¼šè£…é¥°å™¨ã€Iteratorã€Generator è¿™äº›ã€‚è¿™ç±»ç‰¹æ€§åœ¨æ­¤ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬é»˜è®¤ä½ å·²ç»å¾ˆæ¸…æ¥šäº†ï¼Œä¸ä¼šåšè¿‡å¤šçš„è®²è§£ã€‚
- å±äº TypeScript ç«¯ç‹¬æœ‰çš„ç‰¹æ€§ï¼šç±»å‹ï¼Œå®ƒä¹Ÿå…·æœ‰ä¸€å¥—ç¼–ç¨‹è¯­è¨€çš„ç‰¹æ€§ï¼Œæ¯”å¦‚æ ‡å¿—ä¸€ä¸ªå˜é‡æ˜¯ string ç±»å‹ï¼Œä¸€ä¸ªå‡½æ•°çš„å‚æ•°æœ‰ä¸‰ä¸ªï¼Œå®ƒä»¬çš„ç±»å‹åˆ†åˆ«æ˜¯ string/number/booleanï¼Œè¿”å›ç±»å‹ä¸º never ç­‰ï¼Œè¿™æ˜¯åŸºç¡€ç±»å‹ï¼Œæˆ‘ä»¬ç”šè‡³å¯ä»¥åŸºäºç±»å‹è¿›è¡Œç¼–ç¨‹ï¼Œä½¿ç”¨ç±»å‹ç‰ˆæœ¬çš„æ§åˆ¶ã€ç»„ç»‡ç»“æ„æ¥å®Œæˆé«˜çº§ç±»å‹çš„ç¼–å†™ï¼Œè¿›è€Œå°†ç±»å‹é™„ç€åœ¨ JavaScript å¯¹åº”çš„ç¼–ç¨‹è¯­è¨€ç‰¹æ€§ä¸Šï¼Œå°† JS é™æ€åŒ–ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥åœ¨ç¼–è¯‘æœŸé—´å°±èƒ½å‘ç°ç±»å‹ä¸Šçš„é”™è¯¯ï¼Œè¿™ä¸€ç‰¹æ€§æ˜¯æˆ‘ä»¬æœ¬ç¯‡æ–‡ç« çš„é‡ç‚¹ã€‚

å¥½çš„ï¼Œè¯»åˆ°è¿™é‡Œï¼Œç›¸æ¯”å¾ˆå¤šè¯»è€…å·²ç»æ¸…æ¥šäº†ï¼Œå…¶å® TS æ²¡ä»€ä¹ˆç¥ç§˜çš„ï¼Œä¸»è¦å°±æ˜¯è®¾è®¡äº†ä¸€å¥—ç±»ä¼¼ç¼–ç¨‹è¯­è¨€çš„ç±»å‹è¯­è¨€ï¼Œç„¶åå°†è¿™äº›ç±»å‹é™„ç€åœ¨åŸ JavaScript çš„è¯­è¨€ä¹‹ä¸Šï¼Œç»™å…¶åŠ ä¸Šç±»å‹é™åˆ¶ä½¿å¾—å…¶é™æ€åŒ–ï¼Œè¿›è€Œå¯ä»¥å¿«é€Ÿçš„åœ¨ç¼–å†™æ—¶å‘ç°å¾ˆå¤šæ½œåœ¨çš„é—®é¢˜ï¼Œå¸®åŠ©æˆ‘ä»¬ç¼–å†™é”™è¯¯ç‡æ›´ä½ï¼Œæ›´é€‚åˆå›¢é˜Ÿåä½œçš„ä»£ç ï¼Œè¿™ä¹Ÿæ˜¯ TypeScript é€‚åˆç¼–å†™å¤§å‹çš„ä¸šåŠ¡åº”ç”¨çš„åŸå› ã€‚

### ç±»å‹è¯­è¨€ä¹‹æ•°æ®ç»“æ„

å…¶ä¸­ TS æ•°æ®ç»“æ„åˆåŒ…å«åŸå§‹ç±»å‹ã€éåŸå§‹ç±»å‹ã€ç‰¹æ®Šç±»å‹å’Œé«˜çº§ç±»å‹ç­‰å‡ ç±»ã€‚æˆ‘ä»¬å°†ç»“åˆåœ¨ TS ç±»å‹ä¾§çš„å®šä¹‰ï¼Œä»¥åŠé™„ç€åœ¨ JS ä¸Šè¿›è¡Œå®æˆ˜æ¥è®²è§£ã€‚

#### åŸå§‹ç±»å‹

##### TS ç±»å‹ä¾§çš„å®šä¹‰

å’Œ JS ä¸­çš„åŸå§‹æ•°æ®ç±»å‹ä¸€æ ·ï¼ŒTS å¯¹åº”ç€ä¸€è‡´çš„ç±»å‹å®šä¹‰ï¼ŒåŒ…æ‹¬ä¸‹é¢å…«ç§ï¼š

- number
- string
- boolean
- null
- undefined
- void
- symbol
- bigint

{% note info %}
**æç¤º**

å…¶ä¸­å‰å…­ç§æ˜¯ ES5 ä¸­å°±æœ‰çš„ï¼Œsymbol ä» ES6 å¼€å§‹å¼•å…¥ï¼Œbigint æ˜¯ ES2020 æ–°å¼•è¿›çš„ã€‚
{% endnote %}

ä¸Šé¢æ˜¯ TS çš„åŸå§‹ç±»å‹ï¼Œæˆ‘ä»¬ä¹‹å‰æåˆ° TS å°±æ˜¯å°†ç±»å‹é™„ç€åœ¨ JS ä¸Šï¼Œå°†å…¶ç±»å‹åŒ–ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹çœ‹ä¸Šé¢çš„åŸå§‹ç±»å‹å¦‚ä½•é™„ç€åœ¨ JS ä¸Šï¼Œå°†å…¶ç±»å‹åŒ–ã€‚

##### é™„ç€åœ¨ JS ä¸Šçš„å®æˆ˜

TS é€šè¿‡ç‹¬ç‰¹çš„**å†’å·è¯­æ³•**æ¥å°†å…¶ç±»å‹ä¾§å®šä¹‰çš„ç±»å‹é™„ç€åœ¨ JS ä¸Šï¼Œæˆ‘ä»¬æ¥çœ‹å‡ ä¸ªä¾‹å­ï¼š

ç”¨ JS è¯­è¨€æ¥å†™å›¾é›€ç¤¾åŒºçš„ Sloganï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šè¿™ä¹ˆå†™ï¼š

```js
const tutureSlogan = 'å›¾é›€ç¤¾åŒºï¼Œæ±‡èšç²¾å½©çš„å…è´¹å®æˆ˜æ•™ç¨‹';
```

æˆ‘ä»¬å¯ä»¥ç¡®å®šï¼Œè¿™å¥ Slogan æ˜¯ä¸€ä¸ª string ç±»å‹çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨å¯¹åº”çš„ TS ç±»å‹é™„ç€åœ¨å…¶å˜é‡å®šä¹‰ä¸Šå¦‚ä¸‹ï¼š

```typescript
const tutureSlogan: string = 'å›¾é›€ç¤¾åŒºï¼Œæ±‡èšç²¾å½©çš„å…è´¹å®æˆ˜æ•™ç¨‹';
```

è¿™æ ·æˆ‘ä»¬å°±ç»™åŸ JS çš„ `tutureSlogan` å˜é‡åŠ ä¸Šäº†ç±»å‹å®šä¹‰ï¼Œå®ƒæ˜¯ä¸€ä¸ª `string` ç±»å‹çš„å˜é‡ï¼Œé€šè¿‡è¿™æ ·çš„æ“ä½œï¼ŒåŸ JS å˜é‡çš„ç±»å‹å°±è¢«é™æ€åŒ–äº†ï¼Œåœ¨åˆå§‹åŒ–æ—¶ï¼Œå°±ä¸èƒ½å†èµ‹å€¼å…¶ä»–çš„ç±»å‹ç»™è¿™ä¸ª `tutureSlogan` å˜é‡äº†ï¼Œæ¯”å¦‚æˆ‘ä»¬å°† `number` ç±»å‹çš„å­—é¢é‡èµ‹å€¼ç»™ `tutureSlogan` ï¼Œå°±ä¼šæŠ¥é”™ï¼š

```ts
const tutureSlogan: string = 5201314; // æŠ¥é”™ Type '5201314' is not assignable to Type 'string'
```

è¿™å°±æ˜¯ TS çš„å¼ºå¤§ä¹‹å¤„ï¼Œå½“å›¢é˜Ÿç¼–ç æ—¶äº‹å…ˆçº¦å®šå¥½æ•°æ®çš„ç±»å‹ï¼Œé‚£ä¹ˆåç»­ç¼–å†™å¹¶è°ƒç”¨è¿™äº›è®¾ç½®å¥½ç±»å‹çš„å˜é‡æ—¶å°±ä¼šå¼ºåˆ¶èµ·çº¦æŸä½œç”¨ï¼Œå°±åƒä¸Šé¢çš„ä»£ç ä¸€æ ·ï¼Œå¦‚æœç»™ `tutureSlogan` èµ‹å€¼ `5201314` å°±ä¼šæŠ¥é”™ï¼Œå…¶å®ä½ å¤§å¯å…‹åˆ¶ä¸€ç‚¹å¯¹å§ ğŸ˜Œï¼Œç»™ `5201314` åŠ ä¸ªé™åˆ¶ï¼Œä¸¤è¾¹å¸¦ä¸Šå¼•å· `'5201314'` é—®é¢˜å°±è¿åˆƒè€Œè§£äº†ï¼Œçˆ±ä¹Ÿå¯ä»¥æ˜¯å…‹åˆ¶ ğŸ¤“ã€‚

{% note info %}
**æç¤º**

æœ‰äº›ç»†å¿ƒçš„åŒå­¦å¯èƒ½å¯¹ä¸Šé¢çš„æŠ¥é”™ä¿¡æ¯æœ‰ç‚¹ä¸èƒ½ç†è§£ï¼Œå¯¹äºæŠ¥é”™ä¿¡æ¯çš„ååŠæ®µç±»å‹ `string` å¯èƒ½ç†è§£ï¼Œå› ä¸ºæˆ‘ä»¬ç»™ `tutureSlogan` é™åˆ¶äº† `string` ç±»å‹ï¼Œä½†æ˜¯å¯¹äºæˆ‘ä»¬çš„èµ‹å€¼ `5201314` ï¼Œå®ƒåŸæœ¬æ˜¯ä¸€ä¸ª JS çš„ number ç±»å‹çš„å­—é¢é‡ï¼Œä¸ºä»€ä¹ˆä¹Ÿæˆäº† `Type` äº†ï¼Ÿ

é‚£æ˜¯å› ä¸ºï¼ŒTS å¼•æ“åœ¨å¯¹è¯­å¥è¿›è¡Œç¼–è¯‘çš„æ—¶å€™ï¼Œä¼šå¯¹å˜é‡èµ‹å€¼ä¸¤ç«¯åšä¸€ä¸ªç±»å‹æ¨ç†ï¼Œæ¯”å¦‚å¯¹èµ‹å€¼è¯­å¥çš„å³ä¾§ `5201314` ï¼Œä¼šå°†å…¶æ¨ç†æˆ `5201314` è¿™ä¸ªç±»å‹ï¼Œå®ƒæ˜¯ä¸€ä¸ªå±äº `number` ç±»å‹çš„ä¸€ä¸ªç‰¹æ®Šçš„ `number` ç±»å‹ï¼Œå¯ä»¥è¢«åˆ†é…ï¼ˆ`assignable` )ç»™ `number` ç±»å‹çš„å˜é‡ï¼Œè¿™é‡Œçš„ `assignable` æ˜¯å¯åˆ†é…çš„æ„æ€ï¼Œå°±æ˜¯ä¸€ä¸ªå­ç±»å‹å¯ä»¥è¢«åˆ†é…ç»™ä¸€ä¸ªçˆ¶ç±»å‹ï¼Œæ¯”å¦‚æ•°å­— 1 å¯ä»¥è¢«åˆ†é…ç»™ number æ•°å­—ç±»å‹ï¼Œä½†å› ä¸º number ç±»å‹å’Œ string ç±»å‹æ˜¯å†²çªçš„ï¼Œæ‰€ä»¥è¿™é‡ŒæŠ¥é”™äº†ã€‚

è¿™é‡Œè¯»è€…å¯èƒ½ä¼šæœ‰æ„Ÿè§‰äº†å°±æ˜¯ï¼Œä½ å†™çš„ JS è¯­å¥ï¼ŒåŠ ä¸Šç±»å‹å®šä¹‰ä¹‹åï¼Œåœ¨ TS ç¼–è¯‘å™¨çš„ä¸–ç•Œé‡Œï¼Œä¸€åˆ‡çš†ç±»å‹äº†ï¼Œå®ƒä¼šä»¥ä¸€ç§ç±»å‹çš„è§†è§’å»çœ‹å¾…åŸ JS è¯­å¥ï¼Œæ¯”å¦‚ä¸Šé¢çš„è¯­å¥ï¼Œåœ¨ TS ç¼–è¯‘å™¨çœ¼é‡Œï¼Œå°±æ˜¯ `5201314` ç±»å‹å’Œ `string` ç±»å‹çš„ä¸€ä¸ªæ¯”è¾ƒè¿‡ç¨‹ï¼Œå¦‚æœæ¯”è¾ƒä¸€è‡´ï¼Œé‚£ä¹ˆå¥½çš„ï¼Œæˆ‘ TS ç¼–è¯‘å™¨ä»Šå¤©å°±æ”¾ä½ ä¸€é©¬ï¼Œè®©ä½ é€é¥å¿«æ´»ã€‚
{% endnote %}

##### å°ç»“

æˆ‘ä»¬ä¸Šé¢è¯´åˆ°äº† TS çš„åŸå§‹ç±»å‹ï¼Œä¸€å…±æœ‰å…«ä¸ªä¹‹å¤šï¼Œå¹¶ä¸”é€šè¿‡å…¶ä¸­çš„ `string` ç±»å‹æ¥è®²è§£äº†å¦‚ä½•å°† TS ç±»å‹é™„ç€åœ¨åŸ JS è¯­æ³•ä¸Šä»¥é™æ€åŒ– JS è¯­è¨€ï¼Œå‰©ä¸‹çš„ 7 ä¸ªåŸå§‹ç±»å‹çš„ç”¨æ³•å’Œ `string` ç±»å‹ç±»ä¼¼ï¼Œæˆ‘ä»¬å°†åœ¨ä¹‹åçš„è®²è§£ä¸­é€æ¸ç”¨åˆ°å…¶ä¸­çš„ç±»å‹ã€‚

#### éåŸå§‹ç±»å‹

##### TS ç±»å‹ä¾§çš„å®šä¹‰

åŒæ ·çš„ JS ä¸­çš„éåŸå§‹æ•°æ®ç±»å‹ä¸€æ ·ï¼ŒTS ä¸­ä¹Ÿå­˜åœ¨éåŸå§‹ç±»å‹ï¼Œè¡¨ç¤ºå‡ºäº†å…«ç§åŸå§‹ç±»å‹ä¹‹å¤–çš„ç±»å‹ï¼ŒéåŸå§‹ç±»å‹ä¹Ÿç§°ä¸ºæ˜¯ `object` ç±»å‹ã€‚

å®é™…ä¸Š TS ä¸­è¿˜æœ‰å‡ ä¸ªå¸¸è§çš„éåŸå§‹ç±»å‹ï¼Œä¾‹ä¸¾å¦‚ä¸‹ï¼š

- array
- tuple
- enum

ä¸”å› ä¸ºå®ƒä»¬å±äº `object` ç±»å‹ï¼Œæ‰€ä»¥ `object` ç±»å‹å®é™…ä¸Šå°±ä»£è¡¨äº†éåŸå§‹ç±»å‹ã€‚åœ¨ä¸Šé¢çš„ä¸‰ä¸ªç±»å‹ä»¥åŠå…¶çˆ¶ç±»å‹ `object` ä¸­ï¼Œ`array` å’Œ `object` å…¶å®æˆ‘ä»¬åº”è¯¥æœ‰ç‚¹ç†Ÿæ‚‰ï¼Œè‡³äº `tuple` å’Œ `enum` åˆ™æ˜¯ TS ä¸­æ–°å¢çš„ç±»å‹ï¼ŒJS ä¸­æ­£å¼ææ¡ˆä¸­ç›®å‰æ˜¯æ²¡æœ‰çš„ã€‚è®²å®Œäº†ç±»å‹ä¾§å®šä¹‰ï¼Œæˆ‘ä»¬é©¬ä¸Šæ¥å®è·µä¸€ä¸‹ä¸Šé¢çš„ `array` å’Œ `enum` éåŸå§‹ç±»å‹ã€‚

##### array ç±»å‹é™„ç€å®æˆ˜

å…¶ä¸­ `array` ç±»å‹æˆ‘ä»¬æ¯”è¾ƒç†Ÿæ‚‰ï¼Œä½†è¿™é‡Œæœ‰ä¸ªä¸åŒå°±æ˜¯ä¹‹å‰æˆ‘ä»¬çš„ JS å› ä¸ºæ˜¯åŠ¨æ€è¯­è¨€ï¼Œæ‰€ä»¥ä¸€ä¸ªæ•°ç»„é‡Œé¢å¯ä»¥æœ‰å„ç§ä¸åŒçš„æ•°æ®ç±»å‹é¡¹ï¼Œæ¯”å¦‚æˆ‘ä»¬çœ‹å¦‚ä¸‹ JS è¯­å¥ï¼š

```js
const arr = ['1', 2, '3'];
```

å¯ä»¥çœ‹åˆ°ï¼Œä» TS çš„è§’åº¦å»çœ‹è¿™ä¸ªæ•°ç»„å˜é‡ `arr` æ‰€åŒ…å«çš„ç±»å‹ï¼Œå­˜åœ¨å­—ç¬¦ä¸²ç±»å‹ `'1'` å’Œ `'3'` ï¼Œä»¥åŠæ•°å­—ç±»å‹ `2` ã€‚ä½† TS æ€»çš„æ•°ç»„ç±»å‹è¦æ±‚æ•°ç»„ä¸­çš„å…ƒç´ éƒ½æ˜¯åŒä¸€ä¸ªç±»å‹ï¼Œä¸å…è®¸åŠ¨æ€å˜åŒ–ï¼Œæ¯”å¦‚æˆ‘ä»¬ä¸ºä¸Šé¢çš„æ•°ç»„å˜é‡ `arr` å£°æ˜ç±»å‹åº”è¯¥å¦‚ä¸‹ï¼š

```ts
const arr: string[] = ['1', '2', '3'];
```

å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ç»™å˜é‡ `arr` å£°æ˜äº† `string[]` ç±»å‹ï¼Œå³ä¸€ä¸ª `string` ç±»å‹åé¢è·Ÿç€ä¸€ä¸ªæ•°ç»„æ ‡å¿—ï¼Œè¡¨ç¤ºæ˜¯å­—ç¬¦ä¸²æ•°ç»„ç±»å‹ï¼Œå½“å£°æ˜äº† `string[]` ç±»å‹ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦æŠŠä¹‹å‰çš„æ•°ç»„ `2` æ”¹æˆå­—ç¬¦ä¸² `'2'` ã€‚

æˆ‘ä»¬æ³¨æ„åˆ° `array` ç±»å‹ï¼Œå®ƒè¦æ±‚æ•°ç»„ä¸­æ¯é¡¹çš„ç±»å‹éƒ½ä¸€æ ·ï¼Œä¸€èˆ¬åº”ç”¨åœ¨æ•°ç»„çš„é•¿åº¦æœªçŸ¥çš„æƒ…å†µï¼Œç”¨ç‰¹å®šçš„ç±»å‹ï¼Œæ¯”å¦‚ `string` ç±»å‹æ¥çº¦æŸæ•°ç»„çš„æ¯ä¸€é¡¹ã€‚

ç„¶è€Œä» JS è½¬è¿‡æ¥çš„åŒå­¦å¤§å¤šæ•°åŒå­¦å¯èƒ½å¯¹è¿™ä¸ª `array` ç±»å‹ä¸é€‚åº”äº†ï¼Œæˆ‘ä»¬ JS çš„åŒå­¦ç»å¸¸ä¼šé‡åˆ°ç¼–å†™ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­çš„å¤šé¡¹çš„ç±»å‹ä¸ä¸€æ ·ï¼Œå°±å’Œæˆ‘ä»¬ä¸Šé¢çš„ JS `arr` çš„é¡¹ä¸€æ ·ï¼Œæ—¢æœ‰ `string` ç±»å‹åˆæœ‰ `number` ç±»å‹ï¼Œé‚£è¿™è¯¥æ€ä¹ˆåŠäº†ï¼Ÿè¿˜å¥½ï¼TS çš„è®¾è®¡è€…ä¹Ÿä¸ºæˆ‘ä»¬è€ƒè™‘åˆ°äº†è¿™ä¸€ç‚¹ï¼Œé‚£å°±æ˜¯æˆ‘ä»¬ä¸‹é¢è¦è®²åˆ°çš„ `tuple` ï¼ˆå…ƒç»„ï¼‰ç±»å‹ã€‚

##### tuple ç±»å‹é™„ç€å®æˆ˜

å¤§å®¶å¯èƒ½å¯¹ `tuple` ï¼ˆå…ƒç»„ï¼‰ç±»å‹å¾ˆé™Œç”Ÿäº†ï¼Œå…¶å®å…ƒæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ•°ç»„ç±»å‹ï¼Œå®ƒä¸»è¦ç”¨äºè¿™æ ·çš„åœºæ™¯ï¼šâ€œä¸€ä¸ªæ•°ç»„çš„é¡¹æ•°å·²çŸ¥ï¼Œå…¶ä¸­æ¯é¡¹çš„ç±»å‹ä¹Ÿå·²çŸ¥â€ï¼Œè¿™å¥è¯è¯´èµ·æ¥å¯èƒ½æ¯”è¾ƒç»•ï¼Œæˆ‘ä»¬ç”¨ä¸Šé¢è®²æ•°ç»„çš„ä¾‹å­æ¥è®²å…ƒç¥–ï¼š

```typescript
const arr = ['1', 2, '3'];
```

æˆ‘ä»¬çŸ¥é“ä¸Šé¢çš„æ•°ç»„ç¬¬ä¸€é¡¹å’Œç¬¬ä¸‰é¡¹çš„ç±»å‹ä¸º `string` ç±»å‹ï¼Œç¬¬äºŒé¡¹çš„ç±»å‹ä¸º `number` ç±»å‹ï¼Œç°åœ¨æˆ‘ä»¬è¦ç»™è¿™ä¸ª `arr` é™„ç€ä¸€ä¸ªç±»å‹ï¼Œä½¿å¾—å…¶é™æ€åŒ–ã€‚

è¿™ä¸ªæ¡ä»¶æ»¡è¶³æˆ‘ä»¬ä¸Šé¢è¯´çš„å…ƒç»„çš„é€‚ç”¨åœºæ™¯ï¼Œæˆ‘ä»¬é€šè¿‡ç»™ `arr` ä¸€ä¸ªå¯¹åº”çš„å…ƒç»„ç±»å‹ï¼Œè®©æˆ‘ä»¬å¯ä»¥ä¿æŒä¸Šé¢çš„å†™æ³•ä¸å˜ï¼š

```ts
const arr: [string, number, string] = ['1', 2, '3'];
```

å¯ä»¥çœ‹åˆ°ï¼Œå…ƒç»„å°±æ˜¯å½¢å¦‚ `[type1, type2, type3, ...., typen]` è¿™æ ·æ•°ç»„é•¿åº¦å·²çŸ¥ï¼Œä¸”ç±»å‹å·²çŸ¥çš„æƒ…å†µï¼Œå…¶ä¸­ `type1` åˆ° `typen` ä¸­æ‰€æœ‰çš„ç±»å‹éƒ½å¯ä»¥ä¸ä¸€æ ·ã€‚

##### å°ç»“

åœ¨è¿™ä¸€å°ç»“ä¸­æˆ‘ä»¬è®²è§£äº†ä¸€ä¸‹ä»€ä¹ˆæ˜¯éåŸå§‹ç±»å‹ï¼Œç„¶åè¯´æ˜äº†åœ¨ TS ä¸­æœ‰å››ç§éåŸå§‹ç±»å‹ï¼Œå…¶ä¸­æœ‰ä¸€ç§ä»£è¡¨éåŸå§‹ç±»å‹ `object` ï¼Œç„¶åå‰©ä¸‹çš„ä¸‰ç§å±äº `object` ç±»å‹ã€‚

æ¥ç€æˆ‘ä»¬é€šè¿‡å®è·µè®²è§£äº† `array` å’Œ `tuple` ç±»å‹ï¼Œå¯¹äº `enum` ç±»å‹å’Œ `object` ç±»å‹æœ¬èº«ï¼Œæˆ‘ä»¬å°†ç•™åœ¨ä¹‹åçš„ç« èŠ‚æ¥è®²ï¼Œæ•¬è¯·æœŸå¾… âœŒï¸ã€‚

#### ç‰¹æ®Šç±»å‹

TS ä¸­è¿˜æœ‰å‡ ä¸ªå¸¸ç”¨çš„ç‰¹æ®Šç±»å‹ï¼Œå®ƒä»¬æ˜¯ `any` ã€`unknown` å’Œ `never` ï¼Œå…¶ä¸­ `never` ç±»å‹ä¸€èˆ¬ä¼šä¼´éšç€å’Œå‡½æ•°çš„ç±»å‹å£°æ˜ä¸€èµ·ä½¿ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬å°† `never` ç±»å‹çš„æ—¶å€™ä¼šæåˆ°å‡½æ•°çš„ç±»å‹å¦‚ä½•è¿›è¡Œå£°æ˜ã€‚

æ¥ä¸‹æ¥æˆ‘ä»¬æ¥è®²ä¸€è®²è¿™ä¸‰ä¸ªç±»å‹çš„å«ä¹‰å’Œåº”ç”¨ã€‚

##### any ç±»å‹å®šä¹‰ä¸å®æˆ˜

`any` çš„å­—é¢å«ä¹‰æ˜¯ â€œä»»ä½•â€ï¼Œä¸»è¦ç”¨äºåœ¨ç¼–ç çš„æ—¶å€™ä¸çŸ¥é“ä¸€ä¸ªå˜é‡çš„ç±»å‹ï¼Œæ‰€ä»¥å…ˆç»™å®ƒåŠ ä¸€ä¸ª `any` ç±»å‹å®šä¹‰ï¼Œè¡¨ç¤ºå®ƒå¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼Œä¸€èˆ¬ç•™å¾…åç»­ç¡®è®¤æ­¤å˜é‡ç±»å‹ä¹‹åå†å°† `any` æ”¹ä¸ºå…·ä½“çš„ç±»å‹ã€‚

æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œæ¯”å¦‚æˆ‘ä»¬æœ‰ä¸‹é¢ä¸€æ®µ TS å˜é‡å®šä¹‰è¯­å¥ï¼š

```js
let demand: any;
```

å› ä¸ºæœ‰æ—¶å€™äº§å“ç»™ä¸€ä¸ªéœ€æ±‚ï¼Œè¦æˆ‘ä»¬å»å¼€å‘ä¸€ä¸ªæ–°åŠŸèƒ½ï¼Œç»™äº†è®¾è®¡ç¨¿ï¼Œä½†æ˜¯æ²¡äº¤æ¥æ¸…æ¥šï¼Œå¯¹äºè®¾è®¡ç¨¿æœ‰ä¸€äº›å†…å®¹æˆ‘ä»¬æƒ³æå‰åšï¼Œä½†æ˜¯å› ä¸ºä¸æ¸…æ¥šå…·ä½“çš„ç±»å‹ï¼Œæ¯”å¦‚è¿™é‡Œçš„ `demand` ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œç»™ `demand` ä¸€ä¸ª `any` ç±»å‹ï¼Œç„¶åç»§ç»­åšå…¶ä»–çš„å†…å®¹ï¼Œè¿™æ ·æ—¢ä¸ä¼šå‡ºé”™ï¼Œä¹Ÿä¸ä¼šå½±å“å…¶ä»–çš„å¼€å‘è¿›åº¦ã€‚

ç­‰åˆ°äº§å“æŠŠå…·ä½“çš„ä¸Šä¸‹æ–‡äº¤ä»£æ¸…æ¥šäº†ï¼Œè¯¶ï¼æˆ‘ä»¬æ¸…æ¥šäº†çŸ¥é“è¿™ä¸ª `demand` çš„ç±»å‹äº†ï¼Œæˆ‘ä»¬å°±å¯ä»¥å›è¿‡å¤´æ¥ç»™å…¶é™„ç€ä¸€ä¸ªä¸¥æ ¼çš„ç±»å‹å®šä¹‰ï¼Œæ¯”å¦‚æˆ‘ä»¬çŸ¥é“å®ƒæ˜¯ `string` ç±»å‹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å†è¿”å›æ¥å¯¹å…¶ä¿®æ”¹å¦‚ä¸‹ï¼š

```typescript
let demand: string;
```

å°±æ˜¯è¿™æ ·ï¼Œ`any` çš„åº”ç”¨åœºæ™¯å¤§å¤šæ˜¯è¿™æ ·çš„ã€‚ä½†æ˜¯ç© TS çš„æœ‹å‹è¦å°å¿ƒå“¦ï¼Œä¸è¦ä¸€ç¢°åˆ°ä¸ç¡®å®šçš„å°±å†™ä¸ª `any` ç±»å‹ï¼Œç„¶åå†™äº†ä¹‹åè¿˜ä¸æ”¹ï¼Œé‚£å°±æŠŠ TS ç”¨æˆäº† AnyScript äº†ï¼Œè¿™å°±å’Œ JS ä¸€æ ·äº† ğŸ˜‰ã€‚æ‰€ä»¥ä½ çœ‹å‘€ï¼ŒTS çš„ä¼˜ç§€ä¹‹å¤„åœ¨äºï¼Œä½ å®Œå…¨å¯ä»¥åœ¨ TS çš„ç¯å¢ƒä¸­å†™ JS è¿˜èƒ½äº«å— TS å¸¦æ¥çš„å„ç§é™æ€è¯­è¨€çš„ä¼˜åŠ¿ï¼Œæ‰€ä»¥è¿™ä¹ˆå—æ¬¢è¿ä¹Ÿæ˜¯å¯ä»¥ç†è§£æ»´ã€‚

##### unknown ç±»å‹å®šä¹‰ä¸å®æˆ˜

`unknown` ç±»å‹å’Œ `any` éƒ½å¯ä»¥è¡¨ç¤ºä»»ä½•ç±»å‹ï¼Œåº”ç”¨åœºæ™¯ä¹Ÿå’Œä¸Šé¢ç±»å‹ï¼Œä½†æ˜¯å®ƒæ›´å®‰å…¨ã€‚é‚£ä¹ˆå…·ä½“å®‰å…¨åœ¨å“ªé‡Œäº†ï¼Ÿæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥çœ‹ä¸€çœ‹ï¼š

```ts
let demandOne: any;
let demandTwo: unknown;
```

æˆ‘ä»¬æ‹¿åˆ°äº†å¼€å‘éœ€æ±‚ï¼Œä½†æ˜¯ä¸æ¸…æ¥šå…·ä½“ç±»å‹åˆæ‰“ç®—ç»§ç»­å¼€å‘æ—¶ï¼Œä¸Šé¢ä¸¤ç§æƒ…å†µéƒ½å¯ä»¥ä½¿ç”¨ï¼Œä½†æ˜¯å½“æˆ‘ä»¬å…·ä½“ä½¿ç”¨è¿™ä¸¤ä¸ªå˜é‡çš„æ—¶å€™ï¼Œ`any` ç±»å‹çš„å˜é‡æ˜¯å¯ä»¥è¿›è¡Œä»»æ„è¿›è¡Œèµ‹å€¼ã€å®ä¾‹åŒ–ã€å‡½æ•°æ‰§è¡Œç­‰æ“ä½œï¼Œä½†æ˜¯ `unknown` åªå…è®¸èµ‹å€¼ï¼Œä¸å…è®¸å®ä¾‹åŒ–ã€å‡½æ•°æ‰§è¡Œç­‰æ“ä½œï¼Œæˆ‘ä»¬æ¥çœ‹ä¸ªä¾‹å­ï¼š

```ts
demandOne = 'Hello, Tuture'; // å¯ä»¥çš„
demandTwo = 'Hello, Ant Design'; // å¯ä»¥çš„

demandOne.foo.bar(); // å¯ä»¥çš„
demandTwo.foo.bar(); // æŠ¥é”™
```

å¯ä»¥çœ‹åˆ°ï¼Œ`unknown` ç±»å‹åªå…è®¸èµ‹å€¼æ“ä½œï¼Œä¸å…è®¸å¯¹è±¡å–å€¼ï¼ˆGetter) ã€å‡½æ•°æ‰§è¡Œç­‰æ“ä½œï¼Œæ‰€ä»¥å®ƒæ›´å®‰å…¨ã€‚

##### never / å‡½æ•°ç±»å‹å®šä¹‰ä¸å®æˆ˜

`never` çš„å­—é¢æ„æ€æ˜¯ â€œæ°¸ä¸â€ï¼Œåœ¨ TS ä¸­ä»£è¡¨ä¸å­˜åœ¨çš„å€¼ç±»å‹ï¼Œä¸€èˆ¬ç”¨äºç»™å‡½æ•°è¿›è¡Œç±»å‹å£°æ˜ï¼Œå‡½æ•°ç»ä¸ä¼šæœ‰è¿”å›å€¼çš„æ—¶å€™ä½¿ç”¨ï¼Œæ¯”å¦‚å‡½æ•°å†…æŠ›å‡ºé”™è¯¯ï¼Œæˆ‘ä»¬é¦–å…ˆçœ‹ä¸ªä¾‹å­å°†è®²è§£ä¸€ä¸‹å¦‚ä½•ç»™å‡½æ•°è¿›è¡Œç±»å‹å£°æ˜ï¼Œç„¶åæ¥ç€æˆ‘ä»¬è®² Â `never` ç±»å‹å¦‚ä½•ä½¿ç”¨ï¼š

```typescript
function responseError(message) {
  // ... å…·ä½“æ“ä½œï¼Œæ¥æ”¶ä¿¡æ¯ï¼ŒæŠ›å‡ºé”™è¯¯
}
```

å¯¹äºä¸Šé¢çš„å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç®­å¤´å‡½æ•°çš„å½¢å¼æŠŠå®ƒæŠ½è±¡æˆä¸ºå½¢å¦‚ `(args1, args2, ... , argsn) => returnValue` ï¼Œæˆ‘ä»¬ä¸»è¦å…³æ³¨ç‚¹åœ¨äºå‡½æ•°çš„è¾“å…¥å’Œè¾“å‡ºï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ç±»å‹å£°æ˜çš„æ—¶å€™æŠŠå‡½æ•°çš„è¾“å…¥å‚æ•°çš„ç±»å‹å’Œè¾“å‡ºç»“æœçš„ç±»å‹å®šä¹‰å¥½å°±å¯ä»¥äº†ã€‚æˆ‘ä»¬æ³¨æ„åˆ°ä¸Šé¢æˆ‘ä»¬å®šä¹‰çš„å‡½æ•°æœ‰ä¸€ä¸ªå‚æ•°ï¼š `message`Â  ï¼Œå¹¶ä¸”å‡½æ•°ä½“å†…æ ¹æ® `message`Â  æŠ›å‡ºå¯¹åº”çš„é”™è¯¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥ç»™å®ƒè¿›è¡Œç±»å‹å£°æ˜å¦‚ä¸‹ï¼š

```typescript
function responseError(message: string): never {
  // ... å…·ä½“æ“ä½œï¼Œæ¥æ”¶ä¿¡æ¯ï¼ŒæŠ›å‡ºé”™è¯¯
}
```

#### åŠ¨æ‰‹å®è·µ

åŸºæœ¬äº†è§£äº†ç±»å‹è¯­è¨€çš„æ•°æ®ç»“æ„ä¹‹åï¼Œæˆ‘ä»¬é©¬ä¸Šæ¥å†™ä¸€ç‚¹ React ä»£ç æ¥å®è·µæˆ‘ä»¬å­¦åˆ°çš„çŸ¥è¯†ã€‚

æˆ‘ä»¬ä¹‹å‰å‡†å¤‡çš„ä»£ç ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæœ‰ä¸¤ä¸ªå‡æ•°æ®æ•°ç»„ `todoListData` å’Œ `userList` ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¹‹å‰å­¦åˆ°çš„çŸ¥è¯†æ¥ç»™è¿™ä¸¤ä¸ªæ•°ç»„è¿›è¡Œç±»å‹å®šä¹‰ï¼Œæ‰“å¼€ `src/App.tsx` å¯¹å…¶ä¸­çš„å†…å®¹ä½œå‡ºå¯¹åº”çš„ä¿®æ”¹å¦‚ä¸‹ï¼š

```ts src/App.tsx https://github.com/pftom/typescript-tea/blob/2726f1094dd6830a85bfe273da795628856b00dd/src/App.tsx æŸ¥çœ‹å®Œæ•´ä»£ç 
// ...
[tuture-del]const todoListData = [
[tuture-add]interface Todo {
[tuture-add]  user: string;
[tuture-add]  time: string;
[tuture-add]  content: string;
[tuture-add]  isCompleted: boolean;
[tuture-add]}
[tuture-add]
[tuture-add]interface User {
[tuture-add]  id: string;
[tuture-add]  name: string;
[tuture-add]  avatar: string;
[tuture-add]}
[tuture-add]
[tuture-add]const todoListData: Todo[] = [
  {
    content: "å›¾é›€ç¤¾åŒºï¼šæ±‡èšç²¾å½©çš„å…è´¹å®æˆ˜æ•™ç¨‹",
    user: "mRcfps",
    time: "2020å¹´3æœˆ2æ—¥ 19:34",
    isCompleted: false
  },
  // ...
];

[tuture-del]const userList = [
[tuture-add]const userList: User[] = [
  // ...
];

// ...
```

å¯ä»¥çœ‹åˆ°ï¼Œä¸Šé¢æˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ª `interface` Todo å’Œ Userï¼Œç„¶åä»¥æ•°ç»„ç±»å‹çš„æ–¹å¼å¯¹ `todoListData` å’Œ `userList` è¿›è¡Œæ³¨è§£ï¼Œè¡¨ç¤º `todoListData` æ˜¯ `Todo[]` ç±»å‹ï¼Œ`userList` æ˜¯ `User` ç±»å‹ã€‚

è¿™é‡Œçš„ `interface` æˆ‘ä»¬è¿˜æ²¡ç”¨æåˆ°ï¼Œæˆ‘ä»¬å°†é©¬ä¸Šåœ¨åé¢è®²åˆ°ï¼Œå¯ä»¥ç†è§£å®ƒç±»ä¼¼ JS ä¸­çš„å¯¹è±¡ï¼Œç”¨æ¥ç»„ç»‡ä¸€ç»„ç±»å‹ï¼Œå°±æ¯”å¦‚æˆ‘ä»¬è¿™é‡Œ Â `todoList` ä¸­å•ä¸ªå…ƒç´ å®é™…ä¸Šæ˜¯åŒ…å«å››ä¸ªå±æ€§çš„å¯¹è±¡ï¼Œå…¶ä¸­å‰ä¸‰ä¸ªå±æ€§ä¸º `string` åŸå§‹ç±»å‹ï¼Œæœ€åä¸€ä¸ªå±æ€§ä¸º `boolean` ç±»å‹ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ºäº†ç»™ å•ä¸ªå¯¹è±¡å…ƒç´ è¿›è¡Œç±»å‹æ³¨è§£ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† `interface` ã€‚

## æšä¸¾å’Œæ¥å£

åœ¨ä¸Šä¸€èŠ‚ä¸­æˆ‘ä»¬æåˆ°äº† `interface` ï¼Œå½“æ—¶æ²¡æœ‰ç»†è®²ï¼Œè¿™ä¸€èŠ‚æˆ‘ä»¬å°±å…ˆæ¥ç»†ç»†è¯´ä¸€ä¸‹ `interface` æ˜¯ä»€ä¹ˆï¼Ÿ

### Interface

å®ƒç›¸å½“äºç±»å‹ä¸­çš„ JS å¯¹è±¡ï¼Œç”¨äºå¯¹å‡½æ•°ã€ç±»ç­‰è¿›è¡Œç»“æ„ç±»å‹æ£€æŸ¥ï¼Œæ‰€è°“çš„ç»“æ„ç±»å‹æ£€æŸ¥ï¼Œå°±æ˜¯ä¸¤ä¸ªç±»å‹çš„ç»“æ„ä¸€æ ·ï¼Œé‚£ä¹ˆå®ƒä»¬çš„ç±»å‹å°±æ˜¯å…¼å®¹çš„ï¼Œè¿™åœ¨è®¡ç®—æœºç§‘å­¦çš„ä¸–ç•Œé‡Œä¹Ÿè¢«æˆä¸º â€œé¸­å­ç±»å‹â€ã€‚

{% note info %}
**æç¤º**

**ä»€ä¹ˆé¸­å­ç±»å‹ï¼Ÿ**

å½“çœ‹åˆ°ä¸€åªé¸Ÿèµ°èµ·æ¥åƒé¸­å­ã€æ¸¸æ³³èµ·æ¥åƒé¸­å­ã€å«èµ·æ¥ä¹Ÿåƒé¸­å­ï¼Œé‚£ä¹ˆè¿™åªé¸Ÿå°±å¯ä»¥è¢«ç§°ä¸ºé¸­å­ã€‚
{% endnote %}

æˆ‘ä»¬é©¬ä¸Šæ¥çœ‹ä¸€ä¸ªä¾‹å­äº†è§£ä¸€ä¸ª `Interface` æ˜¯æ€ä¹ˆæ ·çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬ä¹‹å‰å¯¹è±¡ `Todo` ï¼Œä¸€ä¸ª Todo å¯¹è±¡å¦‚ä¸‹ï¼š

```js
const todo = {
  content: 'å›¾é›€ç¤¾åŒºï¼Œæ±‡èšç²¾å½©çš„å…è´¹æŠ€æœ¯æ•™ç¨‹';
  user: 'mRcfps',
  time: 'å›¾é›€ç¤¾åŒºï¼šæ±‡èšç²¾å½©çš„å…è´¹å®æˆ˜æ•™ç¨‹',
  isCompleted: false,
}
```

ç°åœ¨æˆ‘ä»¬è¦è¿™ä¸ª todo åšä¸€ä¸ªç±»å‹æ³¨è§£ï¼Œæ ¹æ®ä¹‹å‰æåˆ°çš„ â€œé¸­å­ç±»å‹â€ çš„æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ª Interface æ¥ä¸ºå®ƒåšæ³¨è§£ï¼š

```ts
interface Todo {
  content: string;
  user: string;
  time: string;
  isCompleted: boolean;
}

const todo: Todo = {
  // ...
};
```

å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„æ¥å£ `Todo` å†…å®¹æœ‰å››ä¸ªå­—æ®µï¼Œå¹¶ä¸”æ ‡æ³¨äº†è¿™å››ä¸ªå­—æ®µçš„ç±»å‹ï¼Œæ¯”å¦‚ `content` ä¸º `string` ï¼Œè¿™ä¸ªæ¥å£çš„æ ·å­å’Œ `todo` å¯¹è±¡æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥ç”¨ Interface `Todo` æ¥æ³¨è§£ `todo` æ˜¯å¯è¡Œçš„ï¼Œç”¨ VSCode çš„åŒå­¦ï¼Œåº”è¯¥å¯ä»¥çœ‹åˆ°æˆ‘ä»¬è¿™æ ·å†™ä¹‹åï¼Œç¼–è¾‘å™¨é‡Œé¢æ²¡æœ‰æŠ›å‡ºå¼‚å¸¸ã€‚

#### å¯é€‰å±æ€§

ä¸Šé¢æˆ‘ä»¬è®²åˆ° Interface æ˜¯ç”¨æ¥æ³¨è§£ å¯¹è±¡ï¼Œå‡½æ•°ç­‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æœ‰ä¸€ä¸ªåœºæ™¯ï¼Œä¸€ä¸ªå¯¹è±¡é‡Œé¢çš„æŸäº›å‚æ•°æˆ‘ä»¬å¯èƒ½æ²¡æœ‰ï¼Œæ¯”å¦‚ä¸€ä¸ªå¾…åŠäº‹é¡¹ Todoï¼Œæœ‰æ—¶å€™æ²¡æœ‰è®¾ç½® `time` æ—¶é—´å±æ€§ï¼Œé‚£ä¹ˆä¿®é¥°è¿™æ ·ä¸€ä¸ªå¯¹è±¡æˆ‘ä»¬è¯¥æ€ä¹ˆåŠäº†ï¼Ÿå¹¸å¥½ TS ç»™æˆ‘ä»¬æä¾›äº†å¯é€‰å±æ€§è¿™æ ·ä¸€ä¸ªæ–¹ä¾¿çš„å±æ€§ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿è§£å†³ä¸Šé¢çš„é—®é¢˜ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å¯é€‰å±æ€§è¯¥æ€ä¹ˆå†™ï¼Œå‡å¦‚æˆ‘ä»¬ä¸Šé¢çš„é‚£ä¸ªä¾‹å­ï¼Œ`time` æ˜¯å¯é€‰çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å†™å‡ºå¦‚ä¸‹è¿™æ ·ï¼š

```ts
interface Todo {
  content: string;
  user: string;
  time?: string;
  isCompleted: boolean;
}
```

æˆ‘ä»¬çœ‹åˆ°ï¼Œåªéœ€è¦åœ¨å±æ€§ç±»å‹ä¿®é¥°å†’å·å·¦è¾¹åŠ ä¸€ä¸ªé—®å·å°±å¯ä»¥äº†ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å‘Šè¯‰ TS ç¼–è¯‘å™¨è¿™ä¸ª `time` å±æ€§æ˜¯å¯é€‰çš„ä¸€ä¸ªç±»å‹ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨ä¸Šé¢çš„ Interface Todo æ¥æ³¨è§£ä¸€ä¸‹æ²¡æœ‰ `time` å±æ€§çš„ `todo` å¯¹è±¡å¦‚ä¸‹ï¼š

```ts
const todo: Todo = {
  content: 'äºˆåŠ›å†…å®¹åˆ›ä½œï¼ŒåŠ é€ŸæŠ€æœ¯ä¼ æ’­',
  user: 'pftom',
  isCompleted: false,
};
```

å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨ VSCode æ¥è·Ÿç€æ•™ç¨‹æ•²çš„åŒå­¦åº”è¯¥å‘ç°ä¸Šé¢çš„å†…å®¹æ²¡æœ‰é”™è¯¯ï¼Œç±»å‹æ£€æŸ¥é€šè¿‡äº†ã€‚

#### åªè¯»å±æ€§

TS çš„ Interface è¿˜æœ‰ä¸€äº›é¢å¤–çš„å±æ€§æ¯”å¦‚åªè¯»å±æ€§ï¼ˆreadonlyï¼‰ï¼Œè¡¨ç¤ºç”¨ç›¸å…³å¸¦æœ‰åªè¯»å±æ€§çš„æ¥å£å¯¹æŸä¸ª JS å…ƒç´ åšç±»å‹æ³¨è§£çš„æ—¶å€™ï¼Œè¿™ä¸ª JS å…ƒç´ ç›¸å…³çš„å±æ€§è¢«æ³¨è§£ä¸ºåªè¯»å±æ€§æ—¶ï¼Œæˆ‘ä»¬ä¹‹åä¸å¯ä»¥ä¿®æ”¹è¿™ä¸ªå±æ€§äº†ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š

```ts
interface Todo {
  content: string;
  readonly user: string;
  time?: string;
  isCompleted: boolean;
}
```

å¯ä»¥çœ‹åˆ°åªè¯»å±æ€§çš„æ·»åŠ å°±æ˜¯åœ¨å±æ€§ä¹‹å‰åŠ ä¸Š `readonly` å…³é”®å­—ï¼Œå°±å¯ä»¥å°† Interface ä¸­çš„å±æ€§æ ‡å¿—ä¸ºå·²è¯»çš„ï¼Œæˆ‘ä»¬æ¥è¯•éªŒä¸€ä¸‹è¿™ä¸ªåªè¯»æ•ˆæœï¼š

```ts
const todo: Todo = {
  content: 'äºˆåŠ›å†…å®¹åˆ›ä½œï¼ŒåŠ é€ŸæŠ€æœ¯ä¼ æ’­',
  user: 'pftom',
  isCompleted: false,
};

todo.user = 'mRcfps';
```

å½“æˆ‘ä»¬è¿›è¡Œä¸Šé¢çš„ä¿®æ”¹æ“ä½œä¹‹åï¼Œç¼–è¾‘å™¨å†…ä¼šæŠ¥é”™ï¼š

![](https://static.powerformer.com/c/cea18bc864f7a9b94223dcc718646b02/image-ec0575e36632e4e2.png)

#### å¤šä½™å±æ€§æ£€æŸ¥

æˆ‘åœ¨åœ¨ JS ä¸­ç»å¸¸ä¼šé‡åˆ°ä¸€ä¸ªå¯¹è±¡ï¼Œä¸€å¼€å§‹æˆ‘ä»¬çŸ¥é“å®ƒæœ‰æ˜¯å“ªä¸ªå±æ€§ï¼Œä½†æ˜¯å®ƒçš„å±æ€§å´å¯ä»¥åŠ¨æ€å¢åŠ ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„ `todo` å¯èƒ½è¿˜å­˜åœ¨ `priority` ä¼˜å…ˆçº§è¿™æ ·ä¸€ä¸ªå±æ€§ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•å®šä¹‰ä¸€ä¸ªå¯ä»¥æ³¨è§£åŠ¨æ€å¢åŠ å±æ€§å¯¹è±¡çš„ Interface äº†?

æ‰€å¹¸ TS æä¾›ä¸€ä¸ªå¤šä½™å±æ€§æ£€æŸ¥çš„å†™æ³•ï¼Œä½¿å¾—ä¸Šé¢çš„é—®é¢˜æˆ‘ä»¬ä¹Ÿå¯ä»¥è§£å†³ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä¸€ä¸ªå¤šä½™å±æ€§æ•™ç¨‹è¯¥æ€ä¹ˆå®šä¹‰ï¼š

```ts
interface Todo {
  isCompleted: boolean;
  [propName: string]: any;
}
```

ä½¿ç”¨ç±»ä¼¼ä¸Šé¢ JS ä¸­çš„åŠ¨æ€å±æ€§èµ‹å€¼çš„æ–¹å¼æˆ‘ä»¬å°±å¯ä¸º `Todo` æ¥å£åŠ ä¸Šå¤šä½™å±æ€§æ£€æŸ¥ï¼Œè¿™é‡Œæˆ‘ä»¬å°†å…¶æ³¨è§£ä¸ºä¸€å®šæ‹¥æœ‰ `isCompleted` å±æ€§ï¼Œå…¶ä»–çš„å±æ€§å¯ä»¥åŠ¨æ€æ·»åŠ ï¼Œå› ä¸ºåŠ¨æ€æ·»åŠ çš„å±æ€§çš„å€¼ç±»å‹æˆ‘ä»¬ä¸æ¸…æ¥šï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨ `any` æ¥è¡¨ç¤ºå€¼ç±»å‹ï¼Œå®ƒå¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚æˆ‘ä»¬é©¬ä¸Šæ¥è¯•éªŒä¸€ä¸‹ï¼š

```ts
const todo: Todo = {
  content: 'äºˆåŠ›å†…å®¹åˆ›ä½œï¼ŒåŠ é€ŸæŠ€æœ¯ä¼ æ’­',
  isCompleted: false,
};

todo.user = 'pftom';
todo.time = '2020-04-04';
```

å¯ä»¥çœ‹åˆ°ï¼Œä¸Šé¢æˆ‘ä»¬æˆ‘ä»¬çš„ todo åœ¨å®šä¹‰çš„æ—¶å€™åªæœ‰ä¸¤ä¸ªå±æ€§ï¼Œåé¢æˆ‘ä»¬é¢å¤–æ·»åŠ äº†ä¸¤ä¸ªå±æ€§ï¼Œå‘ç°ç¼–è¾‘å™¨é‡Œé¢ä¹Ÿä¸ä¼šæŠ¥é”™ï¼Œè¿™å°±æ˜¯å¤šä½™å±æ€§æ£€æŸ¥çš„é­…åŠ›ã€‚

### Enum

æšä¸¾æ˜¯ TS ä¸­ç‹¬æœ‰çš„æ¦‚å¿µï¼Œåœ¨ JS ä¸­æ²¡æœ‰ï¼Œä¸»è¦ç”¨äºå¸®åŠ©å®šä¹‰ä¸€ç³»åˆ—å‘½åå¸¸é‡ï¼Œå¸¸ç”¨äºç»™ä¸€ç±»å˜é‡åšç±»å‹æ³¨è§£ï¼Œå®ƒä»¬çš„å€¼æ˜¯ä¸€ç»„å€¼é‡Œé¢çš„æŸä¸€ä¸ªï¼Œæ¯”å¦‚æˆ‘ä»¬åº”ç”¨ä¸­å‚ä¸åˆ›å»ºå¾…åŠäº‹é¡¹çš„ç”¨æˆ·åªæœ‰äº”ä¸ªäººï¼Œé‚£ä¹ˆåœ¨åˆ›å»ºå¾…åŠäº‹é¡¹æ—¶ï¼Œæ­¤äº‹é¡¹çš„æ‰€å±ç”¨æˆ·æ˜¯äº”äººä¸­çš„æŸä¸€äººã€‚

æˆ‘ä»¬é©¬ä¸Šæ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬çš„å°†è¿™äº”ä¸ªç”¨æˆ·æ”¾åˆ°æšä¸¾é‡Œé¢ï¼š

```ts
enum UserId {
  tuture,
  mRcfps,
  crxk,
  pftom,
  holy,
}
```

è¿›è€Œæˆ‘ä»¬å¯ä»¥æ”¹è¿›ä¸€ä¸‹æˆ‘ä»¬åœ¨ä¸ŠèŠ‚ Interface é‡Œé¢çš„ `Todo` æ¥å£ï¼Œç»™å®ƒçš„ `user` å­—æ®µä¸€ä¸ªæ›´ç²¾ç¡®çš„ç±»å‹æ³¨è§£ï¼š

```ts
interface Todo {
  content: string;
  user: UserId;
  time: string;
  isCompleted: boolean;
}
```

é€šè¿‡ä¸Šé¢çš„ä¾‹å­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ`todo` é‡Œé¢çš„ `user` å­—æ®µåº”è¯¥æ˜¯äº”äººä¹‹ä¸€ï¼Œå®ƒæœ‰å¯èƒ½æ˜¯ `tuture` ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ `mRcfps` ï¼Œæˆ‘ä»¬ä¸çŸ¥é“ï¼Œæ‰€ä»¥æˆ‘ä»¬å†™äº†ä¸€ä¸ªæšä¸¾ `UserId` ï¼Œå¹¶ç”¨å®ƒæ¥æ³¨è§£ `Todo` çš„ `user` å­—æ®µã€‚

#### æ•°å­—æšä¸¾

ä¸Šé¢æˆ‘ä»¬çš„ UserId ä¸­å‡ ä¸ªæšä¸¾å€¼å…¶å®éƒ½å¯¹åº”ç€ç›¸åº”çš„æ•°å­—ï¼Œæ¯”å¦‚ `UserId.tuture` å®ƒçš„å€¼æ˜¯æ•°å­— `0` ï¼Œ`UserId.mRcfps` å®ƒçš„å€¼æ˜¯æ•°å­— `1` ï¼Œä»¥æ­¤ç±»æ¨ï¼Œåé¢çš„å‡ ä¸ªæšä¸¾å€¼åˆ†åˆ«æ˜¯æ•°å­— `2` ï¼Œ`3` ï¼Œ`4` ã€‚

å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥æ‰‹åŠ¨ç»™å…¶ä¸­æŸä¸ªæšä¸¾å€¼èµ‹å€¼ä¸€ä¸ªæ•°å­—ï¼Œè¿™æ ·è¿™ä¸ªæšä¸¾å€¼åé¢çš„å€¼ä¼šä¾æ¬¡åœ¨è¿™ä¸ªèµ‹å€¼çš„æ•°å­—ä¸Šé€’å¢ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸ªä¾‹å­ï¼š

```ts
enum UserId {
  tuture,
  mRcfps = 6,
  crxk,
  pftom,
  holy,
}
```

ä¸Šé¢æˆ‘ä»¬çš„æ¯ä¸ªæšä¸¾å€¼å¯¹åº”çš„æ•°å­—ä¾æ¬¡æ˜¯ï¼š`0` ï¼Œ`6` ï¼Œ`7` ï¼Œ`8` ï¼Œ`9`

#### å­—ç¬¦ä¸²æšä¸¾

æšä¸¾çš„å€¼é™¤äº†æ˜¯æ•°å­—è¿˜å¯ä»¥æ˜¯ä¸€ç³»åˆ—å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ï¼š

```ts
enum UserId {
  tuture = '66666666',
  mRcfps = '23410977',
  crxk = '25455350',
  pftom = '23410976',
  holy = '58352313',
}
```

å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ç»™æ¯ä¸ªæšä¸¾å€¼èµ‹å€¼äº†å¯¹äºçš„å­—ç¬¦ä¸²ã€‚

#### å¼‚æ„æšä¸¾

å½“ç„¶åœ¨ä¸€ä¸ªæšä¸¾é‡Œé¢æ—¢å¯ä»¥æœ‰å­—ç¬¦ä¸²å€¼ä¹Ÿå¯ä»¥æœ‰æ•°å­—ï¼š

```ts
enum UserId {
  tuture = '66666666',
  mRcfps = 6,
}
```

### åŠ¨æ‰‹å®è·µ

äº†è§£äº† `Interface` å’Œ `Enum` ä¹‹åï¼Œæˆ‘ä»¬é©¬ä¸Šè¿ç”¨åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­æ¥å®Œå–„æˆ‘ä»¬çš„å¾…åŠäº‹é¡¹åº”ç”¨ã€‚

éšç€å†…å®¹è¶Šå†™è¶Šå¤šï¼Œæˆ‘ä»¬çš„ `src/App.tsx` è¶Šæ¥è¶Šå¤æ‚ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰“ç®—æŠŠ `TodoInput` ç»„ä»¶æ‹†åˆ°å•ç‹¬çš„é¡µé¢ï¼Œåœ¨ `src` ç›®å½•ä¸‹æ–°å»º `TodoInput.tsx` ï¼Œå¹¶åœ¨é‡Œé¢ç¼–å†™å¦‚ä¸‹çš„å†…å®¹ï¼š

```ts src/TodoInput.tsx https://github.com/pftom/typescript-tea/blob/c19a68c181fd97f289ec5049355bcdfc48b30570/src/TodoInput.tsx æŸ¥çœ‹å®Œæ•´ä»£ç 
import React, { useState } from 'react';
import { Input, Select, DatePicker } from 'antd';
import { Moment } from 'moment';

import { userList } from './utils/data';

const { Option } = Select;

enum UserId {
  tuture = '666666666',
  mRcfps = '23410977',
  crxk = '25455350',
  pftom = '23410976',
  holy = '58352313',
}

export interface TodoValue {
  content?: string;
  user?: UserId;
  date?: string;
}

interface TodoInputProps {
  value?: TodoValue;
  onChange?: (value: TodoValue) => void;
}

const TodoInput = ({ value = {}, onChange }: TodoInputProps) => {
  const [content, setContent] = useState('');
  const [user, setUser] = useState(UserId.tuture);
  const [date, setDate] = useState('');

  const triggerChange = (changedValue: TodoValue) => {
    if (onChange) {
      onChange({ content, user, date, ...value, ...changedValue });
    }
  };

  const onContentChange = (e: any) => {
    if (!('content' in value)) {
      setContent(e.target.value);
    }

    triggerChange({ content: e.target.value });
  };

  const onUserChange = (selectValue: UserId) => {
    if (!('user' in value)) {
      setUser(selectValue);
    }

    triggerChange({ user: selectValue });
  };

  const onDateOk = (date: Moment) => {
    if (!('date' in value)) {
      setDate(date.format('YYYY-MM-DD HH:mm'));
    }

    triggerChange({ date: date.format('YYYY-MM-DD HH:mm') });
  };

  return (
    <div className="todoInput">
      <Input
        type="text"
        placeholder="è¾“å…¥å¾…åŠäº‹é¡¹å†…å®¹"
        value={value.content || content}
        onChange={onContentChange}
      />
      <Select
        style={{ width: 80 }}
        size="small"
        defaultValue={UserId.tuture}
        value={user}
        onChange={onUserChange}>
        {userList.map((user) => (
          <Option value={user.id}>{user.name}</Option>
        ))}
      </Select>
      <DatePicker
        showTime
        size="small"
        onOk={onDateOk}
        style={{ marginLeft: '16px', marginRight: '16px' }}
      />
    </div>
  );
};

export default TodoInput;
```

å¯ä»¥çœ‹åˆ°ä¸Šé¢çš„å†…å®¹ï¼Œä¸»è¦æœ‰å¦‚ä¸‹å‡ ä¸ªéƒ¨åˆ†çš„ä¿®æ”¹ï¼š

- æˆ‘ä»¬å®šä¹‰äº†æ–°çš„ `Interface` ï¼š`TodoInputProps` ï¼Œå®ƒä¸»è¦ç”¨æ¥æ³¨è§£ `TodoInput` è¿™ä¸ªå‡½æ•°å¼ç»„ä»¶çš„ `props` ç±»å‹ï¼Œå¯çœ‹åˆ°è¿™ä¸ªæ¥å£ä¸»è¦æœ‰ä¸¤ä¸ªå­—æ®µï¼Œä¸€ä¸ªæ˜¯ `value` ï¼Œå®ƒæ˜¯ `TodoValue` ç±»å‹ï¼Œè¿˜æœ‰ä¸€ä¸ª `onChange` ï¼Œå®ƒæ˜¯ä¸€ä¸ªå‡½æ•°ç±»å‹ï¼Œè¡¨ç¤ºçˆ¶ç»„ä»¶å°†ä¼šä¼ é€’ä¸€ä¸ª `onChange` å‡½æ•°ï¼Œæˆ‘ä»¬å°†åœ¨ä¹‹åè®²è§£ TS æ€ä¹ˆæ³¨è§£å‡½æ•°ï¼Œã€‚
- æ¥ç€æˆ‘ä»¬æ–°å¢äº†ä¸€ä¸ªæšä¸¾ `UserId` ï¼Œç”¨æ¥æ¦‚æ‹¬æˆ‘ä»¬åº”ç”¨çš„äº”ä¸ªç”¨æˆ·çš„ IDï¼Œå¹¶ä¸”äººä¸ºçš„ä¸ºè¿™äº”ä¸ªæšä¸¾å¸¸é‡èµ‹äº†å¯¹åº”çš„å€¼ã€‚
- æ¥ç€æˆ‘ä»¬æ”¹è¿›äº†å®šä¹‰äº†ä¸€ä¸ªæ–° `TodoValue` æ¥å£ï¼Œå®ƒæœ‰ä¸‰ä¸ªå­—æ®µï¼Œä¸»è¦ç”¨äºæ ‡å¿— `TodoInputProps` ä¸­ä¸Šå±‚ç»„ä»¶ä¸­å¯èƒ½ä¼ é€’ä¸‹æ¥çš„å€¼ï¼Œæ‰€ä»¥ä¸‰ä¸ªå­—æ®µéƒ½æ˜¯å¯é€‰çš„
- æœ€åæˆ‘ä»¬å®šä¹‰äº†ä¸‰ä¸ªå“åº” `Input` ã€`Select` ã€`DatePicker` çš„å‡½æ•°ï¼Œ`onContentChange` ï¼Œ`onUserChange` ï¼Œ`onDateOk` ï¼Œå½“ä¸Šå±‚ç»„ä»¶æ²¡æœ‰ä¼ é€’å¯¹åº”çš„å±æ€§æ—¶ï¼Œä½¿ç”¨ `setXXX` æ¥æ›´æ–° React çŠ¶æ€ï¼Œå¦åˆ™è§¦å‘ `triggerChange` ï¼Œè°ƒç”¨çˆ¶ç»„ä»¶ä¼ é€’ä¸‹æ¥çš„ `onChange` æ–¹æ³•æ¥æ›´æ–°å¯¹åº”çš„çŠ¶æ€

{% note info %}
**æç¤º**

ä¸Šé¢æˆ‘ä»¬ä» `./utils/data` å¯¼å…¥äº† `userList` ï¼Œä»¥åŠå¯¼å…¥äº† `Moment` ç”¨æ¥æ³¨è§£ `moment` ç±»å‹çš„ date ï¼Œæˆ‘ä»¬å°†åœ¨æ¥ä¸‹æ¥çš„æ¥é©¬ä¸Šæ¥åˆ›å»ºå¯¹äºçš„ `./utils/data` æ–‡ä»¶ä»¥åŠå®‰è£…å¯¹äºçš„ `moment` ã€‚
{% endnote %}

åœ¨ `src/TodoInput.tsx` ä¸­æˆ‘ä»¬å¯¼å…¥äº† `Moment` ç”¨æ¥æ³¨è§£ `onDateOk` çš„å‡½æ•°å‚æ•° `date` ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥å®‰è£…å®ƒï¼š

```bash
npm install moment
```

```json package.json https://github.com/pftom/typescript-tea/blob/c19a68c181fd97f289ec5049355bcdfc48b30570/package.json æŸ¥çœ‹å®Œæ•´ä»£ç 
// ...
    "customize-cra": "^0.9.1",
    "less": "^3.11.1",
    "less-loader": "^5.0.0",
[tuture-add]    "moment": "^2.24.0",
    "react": "^16.13.0",
    "react-app-rewired": "^2.1.5",
    "react-dom": "^16.13.0",
    // ...
```

æ¥ç€æˆ‘ä»¬æ¥åˆ›å»ºå¯¹åº”çš„ `src/utils/data.ts` æ–‡ä»¶ï¼ŒæŠŠä¹‹å‰åœ¨ `src/App.tsx` é‡Œé¢çš„å‡æ•°æ®ç»Ÿä¸€æ”¾åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œé¢ï¼Œç„¶åå¯¼å‡ºï¼š

```ts src/utils/data.ts https://github.com/pftom/typescript-tea/blob/c19a68c181fd97f289ec5049355bcdfc48b30570/src/utils/data.ts æŸ¥çœ‹å®Œæ•´ä»£ç 
interface Todo {
  user: string;
  time: string;
  content: string;
  isCompleted: boolean;
}

interface User {
  id: string;
  name: string;
  avatar: string;
}

export const todoListData: Todo[] = [
  {
    content: 'å›¾é›€ç¤¾åŒºï¼šæ±‡èšç²¾å½©çš„å…è´¹å®æˆ˜æ•™ç¨‹',
    user: 'mRcfps',
    time: '2020å¹´3æœˆ2æ—¥ 19:34',
    isCompleted: false,
  },
  {
    content: 'å›¾é›€ç¤¾åŒºï¼šæ±‡èšç²¾å½©çš„å…è´¹å®æˆ˜æ•™ç¨‹',
    user: 'pftom',
    time: '2020å¹´3æœˆ2æ—¥ 19:34',
    isCompleted: false,
  },
  {
    content: 'å›¾é›€ç¤¾åŒºï¼šæ±‡èšç²¾å½©çš„å…è´¹å®æˆ˜æ•™ç¨‹',
    user: 'Holy',
    time: '2020å¹´3æœˆ2æ—¥ 19:34',
    isCompleted: false,
  },
  {
    content: 'å›¾é›€ç¤¾åŒºï¼šæ±‡èšç²¾å½©çš„å…è´¹å®æˆ˜æ•™ç¨‹',
    user: 'crxk',
    time: '2020å¹´3æœˆ2æ—¥ 19:34',
    isCompleted: false,
  },
  {
    content: 'å›¾é›€ç¤¾åŒºï¼šæ±‡èšç²¾å½©çš„å…è´¹å®æˆ˜æ•™ç¨‹',
    user: 'Pony',
    time: '2020å¹´3æœˆ2æ—¥ 19:34',
    isCompleted: false,
  },
];

export const userList: User[] = [
  {
    id: '666666666',
    name: 'å›¾é›€ç¤¾åŒº',
    avatar: 'https://avatars0.githubusercontent.com/u/39240800?s=60&v=4',
  },
  {
    id: '23410977',
    name: 'mRcfps',
    avatar: 'https://avatars0.githubusercontent.com/u/23410977?s=96&v=4',
  },
  {
    id: '25455350',
    name: 'crxk',
    avatar: 'https://avatars1.githubusercontent.com/u/25455350?s=96&v=4',
  },
  {
    id: '23410976',
    name: 'pftom',
    avatar: 'https://avatars0.githubusercontent.com/u/23410977?s=96&v=4',
  },
  {
    id: '58352313',
    name: 'holy',
    avatar: 'https://avatars0.githubusercontent.com/u/58352313?s=96&v=4',
  },
];
```

æ‹†åˆ†äº† `TodoInput` ï¼Œå¹¶æŠŠå‡æ•°æ®ç§»åŠ¨åˆ°å•ç‹¬çš„æ–‡ä»¶ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹ `src/App.tsx` å¯¹åº”çš„éƒ¨åˆ†å¦‚ä¸‹ï¼š

```ts src/App.tsx https://github.com/pftom/typescript-tea/blob/c19a68c181fd97f289ec5049355bcdfc48b30570/src/App.tsx æŸ¥çœ‹å®Œæ•´ä»£ç 
[tuture-del]import React, { useState, useRef } from "react";
[tuture-add]import React, { useRef } from "react";
import {
  List,
  Avatar,
  Button,
  Typography,
  Form,
[tuture-del]  Input,
[tuture-del]  Select,
[tuture-del]  DatePicker,
  Menu,
  Dropdown,
  Tabs
} from "antd";
import { DownOutlined } from "@ant-design/icons";

[tuture-add]import TodoInput from "./TodoInput";
[tuture-add]
import "./App.css";
import logo from "./logo.svg";

[tuture-add]import { todoListData } from "./utils/data";
[tuture-add]
const { Title } = Typography;
[tuture-del]const { Option } = Select;
const { TabPane } = Tabs;

[tuture-del]interface Todo {
[tuture-del]  user: string;
[tuture-del]  time: string;
[tuture-del]  content: string;
[tuture-del]  isCompleted: boolean;
[tuture-del]}
[tuture-del]
[tuture-del]interface User {
[tuture-del]  id: string;
[tuture-del]  name: string;
[tuture-del]  avatar: string;
[tuture-del]}
[tuture-del]
[tuture-del]const todoListData: Todo[] = [
[tuture-del]  {
[tuture-del]    content: "å›¾é›€ç¤¾åŒºï¼šæ±‡èšç²¾å½©çš„å…è´¹å®æˆ˜æ•™ç¨‹",
[tuture-del]    user: "mRcfps",
[tuture-del]    time: "2020å¹´3æœˆ2æ—¥ 19:34",
[tuture-del]    isCompleted: false
[tuture-del]  },
[tuture-del]  {
[tuture-del]    content: "å›¾é›€ç¤¾åŒºï¼šæ±‡èšç²¾å½©çš„å…è´¹å®æˆ˜æ•™ç¨‹",
[tuture-del]    user: "pftom",
[tuture-del]    time: "2020å¹´3æœˆ2æ—¥ 19:34",
[tuture-del]    isCompleted: false
[tuture-del]  },
[tuture-del]  {
[tuture-del]    content: "å›¾é›€ç¤¾åŒºï¼šæ±‡èšç²¾å½©çš„å…è´¹å®æˆ˜æ•™ç¨‹",
[tuture-del]    user: "Holy",
[tuture-del]    time: "2020å¹´3æœˆ2æ—¥ 19:34",
[tuture-del]    isCompleted: false
[tuture-del]  },
[tuture-del]  {
[tuture-del]    content: "å›¾é›€ç¤¾åŒºï¼šæ±‡èšç²¾å½©çš„å…è´¹å®æˆ˜æ•™ç¨‹",
[tuture-del]    user: "crxk",
[tuture-del]    time: "2020å¹´3æœˆ2æ—¥ 19:34",
[tuture-del]    isCompleted: false
[tuture-del]  },
[tuture-del]  {
[tuture-del]    content: "å›¾é›€ç¤¾åŒºï¼šæ±‡èšç²¾å½©çš„å…è´¹å®æˆ˜æ•™ç¨‹",
[tuture-del]    user: "Pony",
[tuture-del]    time: "2020å¹´3æœˆ2æ—¥ 19:34",
[tuture-del]    isCompleted: false
[tuture-del]  }
[tuture-del]];
[tuture-del]
[tuture-del]const userList: User[] = [
[tuture-del]  {
[tuture-del]    id: "666666666",
[tuture-del]    name: "å›¾é›€ç¤¾åŒº",
[tuture-del]    avatar: "https://avatars0.githubusercontent.com/u/39240800?s=60&v=4"
[tuture-del]  },
[tuture-del]  {
[tuture-del]    id: "23410977",
[tuture-del]    name: "mRcfps",
[tuture-del]    avatar: "https://avatars0.githubusercontent.com/u/23410977?s=96&v=4"
[tuture-del]  },
[tuture-del]  {
[tuture-del]    id: "25455350",
[tuture-del]    name: "crxk",
[tuture-del]    avatar: "https://avatars1.githubusercontent.com/u/25455350?s=96&v=4"
[tuture-del]  },
[tuture-del]  {
[tuture-del]    id: "23410977",
[tuture-del]    name: "pftom",
[tuture-del]    avatar: "https://avatars0.githubusercontent.com/u/23410977?s=96&v=4"
[tuture-del]  },
[tuture-del]  {
[tuture-del]    id: "58352313",
[tuture-del]    name: "holy",
[tuture-del]    avatar: "https://avatars0.githubusercontent.com/u/58352313?s=96&v=4"
[tuture-del]  }
[tuture-del]];
[tuture-del]
const menu = (
  <Menu>
    <Menu.Item>å®Œæˆ</Menu.Item>
    // ...
  </Menu>
);

[tuture-del]const TodoInput = ({ value = {} }) => {
[tuture-del]  return (
[tuture-del]    <div className="todoInput">
[tuture-del]      <Input type="text" placeholder="è¾“å…¥å¾…åŠäº‹é¡¹å†…å®¹" />
[tuture-del]      <Select style={{ width: 80 }} size="small" defaultValue="666666666">
[tuture-del]        {userList.map(user => (
[tuture-del]          <Option value={user.id}>{user.name}</Option>
[tuture-del]        ))}
[tuture-del]      </Select>
[tuture-del]      <DatePicker
[tuture-del]        size="small"
[tuture-del]        style={{ marginLeft: "16px", marginRight: "16px" }}
[tuture-del]      />
[tuture-del]    </div>
[tuture-del]  );
[tuture-del]};
[tuture-del]
function TodoList() {
  return (
    <List
      // ...
function App() {
  const callback = () => {};

[tuture-del]  const onFinish = () => {};
[tuture-add]  const onFinish = (values: any) => {
[tuture-add]    console.log("Received values from form: ", values);
[tuture-add]  };
  const ref = useRef(null);

  return (
    // ...
          <Form.Item name="todo">
            <TodoInput />
          </Form.Item>
[tuture-add]          <Form.Item>
[tuture-add]            <Button type="primary" htmlType="submit">
[tuture-add]              æäº¤
[tuture-add]            </Button>
[tuture-add]          </Form.Item>
        </Form>
      </div>
      <div className="container">
        // ...
```

å¯ä»¥çœ‹åˆ°ï¼Œä¸Šé¢çš„å†…å®¹ä¸»è¦åšå‡ºäº†å¦‚ä¸‹çš„ä¿®æ”¹ï¼š

- æˆ‘ä»¬åˆ é™¤äº†å¯¹åº”çš„å‡æ•°æ® `userList` å’Œ `todoListData` åŠå…¶ Interface å®šä¹‰ `Todo` å’Œ `User` ï¼Œè½¬è€Œä»æˆ‘ä»¬åˆ›å»ºçš„ `src/utils/data.ts` é‡Œé¢å¯¼å…¥ `todoListData`
- æ¥ç€æˆ‘ä»¬åˆ é™¤äº† `TodoInput` ç»„ä»¶ï¼Œè½¬è€Œå¯¼å…¥æˆ‘ä»¬ä¹‹å‰åˆ›å»ºçš„ `TodoInput` ç»„ä»¶
- æ¥ç€æˆ‘ä»¬ç»™ `Form` è¡¨å•éƒ¨åˆ†åŠ ä¸Šäº†ä¸€ä¸ªæäº¤æŒ‰é’®ï¼Œä»¥åŠæ‰©å±•äº† `onFinish` å‡½æ•°
- æœ€åæˆ‘ä»¬åˆ é™¤äº†ä¸€äº›ä¸å†éœ€è¦çš„å¯¼åŒ…

### å°ç»“

å¤§åŠŸå‘Šæˆï¼Œè¿™ä¸€èŠ‚ä¸­æˆ‘ä»¬å­¦ä¹ äº†æ¥å£ï¼ˆInterfaceï¼‰å’Œæšä¸¾ï¼ˆEnumï¼‰ï¼Œæ¥å£ä¸»è¦æ˜¯å¯¹å¯¹è±¡ç­‰å¤šå±æ€§å…ƒç´ è¿›è¡Œç±»å‹æ³¨è§£ï¼Œè€Œæšä¸¾æ˜¯ TS ä¸­ç‹¬æœ‰çš„ä¸€ä¸ªæ¦‚å¿µï¼Œåœ¨ JS ä¸­æ²¡æœ‰ï¼Œä¸»è¦ç”¨äºå¸®åŠ©å®šä¹‰ä¸€ç³»åˆ—å‘½åå¸¸é‡ï¼Œå¸¸ç”¨äºç»™ä¸€ç±»å˜é‡åšç±»å‹æ³¨è§£ï¼Œå®ƒä»¬çš„å€¼æ˜¯ä¸€ç»„å€¼é‡Œé¢çš„æŸä¸€ä¸ªï¼Œæœ€åæˆ‘ä»¬é€šè¿‡æ”¹è¿›ç°æœ‰çš„ Todo åº”ç”¨æ¥å®è·µäº†å­¦åˆ°çš„è¿™ä¸¤ä¸ªæ¦‚å¿µã€‚

> æœ¬æ–‡æ‰€æ¶‰åŠçš„æºä»£ç éƒ½æ”¾åœ¨äº† [Github](https://github.com/tuture-dev/typescript-tea)Â  æˆ–è€… [Gitee](https://gitee.com/tuture/typescript-tea) ä¸Šï¼Œå¦‚æœæ‚¨è§‰å¾—æˆ‘ä»¬å†™å¾—è¿˜ä¸é”™ï¼Œå¸Œæœ›æ‚¨èƒ½ç»™**â¤ï¸ è¿™ç¯‡æ–‡ç« ç‚¹èµ+**[**Github**](https://github.com/tuture-dev/typescript-tea)** æˆ– **[**Gitee**](https://gitee.com/tuture/typescript-tea)** ä»“åº“åŠ æ˜Ÿ â¤**ï¸ å“¦~

![](https://user-gold-cdn.xitu.io/2019/12/19/16f1ddb37a4d47a8?w=900&h=500&f=png&s=138401)
