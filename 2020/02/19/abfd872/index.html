<!DOCTYPE html>





<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <meta name="keywords" content="å›¾é›€ç¤¾åŒº,Tuture,Vue.jså®æˆ˜æ•™ç¨‹,å¾®ä¿¡å°ç¨‹åº,Kotlin,React Native,Webpack,MVVM,React.js,Node.js,Redux,Django,MongoDB,Docker,JavaScript,Java,Go,Kubernetes,Nuxt,vue-router,react-router,å°ç¨‹åº,è·¨ç«¯å¼€å‘,Taro,react hooks,redux-saga,learn by doing,Web å‰ç«¯å®æˆ˜æ•™ç¨‹,åç«¯å®æˆ˜æ•™ç¨‹,å°ç¨‹åºå®æˆ˜æ•™ç¨‹,ç§»åŠ¨ç«¯å®æˆ˜æ•™ç¨‹">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png?v=7.4.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png?v=7.4.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png?v=7.4.0">
  <link rel="mask-icon" href="/images/logo.svg?v=7.4.0" color="#222">
  <link rel="manifest" href="/images/manifest.json">
  <meta name="msapplication-config" content="/images/browserconfig.xml">
  <link rel="alternate" href="/atom.xml" title="å›¾é›€ç¤¾åŒº" type="application/atom+xml">
  <meta name="google-site-verification" content="uDCHIeBD5phhUIjsHM8GYeoNBYWJuQIJBjgchamUcAI">
  <meta name="yandex-verification" content="90341ba6c811f41d">

<link rel="stylesheet" href="/css/main.css?v=7.4.0">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.4.0',
    exturl: true,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":true,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":true},
    bookmark: {"enable":true,"color":"#222","save":"auto"},
    fancybox: true,
    mediumzoom: false,
    lazyload: true,
    pangu: true,
    algolia: {
      appID: '73BSUE4RKU',
      apiKey: '0b7cce26a4734cb760080065b3c4a4a1',
      indexName: 'Tuture',
      hits: {"per_page":10},
      labels: {"input_placeholder":"æœç´¢æ•™ç¨‹","hits_empty":"æˆ‘ä»¬æ‰¾ä¸åˆ°ä½ æœç´¢çš„æ•™ç¨‹: ${query}","hits_stats":"åœ¨ ${time} ms å†…æ‰¾åˆ° ${hits} æ¡ç»“æœ"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'å¤åˆ¶',
      copy_success: 'å¤åˆ¶æˆåŠŸ',
      copy_failure: 'å¤åˆ¶å¤±è´¥'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="åœ¨ä¸Šä¸¤ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬è®²è§£äº†ä½¿ç”¨å¾®ä¿¡å°ç¨‹åºäº‘ä½œä¸ºæˆ‘ä»¬çš„å°ç¨‹åºåå°ï¼Œç„¶åæˆ‘ä»¬è·‘é€šäº†æˆ‘ä»¬çš„æ³¨å†Œç™»å½•ã€åˆ›å»ºå¸–å­ã€è·å–å¸–å­åˆ—è¡¨ã€è·å–å¸–å­è¯¦æƒ…çš„å…¨æ ˆæµç¨‹ï¼Œå¦‚æœåªæƒ³äº†è§£å¾®ä¿¡å°ç¨‹åºçš„å…¨æ ˆå¼€å‘æµç¨‹çš„è¯ï¼Œä¹‹å‰çš„æ–‡ç« å·²ç»è¶³å¤Ÿäº†ï¼Œå¦‚æœè¿˜æƒ³äº†è§£è·¨ç«¯å¼€å‘å…¨æ ˆå¼€å‘æµç¨‹çš„è¯ï¼ˆå½“ç„¶ç”¨ Taro çš„åŒå­¦ä¼°è®¡ä¹Ÿæ¯”è¾ƒæœŸå¾…è·¨ç«¯çš„å…¨æ ˆå¼€å‘æµç¨‹ï¼Œæ‰‹åŠ¨æ»‘ç¨½ï¼‰æ¥ä¸‹æ¥è¿™ç¯‡æ–‡ç« å°±æ˜¯ä½ çš„èœäº†ğŸ˜†">
<meta property="og:type" content="article">
<meta property="og:title" content="Taro å°ç¨‹åºå¼€å‘å¤§å‹å®æˆ˜ï¼ˆå…­ï¼‰ï¼šLeanCloudï¼Œä¸€ç»Ÿæ±Ÿæ¹–">
<meta property="og:url" content="https://tuture.co/2020/02/19/abfd872/index.html">
<meta property="og:site_name" content="å›¾é›€ç¤¾åŒº">
<meta property="og:description" content="åœ¨ä¸Šä¸¤ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬è®²è§£äº†ä½¿ç”¨å¾®ä¿¡å°ç¨‹åºäº‘ä½œä¸ºæˆ‘ä»¬çš„å°ç¨‹åºåå°ï¼Œç„¶åæˆ‘ä»¬è·‘é€šäº†æˆ‘ä»¬çš„æ³¨å†Œç™»å½•ã€åˆ›å»ºå¸–å­ã€è·å–å¸–å­åˆ—è¡¨ã€è·å–å¸–å­è¯¦æƒ…çš„å…¨æ ˆæµç¨‹ï¼Œå¦‚æœåªæƒ³äº†è§£å¾®ä¿¡å°ç¨‹åºçš„å…¨æ ˆå¼€å‘æµç¨‹çš„è¯ï¼Œä¹‹å‰çš„æ–‡ç« å·²ç»è¶³å¤Ÿäº†ï¼Œå¦‚æœè¿˜æƒ³äº†è§£è·¨ç«¯å¼€å‘å…¨æ ˆå¼€å‘æµç¨‹çš„è¯ï¼ˆå½“ç„¶ç”¨ Taro çš„åŒå­¦ä¼°è®¡ä¹Ÿæ¯”è¾ƒæœŸå¾…è·¨ç«¯çš„å…¨æ ˆå¼€å‘æµç¨‹ï¼Œæ‰‹åŠ¨æ»‘ç¨½ï¼‰æ¥ä¸‹æ¥è¿™ç¯‡æ–‡ç« å°±æ˜¯ä½ çš„èœäº†ğŸ˜†">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://static.powerformer.com/c/34a473b/taro-cover-8.jpg">
<meta property="article:published_time" content="2020-02-19T02:16:40.222Z">
<meta property="article:modified_time" content="2021-08-08T15:06:45.314Z">
<meta property="article:author" content="å›¾é›€ç¤¾åŒº">
<meta property="article:tag" content="Taro">
<meta property="article:tag" content="LeanCloud">
<meta property="article:tag" content="Serverless">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://static.powerformer.com/c/34a473b/taro-cover-8.jpg">
  <link rel="canonical" href="https://tuture.co/2020/02/19/abfd872/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>Taro å°ç¨‹åºå¼€å‘å¤§å‹å®æˆ˜ï¼ˆå…­ï¼‰ï¼šLeanCloudï¼Œä¸€ç»Ÿæ±Ÿæ¹– | å›¾é›€ç¤¾åŒº</title>
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-124499211-1"></script>
  <script>
    var host = window.location.hostname;
    if (host !== "localhost" || !true) {
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-124499211-1');
    }
  </script>








  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

  <style>
    span.line.tuture-add {
      font-weight: bold;
    }

    span.line.tuture-del {
      opacity: 0.3;
    }

    .profileBox {
      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
    }

    .profileBox i {
      display: none;
    }

    .profileBox p {
      margin: 0;
      padding: 0;
    }

    .avatarBox {
      min-width: 60px;
    }

    .avatarBox .avatar {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      margin: 0;
    }

    .avatarBox .avatar:hover {
      cursor: pointer;
    }

    .avatarBox {
      margin-right: 20px;
    }

    .rightBox {
      display:flex;
      flex-direction: row;
      justify-content: flex-start;
      align-items: center;
    }

    .infoBox {
      min-width: 100px;
    }

    .infoBox p {
      padding: 0;
      margin: 0;
    }

    .infoBox .nickName {
      font-weight: bold;
      font-size: 20px;
      color: #979797;
      text-decoration: none;
    }

    .infoBox .nickName:hover {
      cursor: pointer;
    }

    .infoBox .motto {
      font-size: 16px;
      color: #979797;
    }

    .codeBox {
      margin-left: 49px;
      min-width: 100px;
    }

    .codeBox a {
      text-decoration: none;
    }

    .codeBox .exturl {
      border: none;
    }

    .codeBox span.codeText {
      display: inline-block;
      width: 100px;
      height: 40px;
      border-radius: 4px;
      border: 1px solid #979797;
      color: #979797;
      text-align: center;
      line-height: 40px;
      text-decoration: none;;
      transition: all 0.2s ease-in-out;
    }

    .codeBox .codeText:hover {
      cursor: pointer;
      background-color: #979797;
      color: #ffffff;
    }

    @media screen and (max-width:652px) {
      .profileBox {
        align-items: center;
        flex-direction: column;
      }

      .infoBox {
        margin-bottom: 20px;
      }

      .infoBox .nickName {
        text-align: center;
      }

      .rightBox {
        flex-direction: column;
        align-items: flex-start;
      }

      .codeBox {
        margin-left: 0;
      }

      .avatarBox {
        margin-right: 0;
      }
    }

    @media screen and (max-width:500px) {
      .rightBox {
        align-items: center;
      }

      .infoBox {
        margin-bottom: 20px;
      }

      .infoBox .nickName {
        text-align: center;
      }

      .infoBox .motto {
        text-align: center;
      }
    }

    .vsys {
      display:none !important;
      }

      figcaption .exturl {
        float: right;
      }
  </style>
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.15.10/build/styles/default.min.css">
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">
  <div class="container">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">å›¾é›€ç¤¾åŒº</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <h1 class="site-subtitle" itemprop="description">æ±‡é›†ç²¾å½©çš„å®æˆ˜æŠ€æœ¯æ•™ç¨‹</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    
      
      
        
      
        
      
        
      
        
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>é¦–é¡µ</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-tags">
      
    
      
      
        
      
        
      
        
          
        
      
        
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>æ ‡ç­¾<span class="badge">45</span></a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-categories">
      
    
      
      
        
      
        
          
        
      
        
      
        
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>åˆ†ç±»<span class="badge">22</span></a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    
      
      
        
          
        
      
        
      
        
      
        
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>å½’æ¡£<span class="badge">58</span></a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-æ—©æŠ¥">
      
    
      
      
        
      
        
      
        
      
        
      
    

    <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3R1dHVyZS1kZXYvZGFpbHk="><i class="menu-item-icon fa fa-fw fa-calendar"></i> <br>æ—©æŠ¥</span>

  </li>
      
      
      
        
        <li class="menu-item menu-item-about">
      
    
      
      
        
      
        
      
        
      
        
      
    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>å…³äº</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-æ–‡æ¡£">
      
    
      
      
        
      
        
      
        
      
        
      
    

    <span class="exturl" data-url="aHR0cHM6Ly93d3cueXVxdWUuY29tL3R1dHVyZS9wcm9kdWN0LW1hbnVhbHM="><i class="menu-item-icon fa fa-fw fa-book"></i> <br>æ–‡æ¡£</span>

  </li>
      
      
      
        
        <li class="menu-item menu-item-faq">
      
    
      
      
        
      
        
      
        
      
        
      
    

    <a href="/FAQ" rel="section"><i class="menu-item-icon fa fa-fw fa-question"></i> <br>FAQ</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger">
        
          <i class="menu-item-icon fa fa-search fa-fw"></i> <br>æœç´¢</a>
      </li>
    
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input" id="search-input"></div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="algolia-results">
  <div id="algolia-stats"></div>
  <div id="algolia-hits"></div>
  <div id="algolia-pagination" class="algolia-pagination"></div>
</div>

  
</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <span class="exturl github-corner" data-url="aHR0cHM6Ly9naXRodWIuY29tL3R1dHVyZXByb2plY3QvaHVi" title="Follow me on GitHub" aria-label="Follow me on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></span>


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
            

          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
      <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block post">
    <link itemprop="mainEntityOfPage" href="https://tuture.co/2020/02/19/abfd872/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="å›¾é›€ç¤¾åŒº">
      <meta itemprop="description" content="å›¾é›€ç¤¾åŒºæ˜¯ä¸€ä¸ªä¾›å¤§å®¶åˆ†äº«ç”¨ Tuture å†™ä½œå·¥å…·å®Œæˆçš„æ•™ç¨‹çš„ä¸€ä¸ªå¹³å°ã€‚åœ¨è¿™é‡Œï¼Œè¯»è€…ä»¬å¯ä»¥å°½æƒ…äº«å—é«˜è´¨é‡ä¸”å…è´¹çš„å®æˆ˜æ•™ç¨‹ï¼Œå¹¶èƒ½ä¸ä½œè€…å’Œå…¶ä»–è¯»è€…äº’åŠ¨å’Œè®¨è®ºï¼›è€Œä½œè€…ä»¬ä¹Ÿå¯ä»¥å€Ÿæ­¤ä¼ æ’­ä»–ä»¬çš„æŠ€æœ¯çŸ¥è¯†ï¼Œå®£ä¼ ä»–ä»¬çš„å¼€æºé¡¹ç›®ï¼Œæ‰¾åˆ°è‡ªå·±è¾“å‡ºå†…å®¹çš„å—ä¼—ï¼ŒåŠ é€ŸæŠ€æœ¯çš„ä¼ æ’­ã€‚">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="å›¾é›€ç¤¾åŒº">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">Taro å°ç¨‹åºå¼€å‘å¤§å‹å®æˆ˜ï¼ˆå…­ï¼‰ï¼šLeanCloudï¼Œä¸€ç»Ÿæ±Ÿæ¹–

          
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-02-19 10:16:40" itemprop="dateCreated datePublished" datetime="2020-02-19T10:16:40+08:00">2020-02-19</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-08-08 23:06:45" itemprop="dateModified" datetime="2021-08-08T23:06:45+08:00">2021-08-08</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E5%B0%8F%E7%A8%8B%E5%BA%8F/" itemprop="url" rel="index"><span itemprop="name">å°ç¨‹åº</span></a></span>

                
                
                  ï¼Œ
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E5%B0%8F%E7%A8%8B%E5%BA%8F/Taro/" itemprop="url" rel="index"><span itemprop="name">Taro</span></a></span>

                
                
                  ï¼Œ
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E5%B0%8F%E7%A8%8B%E5%BA%8F/Taro/%E8%BF%9B%E9%98%B6/" itemprop="url" rel="index"><span itemprop="name">è¿›é˜¶</span></a></span>

                
                
              
            </span>
          

          
            <span class="post-meta-item" title="é˜…è¯»æ¬¡æ•°" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
          
          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
              
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              
              <span>12k</span>
            </span>
          
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
              
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              
              <span>11 åˆ†é’Ÿ</span>
            </span>
          
            <div class="post-description">åœ¨ä¸Šä¸¤ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬è®²è§£äº†ä½¿ç”¨å¾®ä¿¡å°ç¨‹åºäº‘ä½œä¸ºæˆ‘ä»¬çš„å°ç¨‹åºåå°ï¼Œç„¶åæˆ‘ä»¬è·‘é€šäº†æˆ‘ä»¬çš„æ³¨å†Œç™»å½•ã€åˆ›å»ºå¸–å­ã€è·å–å¸–å­åˆ—è¡¨ã€è·å–å¸–å­è¯¦æƒ…çš„å…¨æ ˆæµç¨‹ï¼Œå¦‚æœåªæƒ³äº†è§£å¾®ä¿¡å°ç¨‹åºçš„å…¨æ ˆå¼€å‘æµç¨‹çš„è¯ï¼Œä¹‹å‰çš„æ–‡ç« å·²ç»è¶³å¤Ÿäº†ï¼Œå¦‚æœè¿˜æƒ³äº†è§£è·¨ç«¯å¼€å‘å…¨æ ˆå¼€å‘æµç¨‹çš„è¯ï¼ˆå½“ç„¶ç”¨ Taro çš„åŒå­¦ä¼°è®¡ä¹Ÿæ¯”è¾ƒæœŸå¾…è·¨ç«¯çš„å…¨æ ˆå¼€å‘æµç¨‹ï¼Œæ‰‹åŠ¨æ»‘ç¨½ï¼‰æ¥ä¸‹æ¥è¿™ç¯‡æ–‡ç« å°±æ˜¯ä½ çš„èœäº†ğŸ˜†</div>
          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <div class="post-gallery" itemscope itemtype="http://schema.org/ImageGallery">
            <div class="post-gallery-row">
              <img src="https://static.powerformer.com/c/34a473b/taro-cover-8.jpg" itemprop="contentUrl">
            
          

          </div>
        </div>
        <div class="profileBox">
  <div class="avatarBox">
    <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3R1dHVyZS1kZXY=" title="https://github.com/tuture-dev"><img alt class="avatar" data-src="/images/avatars/tuture-dev.jpg"><i class="fa fa-external-link"></i></span>
  </div>
  <div class="rightBox">
    <div class="infoBox">
    <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3R1dHVyZS1kZXY=" title="https://github.com/tuture-dev"><p class="nickName">@tuture-dev</p><i class="fa fa-external-link"></i></span>
  </div>
  <div class="codeBox">
    <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3R1dHVyZS1kZXYvdWx0cmEtY2x1Yg==" title="https://github.com/tuture-dev/ultra-club"><span class="codeText">æŸ¥çœ‹ä»£ç </span><i class="fa fa-external-link"></i></span>
  </div>
  </div>
</div><a id="more"></a>

<h2 id="LeanCloud-ä¸€ç»Ÿæ±Ÿæ¹–"><a href="#LeanCloud-ä¸€ç»Ÿæ±Ÿæ¹–" class="headerlink" title="LeanCloud,ä¸€ç»Ÿæ±Ÿæ¹–"></a>LeanCloud,ä¸€ç»Ÿæ±Ÿæ¹–</h2><p>åœ¨ä¸Šä¸¤ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬è®²è§£äº†ä½¿ç”¨å¾®ä¿¡å°ç¨‹åºäº‘ä½œä¸ºæˆ‘ä»¬çš„å°ç¨‹åºåå°ï¼Œç„¶åæˆ‘ä»¬è·‘é€šäº†æˆ‘ä»¬çš„æ³¨å†Œç™»å½•ã€åˆ›å»ºå¸–å­ã€è·å–å¸–å­åˆ—è¡¨ã€è·å–å¸–å­è¯¦æƒ…çš„å…¨æ ˆæµç¨‹ï¼Œå¦‚æœåªæƒ³äº†è§£å¾®ä¿¡å°ç¨‹åºçš„å…¨æ ˆå¼€å‘æµç¨‹çš„è¯ï¼Œä¹‹å‰çš„æ–‡ç« å·²ç»è¶³å¤Ÿäº†ï¼Œå¦‚æœè¿˜æƒ³äº†è§£è·¨ç«¯å¼€å‘å…¨æ ˆå¼€å‘æµç¨‹çš„è¯ï¼ˆå½“ç„¶ç”¨ Taro çš„åŒå­¦ä¼°è®¡ä¹Ÿæ¯”è¾ƒæœŸå¾…è·¨ç«¯çš„å…¨æ ˆå¼€å‘æµç¨‹ï¼Œæ‰‹åŠ¨æ»‘ç¨½ï¼‰æ¥ä¸‹æ¥è¿™ç¯‡æ–‡ç« å°±æ˜¯ä½ çš„èœäº†ğŸ˜†</p>
<p>é¦–å…ˆæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹æœ€ç»ˆçš„è¿è¡Œæ•ˆæœï¼š</p>
<p><img alt data-src="https://static.powerformer.com/c/34a473b/1705b4e9b0b79869.gif"></p>
<p>åœ¨è¿™ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ¥å…¥ LeanCloud Serverless æœåŠ¡ï¼Œå®ƒç±»ä¼¼å¾®ä¿¡å°ç¨‹åºäº‘ï¼Œåªä¸è¿‡å®ƒæ²¡æœ‰å¹³å°å±æ€§ï¼Œæ‰€æœ‰çš„ç«¯éƒ½å¯ä»¥ä¾¿æ·è®¿é—®ï¼Œç›¸ä¿¡ä½ å·²ç»è¿«ä¸åŠå¾…äº†ï¼Œè®©æˆ‘ä»¬é©¬ä¸Šå¼€å§‹å§ğŸ’ªï¼</p>
<h3 id="å°ç¨‹åºæ¥å…¥å¤–ç½‘çš„æµç¨‹"><a href="#å°ç¨‹åºæ¥å…¥å¤–ç½‘çš„æµç¨‹" class="headerlink" title="å°ç¨‹åºæ¥å…¥å¤–ç½‘çš„æµç¨‹"></a>å°ç¨‹åºæ¥å…¥å¤–ç½‘çš„æµç¨‹</h3><p>å› ä¸ºå°ç¨‹åºæ˜¯å°è£…åœ¨ä¸€äº›å·¨å‹ App åº”ç”¨é‡Œçš„æ²™ç›’ç¯å¢ƒä¹‹å†…ï¼Œæ‰€ä»¥å¯¹äºæ¥å…¥å¤–ç«™çš„æœåŠ¡éœ€è¦ä¸€äº›ç‰¹æ®Šçš„æµç¨‹ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œæ€»ç»“ä¸€ä¸‹ï¼š</p>
<ul>
<li>æ³¨å†Œå¤–ç«™æœåŠ¡çš„è´¦å·</li>
<li>æ‰¾åˆ°å¯¹åº”çš„å°ç¨‹åºå¼€å‘æ¥å…¥æŒ‡å—</li>
<li>è·å–å¯¹åº”çš„æ¥å…¥åœ°å€ï¼Œå°†æ¥å…¥åœ°å€å¡«å…¥å°ç¨‹åºåå°çš„ç™½åå•åˆ—è¡¨</li>
<li>åœ¨å°ç¨‹åºå®é™…æ¥å…¥ï¼Œå¹¶è¿›è¡Œæµ‹è¯•</li>
</ul>
<p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬çš„å¤–ç«™ç‰¹æŒ‡ LeanCloud Serverless äº‘æœåŠ¡ï¼Œå°ç¨‹åºç‰¹æŒ‡å¾®ä¿¡å°ç¨‹åºå’Œæ”¯ä»˜å®å°ç¨‹åºã€‚</p>
<p>å¥½çš„ï¼Œäº†è§£äº†æµç¨‹ä¹‹åï¼Œæˆ‘ä»¬ç°åœ¨æ¥èµ°ä¸€éæµç¨‹æ¥å°†æˆ‘ä»¬çš„ LeanCloud æ¥å…¥åˆ°å¾®ä¿¡/æ”¯ä»˜å®å°ç¨‹åºã€‚</p>
<h4 id="æ³¨å†Œå¤–ç«™æœåŠ¡çš„è´¦å·"><a href="#æ³¨å†Œå¤–ç«™æœåŠ¡çš„è´¦å·" class="headerlink" title="æ³¨å†Œå¤–ç«™æœåŠ¡çš„è´¦å·"></a>æ³¨å†Œå¤–ç«™æœåŠ¡çš„è´¦å·</h4><p>è®¿é—® LeanCloud ç½‘å€ï¼š<span class="exturl" data-url="aHR0cHM6Ly93d3cubGVhbmNsb3VkLmNuLw==" title="https://www.leancloud.cn/">ç‚¹æˆ‘è®¿é—®<i class="fa fa-external-link"></i></span>ï¼Œå®Œæˆæ³¨å†Œç™»å½•æµç¨‹ã€‚</p>
<h4 id="æ‰¾åˆ°å¯¹åº”çš„å°ç¨‹åºå¼€å‘æ¥å…¥æŒ‡å—"><a href="#æ‰¾åˆ°å¯¹åº”çš„å°ç¨‹åºå¼€å‘æ¥å…¥æŒ‡å—" class="headerlink" title="æ‰¾åˆ°å¯¹åº”çš„å°ç¨‹åºå¼€å‘æ¥å…¥æŒ‡å—"></a>æ‰¾åˆ°å¯¹åº”çš„å°ç¨‹åºå¼€å‘æ¥å…¥æŒ‡å—</h4><p>è¿™é‡Œæˆ‘ä»¬æ‰¾åˆ° LeanCloud å¾®ä¿¡/QQ å°ç¨‹åºæ¥å…¥æŒ‡å—ï¼š<span class="exturl" data-url="aHR0cHM6Ly9sZWFuY2xvdWQuY24vZG9jcy93ZWFwcC5odG1s" title="https://leancloud.cn/docs/weapp.html">ç‚¹æˆ‘è®¿é—®<i class="fa fa-external-link"></i></span></p>
<div class="note info">
            <p><strong>æç¤º</strong></p><p>LeanCloud æ²¡æœ‰æä¾›æ”¯ä»˜å®çš„æ¥å…¥æŒ‡å—ï¼Œä½†æ˜¯å°ç¨‹åºæ¥å…¥æŒ‡å—éƒ½åŸºæœ¬ç±»ä¼¼ï¼Œæˆ‘ä»¬ä¼šä¸€ä¸€è®²è§£è¿™ä¸€æµç¨‹ã€‚</p>
          </div>

<h4 id="è·å–å¯¹åº”çš„æ¥å…¥åœ°å€"><a href="#è·å–å¯¹åº”çš„æ¥å…¥åœ°å€" class="headerlink" title="è·å–å¯¹åº”çš„æ¥å…¥åœ°å€"></a>è·å–å¯¹åº”çš„æ¥å…¥åœ°å€</h4><p>LeanCloud å·²ç»æœ‰è¯¦ç»†çš„é“¾æ¥æç¤ºå¦‚ä½•æ¥å…¥ï¼š</p>
<p><img alt data-src="https://static.powerformer.com/c/34a473b/1705b4b3d3c87988.jpeg"></p>
<p>å¯¹äºæ”¯ä»˜å®å°ç¨‹åºçš„ç™½åå•é…ç½®åœ°å€å¦‚ä¸‹ï¼š<span class="exturl" data-url="aHR0cHM6Ly9taW5pLm9wZW4uYWxpcGF5LmNvbS9jaGFubmVsL21pbmlJbmRleC5odG0=" title="https://mini.open.alipay.com/channel/miniIndex.htm">ç‚¹æˆ‘è®¿é—®<i class="fa fa-external-link"></i></span>ã€‚</p>
<h4 id="åœ¨å°ç¨‹åºå®é™…æ¥å…¥ï¼Œå¹¶è¿›è¡Œæµ‹è¯•"><a href="#åœ¨å°ç¨‹åºå®é™…æ¥å…¥ï¼Œå¹¶è¿›è¡Œæµ‹è¯•" class="headerlink" title="åœ¨å°ç¨‹åºå®é™…æ¥å…¥ï¼Œå¹¶è¿›è¡Œæµ‹è¯•"></a>åœ¨å°ç¨‹åºå®é™…æ¥å…¥ï¼Œå¹¶è¿›è¡Œæµ‹è¯•</h4><p>æœ€åæˆ‘ä»¬éœ€è¦è¿›è¡Œå°ç¨‹åºçš„å®é™…æ¥å…¥ï¼Œå› ä¸º LeanCloud å¹¶æ²¡æœ‰æä¾›æ”¯ä»˜å®å°ç¨‹åºçš„ SDK åŒ…ï¼Œè¿™é‡Œå¯¹äºæ”¯ä»˜å®å°ç¨‹åºæˆ‘ä»¬ä½¿ç”¨ LeanCloud æä¾›çš„ REST æ¥å£è¿›è¡Œè®¿é—®ï¼Œå…·ä½“åœ°å€å¦‚ä¸‹ï¼š<span class="exturl" data-url="aHR0cHM6Ly9sZWFuY2xvdWQuY24vZG9jcy9sZWFuZW5naW5lLXJlc3QtYXBpLmh0bWwjaGFzaDIwMDA1MjIw" title="https://leancloud.cn/docs/leanengine-rest-api.html#hash20005220">ç‚¹æˆ‘è®¿é—®<i class="fa fa-external-link"></i></span>ã€‚</p>
<h3 id="å®šä¹‰-LeanCloud-ç›¸å…³çš„è¾…åŠ©å‡½æ•°"><a href="#å®šä¹‰-LeanCloud-ç›¸å…³çš„è¾…åŠ©å‡½æ•°" class="headerlink" title="å®šä¹‰ LeanCloud ç›¸å…³çš„è¾…åŠ©å‡½æ•°"></a>å®šä¹‰ LeanCloud ç›¸å…³çš„è¾…åŠ©å‡½æ•°</h3><p>å¯¹äºæ¥å…¥ LeanCloudï¼Œæˆ‘ä»¬éœ€è¦åœ¨åº”ç”¨ä¸­åšä¸€ç³»åˆ—åˆå§‹åŒ–ç¯å¢ƒçš„å‡†å¤‡ï¼Œåœ¨ <code>src/api/</code> æ–‡ä»¶å¤¹ä¸‹åˆ›å»º <code>utils.js</code> æ–‡ä»¶ï¼Œå¹¶åœ¨å…¶ä¸­ç¼–å†™å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><figcaption><span>src/api/utils.js</span><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3R1dHVyZS1kZXYvdWx0cmEtY2x1Yi9ibG9iL2FiZmQ4NzIvc3JjL2FwaS91dGlscy5qcw==" title="https://github.com/tuture-dev/ultra-club/blob/abfd872/src/api/utils.js">æŸ¥çœ‹å®Œæ•´ä»£ç <i class="fa fa-external-link"></i></span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> API_BASE_URL = <span class="string">''</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> LOGIN_URL = <span class="string">`<span class="subst">$&#123;API_BASE_URL&#125;</span>/1.1/functions/login`</span></span><br><span class="line"><span class="keyword">const</span> CREATE_POST_URL = <span class="string">`<span class="subst">$&#123;API_BASE_URL&#125;</span>/1.1/functions/createPost`</span></span><br><span class="line"><span class="keyword">const</span> GET_POST_URL = <span class="string">`<span class="subst">$&#123;API_BASE_URL&#125;</span>/1.1/functions/getPost`</span></span><br><span class="line"><span class="keyword">const</span> GET_POSTS_URL = <span class="string">`<span class="subst">$&#123;API_BASE_URL&#125;</span>/1.1/functions/getPosts`</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> HEADER = &#123;</span><br><span class="line">  <span class="string">'X-LC-Prod'</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="string">'X-LC-Id'</span>: <span class="string">''</span>,</span><br><span class="line">  <span class="string">'X-LC-Key'</span>: <span class="string">''</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> convertUserFormat = <span class="function"><span class="params">user</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> _id = user.objectId</span><br><span class="line">  <span class="keyword">delete</span> user.objectId</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123; ...user, _id &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> convertPostFormat = <span class="function"><span class="params">post</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> _id = post.objectId</span><br><span class="line">  <span class="keyword">const</span> user = convertUserFormat(post.user)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">delete</span> post.objectId</span><br><span class="line">  <span class="keyword">delete</span> post.user</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123; ...post, _id, user &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> convertPostsFormat = <span class="function"><span class="params">posts</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> convertedPosts = posts.map(<span class="function"><span class="params">post</span> =&gt;</span> convertPostFormat(post))</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> convertedPosts</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123;</span><br><span class="line">  LOGIN_URL,</span><br><span class="line">  HEADER,</span><br><span class="line">  CREATE_POST_URL,</span><br><span class="line">  GET_POST_URL,</span><br><span class="line">  GET_POSTS_URL,</span><br><span class="line">  convertPostsFormat,</span><br><span class="line">  convertPostFormat,</span><br><span class="line">  convertUserFormat,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œä¸Šé¢çš„ä»£ç ä¸»è¦åˆ†ä¸ºå››ä¸ªéƒ¨åˆ†ï¼š</p>
<ul>
<li>å®šä¹‰äº‘å‡½æ•°çš„ REST URLï¼ŒLeanCloud çš„äº‘å‡½æ•° REST URL çš„æ ¼å¼ç±»ä¼¼è¿™æ ·ï¼š<code>https://API_BASE_URL/1.1/functions/functionName</code>ï¼Œå…¶ä¸­ <code>API_BASE_URL</code> å¯ä»¥é€šè¿‡æ–‡æ¡£è·å–ï¼š<span class="exturl" data-url="aHR0cHM6Ly9sZWFuY2xvdWQuY24vZG9jcy9sZWFuZW5naW5lLXJlc3QtYXBpLmh0bWwjaGFzaC0xNzIyNjUwNTA5" title="https://leancloud.cn/docs/leanengine-rest-api.html#hash-1722650509">ç‚¹æˆ‘è®¿é—®<i class="fa fa-external-link"></i></span>ï¼›è€Œ <code>functionName</code> å³ä¸ºæˆ‘ä»¬éœ€è¦è°ƒç”¨çš„äº‘å‡½æ•°åå­—ã€‚è¿™é‡Œæˆ‘ä»¬å®šä¹‰äº† <code>API_BASE_URL</code> ï¼Œæˆ‘ä»¬ç»™äº†ç©ºå­—ç¬¦ä¸²ï¼Œè¯»è€…å¯ä»¥æ ¹æ® LeanCloud ç»™ä¸çš„ <code>Base URL</code> æ›¿ä»£ç©ºå­—ç¬¦ä¸²ï¼›åŒæ ·æˆ‘ä»¬å®šä¹‰äº†å››ä¸ªäº‘å‡½æ•°ï¼Œåˆ†åˆ«ä»£è¡¨ç™»å½•ã€åˆ›å¸–ã€æŸ¥è¯¢å¸–å­åˆ—è¡¨ã€æŸ¥è¯¢å•ä¸ªå¸–å­ï¼Œå…·ä½“çš„äº‘ç«¯äº‘å‡½æ•°æˆ‘ä»¬å°†åœ¨åé¢å®šä¹‰ã€‚</li>
<li>ç¬¬äºŒä¸ªéƒ¨åˆ†å³ä¸ºå‘ LeanCloud æœåŠ¡å™¨å‘é€ REST è¯·æ±‚æ—¶éœ€è¦æºå¸¦çš„è¯·æ±‚å¤´éƒ¨ï¼Œè¿™ä¸ªä¹Ÿå¯ä»¥åœ¨æ–‡æ¡£é‡Œç»™å‡ºï¼š<span class="exturl" data-url="aHR0cHM6Ly9sZWFuY2xvdWQuY24vZG9jcy9sZWFuZW5naW5lLXJlc3QtYXBpLmh0bWwjaGFzaDIwMDA1MjIw" title="https://leancloud.cn/docs/leanengine-rest-api.html#hash20005220">ç‚¹æˆ‘è®¿é—®<i class="fa fa-external-link"></i></span>ï¼›è¿™é‡Œä¹Ÿéœ€è¦ç”¨æˆ·ç”¨è‡ªå·±çš„å†…å®¹æ¥æ›¿æ¢ä¸Šé¢çš„ç©ºå­—ç¬¦ä¸²ã€‚</li>
<li>ç¬¬ä¸‰ä¸ªéƒ¨åˆ†åˆ™ä¸ºä¸¤ä¸ªè¾…åŠ©è½¬æ¢æ ¼å¼çš„å‡½æ•°ï¼Œä¸»è¦ç”¨äºå°† LeanCloud æ•°æ®åº“æ ¼å¼çš„æ•°æ®ä¸ç°æœ‰çš„å¾®ä¿¡å°ç¨‹åºæ•°æ®åº“æ ¼å¼çš„æ•°æ®å…¼å®¹ã€‚</li>
<li>ç¬¬å››ä¸ªéƒ¨åˆ†ä¸ºå¯¼å‡ºè¿™äº›å®šä¹‰çš„å†…å®¹ï¼Œä¾›å…¶å®ƒæ¨¡å—ä½¿ç”¨ã€‚</li>
</ul>
<div class="note info">
            <p><strong>æç¤º</strong></p><p>ä¸Šé¢çš„ <code>API_BASE_URL</code> å’Œ <code>HEADER</code> éƒ½éœ€è¦ç”¨æˆ·åœ¨ç™»å½•çš„æƒ…å†µä¸‹è®¿é—®ç»™å‡ºçš„åœ°å€æ‰èƒ½è·å–åˆ°ã€‚</p>
          </div>

<h3 id="åœ¨-LeanCloud-ä¸Šé¢åˆ›å»ºæ•°æ®åº“è¡¨"><a href="#åœ¨-LeanCloud-ä¸Šé¢åˆ›å»ºæ•°æ®åº“è¡¨" class="headerlink" title="åœ¨ LeanCloud ä¸Šé¢åˆ›å»ºæ•°æ®åº“è¡¨"></a>åœ¨ LeanCloud ä¸Šé¢åˆ›å»ºæ•°æ®åº“è¡¨</h3><p>ç™»å½• LeanCloud æ§åˆ¶å°ï¼Œåœ¨å·¦è¾¹æ çš„ <strong>å­˜å‚¨ &gt; ç»“æ„åŒ–æ•°æ®</strong> å¯ä»¥çœ‹åˆ°åˆ›å»º Class çš„æŒ‰é’®ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ª Class æ¥åˆ›å»ºä¸€å¼ æ•°æ®åº“è¡¨ï¼š</p>
<p><img alt data-src="https://static.powerformer.com/c/34a473b/1705b4b3d457d461.jpeg"></p>
<p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬åˆ›å»ºäº†ä¸¤å¼ è¡¨ï¼š<code>Post</code> å’Œ <code>MyUser</code>ï¼Œä¸€ä¸ªå­˜æ”¾å’Œå¸–å­ç›¸å…³çš„æ•°æ®ï¼Œä¸€ä¸ªå­˜æ”¾å’Œç”¨æˆ·ç›¸å…³çš„æ•°æ®ã€‚å…¶ä¸­ <code>MyUser</code> ç±»ä¼¼ä¹‹å‰æˆ‘ä»¬åœ¨å¾®ä¿¡å°ç¨‹åºæ•°æ®åº“è¡¨æ—¶çš„ <code>user</code> è¡¨ã€‚</p>
<h4 id="å®šä¹‰-MyUser-å­—æ®µ"><a href="#å®šä¹‰-MyUser-å­—æ®µ" class="headerlink" title="å®šä¹‰ MyUser å­—æ®µ"></a>å®šä¹‰ MyUser å­—æ®µ</h4><p>å¦‚å›¾ä¹‹å‰åœ¨å¾®ä¿¡å°ç¨‹åºæ•°æ®åº“è¡¨åˆ›å»ºæ—¶ä¸€æ ·ï¼Œæˆ‘ä»¬åŒæ ·ä¸º <code>MyUser</code> å®šä¹‰å¦‚ä¸‹çš„å­—æ®µï¼š</p>
<ul>
<li>avatar</li>
<li>nickName</li>
</ul>
<p>è‡³äºè¯»è€…çœ‹åˆ°çš„å…¶å®ƒå­—æ®µéƒ½æ˜¯ LeanCloud é»˜è®¤åˆ›å»ºä¸”è‡ªåŠ¨æ›´æ–°çš„å­—æ®µï¼Œç”¨æˆ·ä¸å¯ä»¥æ“ä½œã€‚</p>
<h4 id="å®šä¹‰-Post-å­—æ®µ"><a href="#å®šä¹‰-Post-å­—æ®µ" class="headerlink" title="å®šä¹‰ Post å­—æ®µ"></a>å®šä¹‰ Post å­—æ®µ</h4><p>åŒæ ·å’Œä¹‹å‰åœ¨å¾®ä¿¡å°ç¨‹åºé‡Œé¢åˆ›å»º <code>post</code> ä¸€æ ·ï¼Œæˆ‘ä»¬ç»™ Post å®šä¹‰å¦‚ä¸‹å­—æ®µ:</p>
<ul>
<li>content</li>
<li>title</li>
<li>user</li>
</ul>
<p>çœ¼å°–çš„åŒå­¦å¯èƒ½æ³¨æ„åˆ°äº†ï¼Œè¿™é‡Œçš„ <code>user</code> å­—æ®µæ˜¯ä¸€ä¸ª <code>Pointer</code> ç±»å‹ï¼Œå®ƒæ˜¯ LeanCloud æ•°æ®è¡¨ç‹¬æœ‰çš„å¼•ç”¨ç±»å‹ï¼Œç±»ä¼¼å…³ç³»æ•°æ®åº“é‡Œé¢çš„å¤–é”®ï¼Œå³å­˜ä¸€ä¸ªæŒ‡é’ˆï¼Œä¹‹åè·å–æ•°æ®çš„æ—¶å€™å¯ä»¥ä¾¿æ·çš„è·å–å¯¹åº”çš„ <code>user</code> æ•°æ®ã€‚</p>
<h4 id="å…³äºé»˜è®¤-Class-çš„è§£é‡Š"><a href="#å…³äºé»˜è®¤-Class-çš„è§£é‡Š" class="headerlink" title="å…³äºé»˜è®¤ Class çš„è§£é‡Š"></a>å…³äºé»˜è®¤ Class çš„è§£é‡Š</h4><p>è¿™é‡Œæœ‰äº›è¯»è€…å¯èƒ½æœ‰ç–‘é—®ï¼Œä¸ºä»€ä¹ˆè¿˜æœ‰ä¸€äº›å¤šä½™çš„è¡¨äº†ï¼Ÿè¿™äº›ä»¥ä¸‹åˆ’çº¿å¼€å¤´çš„ Class å…¶å®æ˜¯ LeanCloud é»˜è®¤åˆ›å»ºçš„ï¼Œä¸å…è®¸åˆ é™¤ï¼Œç”¨äº LeanCloud SDK å°è£…ä¸€ç³»åˆ—å¸¸ç”¨ä¸”å¤æ‚çš„åº”ç”¨åŠŸèƒ½ï¼Œä¾›ç”¨æˆ·å¿«é€Ÿæ­å»º App/ç½‘ç«™/å°ç¨‹åºåŸå‹ï¼Œæ¯”å¦‚ç±»ä¼¼å¾®ä¿¡çš„æœ‹å‹åœˆåŠŸèƒ½ï¼ŒLeanCloud æä¾›å¼€ç®±å³ç”¨çš„é€»è¾‘ï¼Œä½ å¯ä»¥ç›´æ¥è°ƒç”¨ã€‚</p>
<p>å¹¶ä¸”ï¼Œç±»ä¼¼ <code>_User</code> å’Œ <code>User</code> Class å…¶å®æ˜¯å¼•ç”¨è‡ªåŒä¸€ä¸ª Classï¼Œæ‰€ä»¥ä¸èƒ½åˆ›å»ºå’Œ LeanCloud é»˜è®¤çš„ç±»å…·æœ‰åŒåä¸”ä¸å¸¦å‰ç¼€ä¸‹åˆ’çº¿çš„ç±»ï¼Œæ¯”å¦‚ <code>User</code> ï¼Œ<code>File</code> ç±»å°±ä¸èƒ½åˆ›å»ºï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬åˆ›å»ºäº† <code>MyUser</code> ç±»ï¼Œè¿™æ ·ä¸ç”¨å»è€ƒè™‘ <code>_User</code> ç±»æœ¬èº«å­˜åœ¨çš„ä¸€äº›ç»†èŠ‚é™åˆ¶ã€‚</p>
<h3 id="åœ¨-LeanCloud-ä¸Šåˆ›å»ºäº‘å‡½æ•°"><a href="#åœ¨-LeanCloud-ä¸Šåˆ›å»ºäº‘å‡½æ•°" class="headerlink" title="åœ¨ LeanCloud ä¸Šåˆ›å»ºäº‘å‡½æ•°"></a>åœ¨ LeanCloud ä¸Šåˆ›å»ºäº‘å‡½æ•°</h3><p>åœ¨ä¸Šä¸€æ­¥é‡Œé¢ï¼Œæˆ‘ä»¬åœ¨å°ç¨‹åºä»£ç é‡Œåˆ›å»ºäº†å’Œ LeanCloud æœ‰å…³çš„é€»è¾‘ä»£ç ï¼Œå…¶ä¸­æˆ‘ä»¬åˆ›å»ºäº†å››ä¸ªäº‘å‡½æ•°ï¼Œç°åœ¨æˆ‘ä»¬è¦åˆ›å»ºå¯¹åº”è¿™å››ä¸ªäº‘å‡½æ•°çš„å®é™…äº‘å‡½æ•°ã€‚</p>
<p>æ³¨å†Œå¹¶ç™»é™† LeanCloud ä¹‹åï¼Œç‚¹å‡»å·¦è¾¹æ çš„ <strong>äº‘å¼•æ“ &gt; éƒ¨ç½²</strong> å¯ä»¥çœ‹åˆ°ç±»ä¼¼ä¸‹é¢çš„ç•Œé¢ï¼š</p>
<p><img alt data-src="https://static.powerformer.com/c/34a473b/1705b4b3d8296a49.jpeg"></p>
<p>LeanCloud æä¾›ç»™æˆ‘ä»¬åœ¨çº¿åˆ›å»ºå’Œç¼–å†™äº‘å‡½æ•°çš„æ–¹ä¾¿ç•Œé¢ï¼Œä½¿å¾—æˆ‘ä»¬ä¸ç”¨è‡ªå·±åˆ›å»ºæœ¬åœ°æœåŠ¡å™¨ä»£ç å’Œé…ç½®éƒ¨ç½²å’Œè¿ç»´è¿‡ç¨‹ï¼Œå¤§å¤§åŠ é€Ÿäº†ç¨‹åºçš„å¼€å‘è¿‡ç¨‹ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†éµå¾ªä»¥ä¸‹ä¸‰æ­¥èµ°çš„æ–¹å¼æ¥è¿›è¡Œ LeanCloud äº‘å‡½æ•°çš„å¼€å‘ï¼š</p>
<ul>
<li>åˆ›å»ºäº‘å‡½æ•°</li>
<li>éƒ¨ç½²</li>
<li>åœ¨å°ç¨‹åºç«¯è¿›è¡Œè°ƒè¯•</li>
</ul>
<h3 id="åˆ›å»º-User-é€»è¾‘-äº‘å‡½æ•°"><a href="#åˆ›å»º-User-é€»è¾‘-äº‘å‡½æ•°" class="headerlink" title="åˆ›å»º User é€»è¾‘ äº‘å‡½æ•°"></a>åˆ›å»º User é€»è¾‘ äº‘å‡½æ•°</h3><p>ç‚¹å‡»ç•Œé¢é‡Œé¢çš„åˆ›å»ºæŒ‰é’®ï¼Œä¼šçœ‹åˆ°å¦‚ä¸‹çš„ç•Œé¢ï¼š</p>
<p><img alt data-src="https://static.powerformer.com/c/34a473b/1705b4b3da0b73ca.jpeg"></p>
<p>å¯ä»¥çœ‹åˆ°ä¸Šå›¾åˆ†ä¸ºå¦‚ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p>
<ul>
<li>é€‰æ‹©æˆ‘ä»¬è¦åˆ›å»ºçš„å‡½æ•°ç±»å‹ï¼Œä¸»è¦æœ‰ä¸‰ç±»ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹© <code>Function</code> ï¼Œè¿™ä¹Ÿæ˜¯é»˜è®¤é€‰æ‹©çš„ç±»å‹ï¼Œå…¶ä½™ä¸¤ç±»è¯»è€…æœ‰å…´è¶£å¯ä»¥è‡ªè¡Œæ¢ç´¢ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸å±•å¼€è®²ã€‚</li>
<li>æ¥ç€å°±æ˜¯å®šä¹‰ä½ çš„å‡½æ•°åï¼Œè¿™é‡Œæˆ‘ä»¬å¡«å…¥ <code>login</code>ã€‚</li>
<li>æ¥ç€å°±æ˜¯ç¼–å†™å‡½æ•°ä½“ï¼Œå®ƒæ˜¯ä¸€ä¸ª Node.js å‡½æ•°ï¼Œæˆ‘ä»¬åªéœ€è¦ç¼–å†™å¯¹åº”çš„ Node.js å¤„ç†é€»è¾‘å°±å¯ä»¥äº†ã€‚</li>
<li>æœ€åæˆ‘ä»¬å¯ä»¥å¯¹è¿™ä¸ªå‡½æ•°å†™ä¸€ç‚¹æ³¨é‡Šï¼Œæ–¹ä¾¿æ—¥åå›é¡¾ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©ä¸å¡«å…¥ã€‚</li>
</ul>
<p>å¥½çš„ï¼Œäº†è§£äº†åˆ›å»ºå‡½æ•°çš„å¼¹å‡ºå±‚ä¹‹åï¼Œæˆ‘ä»¬å¡«å…¥æˆ‘ä»¬éœ€è¦åˆ›å»ºçš„ <code>login</code> å‡½æ•°ä½“å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; userInfo &#125; = request.params</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> query = <span class="keyword">new</span> AV.Query(<span class="string">'MyUser'</span>)</span><br><span class="line">query.equalTo(<span class="string">'nickName'</span>, userInfo.nickName)</span><br><span class="line"><span class="keyword">const</span> users = <span class="keyword">await</span> query.find()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (users.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> users[<span class="number">0</span>]</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> MyUser = AV.Object.extend(<span class="string">'MyUser'</span>)</span><br><span class="line">    <span class="keyword">const</span> myUser = <span class="keyword">new</span> MyUser()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> &#123; nickName, avatar &#125; = userInfo</span><br><span class="line">    myUser.set(<span class="string">'nickName'</span>, nickName)</span><br><span class="line">    myUser.set(<span class="string">'avatar'</span>, avatar)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> user = <span class="keyword">await</span> myUser.save()</span><br><span class="line">    <span class="keyword">return</span> user</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬ä¸Šé¢çš„å†…å®¹ä¸»è¦æ”¹åŠ¨æœ‰å››å¤„ï¼š</p>
<ul>
<li>ä» <code>request.params</code> å–åˆ°å¯¹åº”çš„è¯·æ±‚ä½“æ•°æ® <code>userInfo</code>ï¼Œè¿™å†³å®šäº†æˆ‘ä»¬ä¹‹ååœ¨å°ç¨‹åºç«¯è°ƒç”¨ LeanCloud äº‘å‡½æ•°æ—¶ï¼Œè¦ä½¿ç”¨ <code>POST</code> çš„æ–¹å¼ã€‚</li>
<li>æ¥ç€æˆ‘ä»¬ä½¿ç”¨äº† LeanCloud çš„æŸ¥è¯¢ SDK æ“ä½œ</li>
<li>æ¥ç€é€šè¿‡ <code>equalTo</code> è¿›è¡Œæ¡ä»¶è¿‡æ»¤ï¼Œè¿™é‡Œæˆ‘ä»¬æŸ¥è¯¢ <code>nickName</code> ä¸º <code>userInfo.nickName</code> çš„ç”¨æˆ·ã€‚</li>
<li>é€šè¿‡ <code>query.find()</code> æ¥æäº¤æŸ¥è¯¢æ“ä½œï¼Œæ³¨æ„åˆ°è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº† <code>await</code> å…³é”®å­—ï¼Œé‚£æ˜¯å› ä¸ºé»˜è®¤åŒ…è£¹äº‘å‡½æ•°æçš„æ˜¯ä¸€ä¸ª <code>async</code> å‡½æ•°ï¼Œå…è®¸æˆ‘ä»¬æ–¹ä¾¿çš„æ‰§è¡Œå¼‚æ­¥æµç¨‹ã€‚</li>
</ul>
<p>æ¥ç€æˆ‘ä»¬å¯¹æŸ¥è¯¢åˆ°çš„æ•°æ®è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœ <code>users.length &gt; 0</code> è¡¨ç¤ºå­˜åœ¨ç”¨æˆ·ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿”å›æŸ¥è¯¢åˆ°çš„ç¬¬ä¸€ä¸ªç”¨æˆ·ï¼›å¦‚æœä¸å­˜åœ¨ï¼Œæˆ‘ä»¬æ‰§è¡Œåˆ›å»ºç”¨æˆ·æ“ä½œï¼Œå†è¿”å›åˆ›å»ºçš„ç”¨æˆ·ã€‚</p>
<p>åˆ›å»ºç”¨æˆ·çš„æ“ä½œä¸»è¦æ˜¯å¦‚ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<p>å®ä¾‹åŒ–è¿™ä¸ªç±»è·å–ä¸€ä¸ªå¯¹è±¡</p>
<p>è®¾ç½®è¿™ä¸ªå¯¹è±¡çš„å±æ€§ï¼Œè¿™é‡Œé€šè¿‡ <code>set(key, value)</code> çš„æ–¹å¼è®¾ç½®</p>
<p>é€šè¿‡å¯¹è±¡çš„ <code>save</code> æ–¹æ³•è¿›è¡Œä¿å­˜ï¼Œä¿å­˜åˆ° LeanCloud æ•°æ®åº“</p>
<div class="note info">
            <p><strong>æç¤º</strong></p><p>è¿™é‡Œæˆ‘ä»¬åªç”¨åˆ°äº† LeanCloud çš„ä¸€äº›ç®€å•æ“ä½œï¼Œå…·ä½“çš„è¯¦æƒ…å¯ä»¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œå®˜æ–¹æ–‡æ¡£æ’°å†™äº†éå¸¸å®Œå¤‡çš„æ“ä½œæŒ‡å—ï¼š<span class="exturl" data-url="aHR0cHM6Ly9sZWFuY2xvdWQuY24vZG9jcy9sZWFuc3RvcmFnZV9ndWlkZS1qcy5odG1s" title="https://leancloud.cn/docs/leanstorage_guide-js.html">ç‚¹æˆ‘æŸ¥çœ‹<i class="fa fa-external-link"></i></span>ã€‚</p>
          </div>

<h4 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h4><p>æŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤ç¼–å†™å®Œ <code>login</code> äº‘å‡½æ•°ä¹‹åï¼Œç‚¹å‡»ä¿å­˜ï¼Œæ­¤æ—¶æˆ‘ä»¬çš„äº‘å‡½æ•°å°±ç¼–å†™å¥½äº†ï¼Œä½†æ˜¯æˆ‘ä»¬ç›®å‰åœ¨å°ç¨‹åºç«¯è¿˜æ— æ³•è°ƒç”¨å®ƒï¼Œå› ä¸ºæˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªéƒ¨ç½²çš„æ“ä½œã€‚</p>
<p>åœ¨ LeanCloud ä¸Šé¢è¿›è¡Œäº‘å‡½æ•°çš„éƒ¨ç½²ä¹ŸåŒæ ·ç®€å•ï¼Œåªéœ€è¦ç‚¹å‡»ä¸€ä¸ªæŒ‰é’®ï¼š</p>
<p><img alt data-src="https://static.powerformer.com/c/34a473b/1705b4b43e869c59.jpeg"></p>
<p>ç‚¹æˆ‘ä¹‹åï¼Œç­‰å¾…éƒ¨ç½²æç¤ºï¼Œè¿‡ä¸€ä¼šåº”è¯¥å°±ä¼šæç¤ºéƒ¨ç½²æˆåŠŸï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥åœ¨å°ç¨‹åºç«¯é€šè¿‡ REST API è®¿é—®äº†ã€‚</p>
<h4 id="åœ¨å°ç¨‹åºç«¯è¿›è¡Œè°ƒè¯•"><a href="#åœ¨å°ç¨‹åºç«¯è¿›è¡Œè°ƒè¯•" class="headerlink" title="åœ¨å°ç¨‹åºç«¯è¿›è¡Œè°ƒè¯•"></a>åœ¨å°ç¨‹åºç«¯è¿›è¡Œè°ƒè¯•</h4><p>æˆ‘ä»¬è¿™é‡Œä½¿ç”¨ LeanCloud ä¸»è¦æ˜¯è®©æ”¯ä»˜å®å°ç¨‹åºä¹Ÿå¯ä»¥æˆä¸ºå…¨æ ˆåº”ç”¨ï¼Œå¯¹åº”æˆ‘ä»¬ä¹‹å‰æåˆ°çš„ H5ï¼Œå› ä¸º Taro ç›®å‰å¯¹ H5 çš„æ”¯æŒè¿˜ä¸å®Œå–„ï¼Œæˆ‘ä»¬å†³å®šæ”¾å¼ƒå¯¹ H5 çš„è®²è§£, ä½†æ˜¯è¿™å¹¶ä¸ä»£è¡¨ Taro å­˜åœ¨ç¼ºé™·ï¼Œåªèƒ½è¯´å®ƒæ˜¯ä¸€ä¸ªå¾ˆæœ‰æ½œåŠ›çš„æ¡†æ¶ï¼Œæˆé•¿è¿˜éœ€è¦å®è·µï¼Œå¹¶ä¸”è·¨ç«¯å°ç¨‹åºæ˜¯å®ƒè¯ç”Ÿçš„é‡ç‚¹ï¼Œå°†ç²¾åŠ›æ”¾åœ¨ä¸»è¦çš„è·¯å¾„ä¸Šæ˜¯å€¼å¾—æå€¡çš„ï¼ŒTaro åœ¨è¿‘æœŸå‘å¸ƒäº† Taro Nextï¼Œæ”¯æŒä½¿ç”¨ Vue/React/Nerve å¼€å‘è·¨ç«¯å°ç¨‹åºï¼Œç¬”è€…è¿™é‡Œæ¨èè¯»è€…å¯ä»¥å°è¯•ä¸€æ³¢ï¼š<span class="exturl" data-url="aHR0cHM6Ly90YXJvLmpkLmNvbS8=" title="https://taro.jd.com/">ç‚¹æˆ‘è·³è½¬<i class="fa fa-external-link"></i></span>ã€‚</p>
<p>å› ä¸ºæˆ‘ä»¬é¦–å…ˆåˆ›å»ºäº† <code>login</code> çš„äº‘å‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ”¹è¿›ä¸€ä¸‹æˆ‘ä»¬çš„æ”¯ä»˜å®ç™»å½•çš„æŒ‰é’®é€»è¾‘ï¼Œæ‰“å¼€ <code>src/components/AlipayLoginButton/index.js</code> å¯¹å…¶ä¸­çš„å†…å®¹ä½œå‡ºå¦‚ä¸‹çš„ä¿®æ”¹:</p>
<figure class="highlight js"><figcaption><span>src/components/AlipayLoginButton/index.js</span><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3R1dHVyZS1kZXYvdWx0cmEtY2x1Yi9ibG9iL2FiZmQ4NzIvc3JjL2NvbXBvbmVudHMvQWxpcGF5TG9naW5CdXR0b24vaW5kZXguanM=" title="https://github.com/tuture-dev/ultra-club/blob/abfd872/src/components/AlipayLoginButton/index.js">æŸ¥çœ‹å®Œæ•´ä»£ç <i class="fa fa-external-link"></i></span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">import</span> &#123; useDispatch &#125; <span class="keyword">from</span> <span class="string">'@tarojs/redux'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./index.scss'</span></span><br><span class="line">[tuture-del]<span class="keyword">import</span> &#123; SET_LOGIN_INFO &#125; <span class="keyword">from</span> <span class="string">'../../constants'</span></span><br><span class="line">[tuture-add]<span class="keyword">import</span> &#123; LOGIN &#125; <span class="keyword">from</span> <span class="string">'../../constants'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">AlipayLoginButton</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [isLogin, setIsLogin] = useState(<span class="literal">false</span>)</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">      userInfo = <span class="built_in">JSON</span>.parse(userInfo.response).response</span><br><span class="line">      <span class="keyword">const</span> &#123; avatar, nickName &#125; = userInfo</span><br><span class="line"></span><br><span class="line">[tuture-del]      <span class="keyword">await</span> Taro.setStorage(&#123;</span><br><span class="line">[tuture-del]        key: <span class="string">'userInfo'</span>,</span><br><span class="line">[tuture-del]        data: &#123; avatar, nickName &#125;,</span><br><span class="line">[tuture-del]      &#125;)</span><br><span class="line">[tuture-del] </span><br><span class="line">      dispatch(&#123;</span><br><span class="line">[tuture-del]        type: SET_LOGIN_INFO,</span><br><span class="line">[tuture-add]        type: LOGIN,</span><br><span class="line">        payload: &#123;</span><br><span class="line">[tuture-del]          avatar,</span><br><span class="line">[tuture-del]          nickName,</span><br><span class="line">[tuture-add]          userInfo: &#123;</span><br><span class="line">[tuture-add]            avatar,</span><br><span class="line">[tuture-add]            nickName,</span><br><span class="line">[tuture-add]          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">      <span class="comment">// ...</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œä¸Šé¢çš„å†…å®¹æ”¹åŠ¨ä¸»è¦æœ‰ä¸‰å¤„ï¼š</p>
<ul>
<li>æˆ‘ä»¬åˆ æ‰äº†ä½¿ç”¨æ”¯ä»˜å®è·å–ç™»å½•ä¿¡æ¯ä¹‹åå­˜ç¼“å­˜çš„é€»è¾‘</li>
<li>æ¥ç€ï¼Œæˆ‘ä»¬ dispatch äº†ä¸€ä¸ª <code>action.type</code> ä¸º LOGIN çš„å¼‚æ­¥ ACTIONï¼Œå¹¶ä¼ é€’äº† <code>userInfo</code> æ•°æ®</li>
<li>æœ€åæˆ‘ä»¬å¯¼å…¥äº†éœ€è¦çš„ <code>LOGIN</code> å¸¸é‡ã€‚</li>
</ul>
<p>é™¤äº†æ”¯ä»˜å®ç™»å½•æŒ‰é’®çš„é€»è¾‘æ”¹è¿›ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜è¦æ”¹è¿›æˆ‘ä»¬çš„ api é€»è¾‘ï¼ŒåŠ ä¸Šå¯¹æ”¯ä»˜å®ç¯å¢ƒçš„åˆ¤æ–­å’Œè°ƒç”¨å¯¹åº”çš„ LeanCloud äº‘å‡½æ•°ã€‚</p>
<p>æ‰“å¼€ <code>src/api/user.js</code> æ–‡ä»¶ï¼Œå¯¹å…¶ä¸­çš„å†…å®¹ä½œå‡ºå¯¹åº”çš„ä¿®æ”¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><figcaption><span>src/api/user.js</span><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3R1dHVyZS1kZXYvdWx0cmEtY2x1Yi9ibG9iL2FiZmQ4NzIvc3JjL2FwaS91c2VyLmpz" title="https://github.com/tuture-dev/ultra-club/blob/abfd872/src/api/user.js">æŸ¥çœ‹å®Œæ•´ä»£ç <i class="fa fa-external-link"></i></span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Taro <span class="keyword">from</span> <span class="string">'@tarojs/taro'</span></span><br><span class="line"></span><br><span class="line">[tuture-add]<span class="keyword">import</span> &#123; HEADER, LOGIN_URL, convertUserFormat &#125; <span class="keyword">from</span> <span class="string">'./utils'</span></span><br><span class="line">[tuture-add] </span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">login</span>(<span class="params">userInfo</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> isWeapp = Taro.getEnv() === Taro.ENV_TYPE.WEAPP</span><br><span class="line">  <span class="keyword">const</span> isAlipay = Taro.getEnv() === Taro.ENV_TYPE.ALIPAY</span><br><span class="line">[tuture-add]  <span class="keyword">const</span> isH5 = Taro.getEnv() === Taro.ENV_TYPE.WEB</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é’ˆå¯¹å¾®ä¿¡å°ç¨‹åºä½¿ç”¨å°ç¨‹åºäº‘å‡½æ•°ï¼Œå…¶ä»–ä½¿ç”¨å°ç¨‹åº RESTful API</span></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> result.user</span><br><span class="line">[tuture-add]    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (isAlipay || isH5) &#123;</span><br><span class="line">[tuture-add]      <span class="keyword">const</span> &#123; data &#125; = <span class="keyword">await</span> Taro.request(&#123;</span><br><span class="line">[tuture-add]        url: LOGIN_URL,</span><br><span class="line">[tuture-add]        method: <span class="string">'POST'</span>,</span><br><span class="line">[tuture-add]        header: &#123; ...HEADER &#125;,</span><br><span class="line">[tuture-add]        data: &#123;</span><br><span class="line">[tuture-add]          userInfo,</span><br><span class="line">[tuture-add]        &#125;,</span><br><span class="line">[tuture-add]      &#125;)</span><br><span class="line">[tuture-add] </span><br><span class="line">[tuture-add]      <span class="keyword">return</span> convertUserFormat(data.result)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    <span class="built_in">console</span>.error(<span class="string">'login ERR: '</span>, err)</span><br><span class="line">  <span class="comment">// ...</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ä¸Šé¢ä¸»è¦åšäº†å››å¤„ä¿®æ”¹ï¼š</p>
<ul>
<li>é¦–å…ˆæˆ‘ä»¬å¯¼å…¥äº†ä¹‹å‰å®šä¹‰çš„å’Œ LeanCloud æœ‰ä¸ªçš„ <code>utils</code> å‡½æ•°ã€‚</li>
<li>æ¥ç€æˆ‘ä»¬åŠ å…¥äº†å¯¹ H5 ç¯å¢ƒçš„åˆ¤æ–­ã€‚</li>
<li>æœ€åæˆ‘ä»¬å¢åŠ äº†ä¸€ä¸ª <code>else if</code> æµç¨‹ï¼Œç”¨äºåˆ¤æ–­åœ¨æ”¯ä»˜å®å°ç¨‹åºæˆ–è€… H5 ç¯å¢ƒä¸‹éœ€è¦æ‰§è¡Œå‘èµ· REST è¯·æ±‚çš„é€»è¾‘ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº† <code>Taro.request</code> è¿›è¡Œç½‘ç»œè¯·æ±‚ï¼Œå¹¶ä¼ å…¥äº†å¯¹åº”çš„ <code>url</code> ã€<code>header</code>ã€<code>data</code>ï¼Œä»¥åŠå°†è¯·æ±‚çš„ç±»å‹è®¾ç½®ä¸º <code>POST</code>ï¼Œä¹‹å‰æˆ‘ä»¬æåˆ°è¿‡ï¼Œå¯¹ LeanCloud äº‘å‡½æ•°å‘èµ·è¯·æ±‚éƒ½éœ€è¦ä½¿ç”¨ <code>POST</code> æ–¹æ³•ã€‚</li>
<li>æœ€åæˆ‘ä»¬å°†ä» LeanCloud æ‹¿åˆ°çš„è¯·æ±‚ç»“æœä½¿ç”¨ <code>convertUserFormat</code> åšäº†ä¸€æ¬¡æ ¼å¼çš„è½¬æ¢ï¼Œä»¥é€‚åº”ç°æœ‰çš„å¾®ä¿¡å°ç¨‹åºæ•°æ®ç±»å‹ã€‚</li>
</ul>
<p>å¥½äº†ï¼Œé€šè¿‡ä»¥ä¸Šä¸‰æ­¥æµç¨‹ï¼Œæˆ‘ä»¬å°±è·‘é€šäº†å°ç¨‹åºç±»è¯·æ±‚ LeanCloud çš„æµç¨‹ï¼Œä¿å­˜ä¿®æ”¹çš„ä»£ç ï¼Œè®©æˆ‘ä»¬é©¬ä¸Šæ‰“å¼€æ”¯ä»˜å®å°ç¨‹åºè¯•ä¸€ä¸‹å§ï¼</p>
<p><img alt data-src="https://static.powerformer.com/c/34a473b/1705b4b43fe789ae.jpeg"></p>
<h3 id="åˆ›å»º-Post-é€»è¾‘äº‘å‡½æ•°"><a href="#åˆ›å»º-Post-é€»è¾‘äº‘å‡½æ•°" class="headerlink" title="åˆ›å»º Post é€»è¾‘äº‘å‡½æ•°"></a>åˆ›å»º Post é€»è¾‘äº‘å‡½æ•°</h3><p>åœ¨ä¸Šä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº† User é€»è¾‘çš„ <code>login</code> äº‘å‡½æ•°ï¼Œåœ¨è¿™ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬æ¥æ”¶å°¾ Post é€»è¾‘çš„ä¸‰ä¸ªäº‘å‡½æ•°ï¼š</p>
<ul>
<li><code>createPost</code></li>
<li><code>getPosts</code></li>
<li><code>getPost</code></li>
</ul>
<p>å› ä¸ºåˆ›å»ºçš„é€»è¾‘å’Œæ–¹å¼å’Œä¹‹å‰çš„ <code>login</code> äº‘å‡½æ•°ç±»ä¼¼ï¼Œæˆ‘ä»¬è¿™é‡Œä¸å†èµ˜è¿°ï¼Œä¼šç®€å•çš„è´´ä¸€ä¸‹ä»£ç ï¼Œä½†æˆ‘ä»¬åŒæ ·æŒ‰ç…§ä¹‹å‰çš„ä¸‰æ­¥æµç¨‹æ¥è®²è§£ã€‚</p>
<h4 id="åˆ›å»ºäº‘å‡½æ•°"><a href="#åˆ›å»ºäº‘å‡½æ•°" class="headerlink" title="åˆ›å»ºäº‘å‡½æ•°"></a>åˆ›å»ºäº‘å‡½æ•°</h4><p>é¦–å…ˆåˆ›å»ºæˆ‘ä»¬çš„ <code>createPost</code> äº‘å‡½æ•°ï¼Œå…¶ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; postData, userId &#125; = request.params</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Post = AV.Object.extend(<span class="string">'Post'</span>)</span><br><span class="line"><span class="keyword">const</span> post = <span class="keyword">new</span> Post();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myUser = AV.Object.createWithoutData(<span class="string">'MyUser'</span>, userId)</span><br><span class="line"><span class="keyword">const</span> newPost = <span class="keyword">await</span> post.save(&#123;</span><br><span class="line">    ...postData,</span><br><span class="line">    user: myUser</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> query = <span class="keyword">new</span> AV.Query(<span class="string">'Post'</span>)</span><br><span class="line"><span class="keyword">const</span> postWithUser = <span class="keyword">await</span> query.equalTo(<span class="string">'objectId'</span>, newPost.get(<span class="string">'objectId'</span>)).include(<span class="string">'user'</span>).first()</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> postWithUser</span><br></pre></td></tr></table></figure>

<p>æ¥ç€æ¥åˆ›å»ºæˆ‘ä»¬çš„è·å–å¸–å­åˆ—è¡¨çš„äº‘å‡½æ•° <code>getPosts</code>ï¼Œå…¶ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> query = <span class="keyword">new</span> AV.Query(<span class="string">'Post'</span>)</span><br><span class="line"><span class="keyword">const</span> posts = <span class="keyword">await</span> query.include(<span class="string">'user'</span>).find()</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> posts</span><br></pre></td></tr></table></figure>

<p>æœ€åæ˜¯æˆ‘ä»¬çš„è·å–å¸–å­è¯¦æƒ…çš„äº‘å‡½æ•° <code>getPost</code>ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; postId &#125; = request.params</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> query = <span class="keyword">new</span> AV.Query(<span class="string">'Post'</span>)</span><br><span class="line"><span class="keyword">const</span> post = <span class="keyword">await</span> query.equalTo(<span class="string">'objectId'</span>, postId).include(<span class="string">'user'</span>).first()</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> post</span><br></pre></td></tr></table></figure>

<h4 id="éƒ¨ç½²-1"><a href="#éƒ¨ç½²-1" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h4><p>å¥½çš„ï¼Œä¸‰ä¸ªå’Œ Post é€»è¾‘æœ‰å…³çš„äº‘å‡½æ•°åˆ›å»ºå¥½äº†ï¼Œæˆ‘ä»¬é©¬ä¸Šç‚¹å‡»éƒ¨ç½²æŒ‰é’®æ¥å°†å®ƒä»¬éƒ¨ç½²ä¸Šçº¿ã€‚</p>
<h4 id="åœ¨å°ç¨‹åºç«¯æµ‹è¯•"><a href="#åœ¨å°ç¨‹åºç«¯æµ‹è¯•" class="headerlink" title="åœ¨å°ç¨‹åºç«¯æµ‹è¯•"></a>åœ¨å°ç¨‹åºç«¯æµ‹è¯•</h4><p>å½“åˆ›å»ºå¥½äº‘å‡½æ•°ï¼Œå¹¶éƒ¨ç½²å¥½ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨å°ç¨‹åºç«¯ç¼–å†™å¯¹åº”çš„ä»£ç è¿›è¡Œæµ‹è¯•äº†ï¼Œæ‰“å¼€ <code>src/api/post.js</code> æ–‡ä»¶ï¼Œå¯¹å…¶ä¸­çš„ä»£ç åšå‡ºå¯¹åº”çš„ä¿®æ”¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><figcaption><span>src/api/post.js</span><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3R1dHVyZS1kZXYvdWx0cmEtY2x1Yi9ibG9iL2FiZmQ4NzIvc3JjL2FwaS9wb3N0Lmpz" title="https://github.com/tuture-dev/ultra-club/blob/abfd872/src/api/post.js">æŸ¥çœ‹å®Œæ•´ä»£ç <i class="fa fa-external-link"></i></span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Taro <span class="keyword">from</span> <span class="string">'@tarojs/taro'</span></span><br><span class="line"></span><br><span class="line">[tuture-add]<span class="keyword">import</span> &#123;</span><br><span class="line">[tuture-add]  HEADER,</span><br><span class="line">[tuture-add]  CREATE_POST_URL,</span><br><span class="line">[tuture-add]  GET_POSTS_URL,</span><br><span class="line">[tuture-add]  GET_POST_URL,</span><br><span class="line">[tuture-add]  convertPostFormat,</span><br><span class="line">[tuture-add]  convertPostsFormat,</span><br><span class="line">[tuture-add]&#125; <span class="keyword">from</span> <span class="string">'./utils'</span></span><br><span class="line">[tuture-add] </span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">createPost</span>(<span class="params">postData, userId</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> isWeapp = Taro.getEnv() === Taro.ENV_TYPE.WEAPP</span><br><span class="line">  <span class="keyword">const</span> isAlipay = Taro.getEnv() === Taro.ENV_TYPE.ALIPAY</span><br><span class="line">[tuture-del] </span><br><span class="line">[tuture-del]  <span class="built_in">console</span>.log(<span class="string">'postData'</span>, postData, userId)</span><br><span class="line">[tuture-add]  <span class="keyword">const</span> isH5 = Taro.getEnv() === Taro.ENV_TYPE.WEB</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é’ˆå¯¹å¾®ä¿¡å°ç¨‹åºä½¿ç”¨å°ç¨‹åºäº‘å‡½æ•°ï¼Œå…¶ä»–ä½¿ç”¨å°ç¨‹åº RESTful API</span></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> result.post</span><br><span class="line">[tuture-add]    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (isAlipay || isH5) &#123;</span><br><span class="line">[tuture-add]      <span class="keyword">const</span> &#123; data &#125; = <span class="keyword">await</span> Taro.request(&#123;</span><br><span class="line">[tuture-add]        url: CREATE_POST_URL,</span><br><span class="line">[tuture-add]        method: <span class="string">'POST'</span>,</span><br><span class="line">[tuture-add]        header: &#123; ...HEADER &#125;,</span><br><span class="line">[tuture-add]        data: &#123;</span><br><span class="line">[tuture-add]          postData,</span><br><span class="line">[tuture-add]          userId,</span><br><span class="line">[tuture-add]        &#125;,</span><br><span class="line">[tuture-add]      &#125;)</span><br><span class="line">[tuture-add] </span><br><span class="line">[tuture-add]      <span class="keyword">return</span> convertPostFormat(data.result)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    <span class="built_in">console</span>.error(<span class="string">'createPost ERR: '</span>, err)</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">getPosts</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> isWeapp = Taro.getEnv() === Taro.ENV_TYPE.WEAPP</span><br><span class="line">  <span class="keyword">const</span> isAlipay = Taro.getEnv() === Taro.ENV_TYPE.ALIPAY</span><br><span class="line">[tuture-add]  <span class="keyword">const</span> isH5 = Taro.getEnv() === Taro.ENV_TYPE.WEB</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é’ˆå¯¹å¾®ä¿¡å°ç¨‹åºä½¿ç”¨å°ç¨‹åºäº‘å‡½æ•°ï¼Œå…¶ä»–ä½¿ç”¨å°ç¨‹åº RESTful API</span></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> result.posts</span><br><span class="line">[tuture-add]    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (isAlipay || isH5) &#123;</span><br><span class="line">[tuture-add]      <span class="keyword">const</span> &#123; data &#125; = <span class="keyword">await</span> Taro.request(&#123;</span><br><span class="line">[tuture-add]        url: GET_POSTS_URL,</span><br><span class="line">[tuture-add]        method: <span class="string">'POST'</span>,</span><br><span class="line">[tuture-add]        header: &#123; ...HEADER &#125;,</span><br><span class="line">[tuture-add]      &#125;)</span><br><span class="line">[tuture-add] </span><br><span class="line">[tuture-add]      <span class="keyword">return</span> convertPostsFormat(data.result)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    <span class="built_in">console</span>.error(<span class="string">'getPosts ERR: '</span>, err)</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">getPost</span>(<span class="params">postId</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> isWeapp = Taro.getEnv() === Taro.ENV_TYPE.WEAPP</span><br><span class="line">  <span class="keyword">const</span> isAlipay = Taro.getEnv() === Taro.ENV_TYPE.ALIPAY</span><br><span class="line">[tuture-add]  <span class="keyword">const</span> isH5 = Taro.getEnv() === Taro.ENV_TYPE.WEB</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é’ˆå¯¹å¾®ä¿¡å°ç¨‹åºä½¿ç”¨å°ç¨‹åºäº‘å‡½æ•°ï¼Œå…¶ä»–ä½¿ç”¨å°ç¨‹åº RESTful API</span></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> result.post</span><br><span class="line">[tuture-add]    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (isAlipay || isH5) &#123;</span><br><span class="line">[tuture-add]      <span class="keyword">const</span> &#123; data &#125; = <span class="keyword">await</span> Taro.request(&#123;</span><br><span class="line">[tuture-add]        url: GET_POST_URL,</span><br><span class="line">[tuture-add]        method: <span class="string">'POST'</span>,</span><br><span class="line">[tuture-add]        header: &#123; ...HEADER &#125;,</span><br><span class="line">[tuture-add]        data: &#123;</span><br><span class="line">[tuture-add]          postId,</span><br><span class="line">[tuture-add]        &#125;,</span><br><span class="line">[tuture-add]      &#125;)</span><br><span class="line">[tuture-add] </span><br><span class="line">[tuture-add]      <span class="keyword">return</span> convertPostFormat(data.result)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    <span class="built_in">console</span>.error(<span class="string">'getPost ERR: '</span>, err)</span><br><span class="line">  <span class="comment">// ...</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ä¸Šé¢ä¸»è¦åšäº†å››å¤„ä¿®æ”¹ï¼š</p>
<ul>
<li>é¦–å…ˆæˆ‘ä»¬å¯¼å…¥äº†ä¹‹å‰å®šä¹‰çš„å’Œ LeanCloud æœ‰å…³çš„ <code>utils</code> å‡½æ•°ã€‚</li>
<li>æ¥ç€æˆ‘ä»¬åŠ å…¥äº†å¯¹ H5 ç¯å¢ƒçš„åˆ¤æ–­ã€‚</li>
<li>æœ€åæˆ‘ä»¬å¢åŠ äº†ä¸€ä¸ª <code>else if</code> æµç¨‹ï¼Œç”¨äºåˆ¤æ–­åœ¨æ”¯ä»˜å®å°ç¨‹åºæˆ–è€… H5 ç¯å¢ƒä¸‹éœ€è¦æ‰§è¡Œå‘èµ· REST è¯·æ±‚çš„é€»è¾‘ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº† <code>Taro.request</code> è¿›è¡Œç½‘ç»œè¯·æ±‚ï¼Œå¹¶ä¼ å…¥äº†å¯¹åº”ä¸‰ä¸ªå’Œ Post é€»è¾‘æœ‰å…³çš„ <code>url</code> ã€ä»¥åŠå¯¹åº”çš„ <code>header</code>ã€<code>data</code>ï¼Œä»¥åŠå°†è¯·æ±‚çš„ç±»å‹è®¾ç½®ä¸º <code>POST</code>ï¼Œä¹‹å‰æˆ‘ä»¬æåˆ°è¿‡ï¼Œå¯¹ LeanCloud äº‘å‡½æ•°å‘èµ·è¯·æ±‚éƒ½éœ€è¦ä½¿ç”¨ <code>POST</code> æ–¹æ³•ã€‚</li>
<li>æœ€åæˆ‘ä»¬å°†ä» LeanCloud æ‹¿åˆ°çš„è¯·æ±‚ç»“æœä½¿ç”¨ <code>convertPostFormat</code> åšäº†ä¸€æ¬¡æ ¼å¼çš„è½¬æ¢ï¼Œä»¥é€‚åº”ç°æœ‰çš„å¾®ä¿¡å°ç¨‹åºæ•°æ®ç±»å‹ã€‚</li>
</ul>
<p>å¥½äº†ï¼Œé€šè¿‡ä»¥ä¸Šä¸‰æ­¥æµç¨‹ï¼Œæˆ‘ä»¬å°±è·‘é€šäº†å°ç¨‹åºç±»è¯·æ±‚ LeanCloud çš„æµç¨‹ï¼Œä¿å­˜ä¿®æ”¹çš„ä»£ç ï¼Œè®©æˆ‘ä»¬é©¬ä¸Šæ‰“å¼€æ”¯ä»˜å®å°ç¨‹åºè¯•ä¸€ä¸‹å§ï¼</p>
<p><img alt data-src="https://static.powerformer.com/c/34a473b/1705b4b44d2d0cc8.jpeg"></p>
<h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬è®²è§£äº†æ”¯ä»˜å®å°ç¨‹åºæ¥å…¥ LeanCloud Serverless äº‘æœåŠ¡çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬å†æ¥å¤ä¹ ä¸€ä¸‹æ•´ä¸ªæµç¨‹ï¼š</p>
<ul>
<li>é¦–å…ˆæˆ‘ä»¬è®²è§£äº†å¾®ä¿¡å°ç¨‹åºäº‘çš„ä¸è¶³ï¼Œç„¶åå¼•å‡ºäº† LeanCloud æ¥å®ç°è·¨ç«¯å°ç¨‹åºå¼€å‘</li>
<li>æ¥ç€æˆ‘ä»¬ä»‹ç»äº† LeanCloud æœåŠ¡çš„é…ç½®è¿‡ç¨‹ï¼Œå…·ä½“åŒ…å« 1ï¼‰æ³¨å†Œç™»å½• LeanCloud 2ï¼‰é…ç½®å¯¹åº”çš„å°ç¨‹åºåå°çš„ç™½åå•ã€‚ä¸”å› ä¸º LeanCloud æ²¡æœ‰æ”¯ä»˜å®å°ç¨‹åºçš„ SDKï¼Œæ‰€ä»¥æˆ‘ä»¬é‡‡ç”¨ REST è¯·æ±‚çš„æ–¹å¼æ¥è·å–å’Œä¿®æ”¹å¯¹åº”çš„æ•°æ®</li>
<li>æ¥ç€æˆ‘ä»¬è®²è§£äº†å¦‚ä½•åœ¨ LeanCloud ä¸Šé¢åˆ›å»ºæ•°æ®è¡¨ã€‚</li>
<li>æ¥ç€ï¼Œæˆ‘ä»¬ä»‹ç»äº†å¦‚ä½•åœ¨ LeanCloud åˆ›å»ºäº‘å‡½æ•°ã€‚</li>
<li>æœ€åæˆ‘ä»¬é€šè¿‡ä¸‰æ­¥èµ°æµç¨‹ï¼š1ï¼‰åˆ›å»ºäº‘å‡½æ•° 2ï¼‰éƒ¨ç½² 3ï¼‰åœ¨å°ç¨‹åºç«¯æµ‹è¯•ï¼Œåˆ›å»ºäº†æˆ‘ä»¬éœ€è¦çš„å››ä¸ªäº‘å‡½æ•°ã€‚</li>
</ul>
<p>æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹æ•´ä½“çš„æ¥å…¥æ•ˆæœï¼š</p>
<p><img alt data-src="https://static.powerformer.com/c/34a473b/1705b4e9b0b79869.gif"></p>
<p>åˆ°è¿™é‡Œæˆ‘ä»¬çš„ <strong>Taro å¤šç«¯å°ç¨‹åºå¼€å‘å¤§å‹å®æˆ˜</strong> å°±åŸºæœ¬å‘Šä¸€æ®µè½äº†ï¼Œæ•´ä¸ªæ•™ç¨‹å†…å®¹æƒ³å½“é•¿ï¼Œæ¶µç›–çš„å†…å®¹ä¹Ÿç›¸å½“å¤šï¼Œè¿™ä¹Ÿæ˜¯å›¾é›€ç¤¾åŒºæœ€é•¿çš„ä¸€ä¸ªç³»åˆ—æ•™ç¨‹ã€‚æœ€åå¸Œæœ› Taro ç¤¾åŒºè¶Šæ¥è¶Šå¥½ï¼Œä¹Ÿå¸Œæœ›èƒ½å¸®åˆ°æ‚¨ï¼</p>
<h3 id="One-More-Thing"><a href="#One-More-Thing" class="headerlink" title="One More Thing"></a>One More Thing</h3><p>æˆ‘ä»¬åœ¨ä¹‹å‰çš„æ•™ç¨‹ä¸­èŠ±äº†8ç¯‡æ–‡ç« çš„ç¯‡å¹…è®²è§£äº†å°ç¨‹åºä»0åˆ°å¼€å‘å®Œæˆçš„è¿‡ç¨‹ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ²¡å°†å¦‚ä½•å°†å°ç¨‹åºä¸Šçº¿ï¼Œè¿™é‡Œæˆ‘ä»¬å†é¢å¤–èŠ±ä¸€ç‚¹ç¬”å¢¨è®²ä¸€ä¸‹å¦‚ä½•ä¸Šçº¿ä½ çš„å°ç¨‹åºï¼Œå› ä¸ºå°ç¨‹åºçš„ä¸Šçº¿å¾ˆå®¹æ˜“ï¼Œæ‰€ä»¥å†…å®¹ä¸ä¼šå¾ˆé•¿ï¼Œæœ‰å…´è¶£çš„è¯»è€…å¯ä»¥ç»§ç»­è¯»ä¸‹å»áƒ¦( Â´ï½¥á´—ï½¥` )æ¯”å¿ƒã€‚</p>
<h4 id="å¾®ä¿¡å°ç¨‹åºä¸Šçº¿"><a href="#å¾®ä¿¡å°ç¨‹åºä¸Šçº¿" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºä¸Šçº¿"></a>å¾®ä¿¡å°ç¨‹åºä¸Šçº¿</h4><p>é¦–å…ˆç‚¹å‡»å°ç¨‹åºå¼€å‘è€…å·¥å…·çš„å³ä¸Šè§’çš„ä¸Šä¼ æŒ‰é’®ï¼š</p>
<p><img alt data-src="https://static.powerformer.com/c/34a473b/1705b4c4db32af08.jpeg"></p>
<p>æ¥ç€å»å¾®ä¿¡å°ç¨‹åºç½‘ç«™åå°ï¼š<span class="exturl" data-url="aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3d4YW1wL2hvbWUvZ3VpZGU/bGFuZz16aF9DTiZ0b2tlbj0xNjA4NzM0ODY=" title="https://mp.weixin.qq.com/wxamp/home/guide?lang=zh_CN&token=160873486">ç‚¹æˆ‘å‰å¾€<i class="fa fa-external-link"></i></span>ã€‚</p>
<p>è¿›è¡Œç™»å½•ä¹‹åï¼Œåœ¨è¿›æ¥çš„ç¬¬ä¸€ä¸ªé¡µé¢çš„ç¬¬äºŒæ­¥å¯ä»¥çœ‹è§ç‰ˆæœ¬å‘å¸ƒçš„ä¿¡æ¯ï¼Œå®‰è£…å¾®ä¿¡å®˜æ–¹çš„æµç¨‹è¿›è¡Œå³å¯ã€‚</p>
<p><img alt data-src="https://static.powerformer.com/c/34a473b/1705b4b456f9d5c4.jpeg"></p>
<h4 id="æ”¯ä»˜å®å°ç¨‹åºä¸Šçº¿"><a href="#æ”¯ä»˜å®å°ç¨‹åºä¸Šçº¿" class="headerlink" title="æ”¯ä»˜å®å°ç¨‹åºä¸Šçº¿"></a>æ”¯ä»˜å®å°ç¨‹åºä¸Šçº¿</h4><p>é¦–å…ˆç‚¹å‡»æ”¯ä»˜å®å°ç¨‹åºå¼€å‘è€…å·¥å…·çš„å³ä¸Šè§’ä¸Šä¼ æŒ‰é’®ï¼š</p>
<p><img alt data-src="https://static.powerformer.com/c/34a473b/1705b4b49d020734.jpeg"></p>
<p>æ¥ç€å»æ”¯ä»˜å®å°ç¨‹åºåå°ï¼š<span class="exturl" data-url="aHR0cHM6Ly9taW5pLm9wZW4uYWxpcGF5LmNvbS9jaGFubmVsL21pbmlJbmRleC5odG0=" title="https://mini.open.alipay.com/channel/miniIndex.htm">ç‚¹æˆ‘å‰å¾€<i class="fa fa-external-link"></i></span>ã€‚</p>
<p>è¿›è¡Œç™»å½•ä¹‹åï¼Œç‚¹å‡»é¡¶éƒ¨çš„ å¼€å‘ä¸­å¿ƒï¼Œé€‰æ‹©å°ç¨‹åºåº”ç”¨ï¼Œé€‰æ‹©ä½ çš„å°ç¨‹åºåº”ç”¨ï¼Œç„¶ååŒæ ·å¯ä»¥çœ‹åˆ°ç±»ä¼¼å‘å¸ƒä¸Šçº¿çš„æ ç›®ï¼Œå®‰è£…æ”¯ä»˜å®å®˜æ–¹çš„æµç¨‹è¿›è¡Œå‘å¸ƒå°±å¯ä»¥äº†ã€‚</p>
<p><img alt data-src="https://static.powerformer.com/c/34a473b/1705b4c4e4d77b6d.jpeg"></p>
<div class="note info">
            <p><strong>æç¤º</strong></p><p>å¾®ä¿¡/æ”¯ä»˜å®å°ç¨‹åºå¯¹äºæœ‰ç¤¾äº¤ã€ç¤¾åŒºæ€§è´¨çš„å°ç¨‹åºæ˜¯éœ€è¦ä¼ä¸šè®¤è¯çš„ï¼Œæ‰€ä»¥æœ‰ç±»ä¼¼éœ€æ±‚çš„éœ€è¦åšä¸€ä¸‹å‡†å¤‡ã€‚</p>
          </div>

<p>å¥½äº†ï¼Œåˆ°è¿™é‡Œæˆ‘ä»¬çš„è¦è¯´å†è§äº† ğŸ‘‹ï¼å¸Œæœ›ä½ ä»¬å­¦å¾—å¼€å¿ƒï¼</p>

    </div>

    
    
    
      

        <div id="qrcode_subscriber-container">
  <div></div>

  <div id="qrocde-qr">
        
      
      <div style="display: inline-block">
        <img src="/uploads/wechat-qcode.png" alt="å›¾é›€ç¤¾åŒº å¾®ä¿¡å…¬ä¼—å·">
        <p>æ‰«ä¸€æ‰«å…³æ³¨ä¸Šæ–¹å…¬ä¼—å·ï¼Œæ‹‰å­¦ä¹ ç¾¤å’Œç­”ç–‘è§£æƒ‘</p>
      </div>

  </div>
</div>

      
        
      
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>æœ¬æ–‡ä½œè€…ï¼š </strong>å›¾é›€ç¤¾åŒº</li>
  <li class="post-copyright-link">
    <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
    <a href="https://tuture.co/2020/02/19/abfd872/" title="Taro å°ç¨‹åºå¼€å‘å¤§å‹å®æˆ˜ï¼ˆå…­ï¼‰ï¼šLeanCloudï¼Œä¸€ç»Ÿæ±Ÿæ¹–">https://tuture.co/2020/02/19/abfd872/</a>
  </li>
  <li class="post-copyright-license">
    <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC8="><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</span> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</li>
</ul>
</div>

      

      <footer class="post-footer">
          
            
          
          <div class="post-tags">
            
              <a href="/tags/Taro/" rel="tag"><i class="fa fa-tag"></i> Taro</a>
            
              <a href="/tags/LeanCloud/" rel="tag"><i class="fa fa-tag"></i> LeanCloud</a>
            
              <a href="/tags/Serverless/" rel="tag"><i class="fa fa-tag"></i> Serverless</a>
            
          </div>
        

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/2020/02/11/6f96d15/" rel="next" title="ä»é›¶åˆ°éƒ¨ç½²ï¼šç”¨ Vue å’Œ Express å®ç°è¿·ä½ å…¨æ ˆç”µå•†åº”ç”¨ï¼ˆäº”ï¼‰">
                  <i class="fa fa-chevron-left"></i> ä»é›¶åˆ°éƒ¨ç½²ï¼šç”¨ Vue å’Œ Express å®ç°è¿·ä½ å…¨æ ˆç”µå•†åº”ç”¨ï¼ˆäº”ï¼‰
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/2020/03/03/-Oixkkq/" rel="prev" title="ä»é›¶åˆ°éƒ¨ç½²ï¼šç”¨ Vue å’Œ Express å®ç°è¿·ä½ å…¨æ ˆç”µå•†åº”ç”¨ï¼ˆå…­ï¼‰">
                  ä»é›¶åˆ°éƒ¨ç½²ï¼šç”¨ Vue å’Œ Express å®ç°è¿·ä½ å…¨æ ˆç”µå•†åº”ç”¨ï¼ˆå…­ï¼‰ <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        
      </footer>
    
  </div>
  
  
  
  </article>

  </div>


          </div>
          
    
    <div class="comments" id="gitalk-container"></div>
  

        </div>
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">
      <div>
          
          
          
          
        

        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc">
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>

        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#LeanCloud-ä¸€ç»Ÿæ±Ÿæ¹–"><span class="nav-number">1.</span> <span class="nav-text">LeanCloud,ä¸€ç»Ÿæ±Ÿæ¹–</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#å°ç¨‹åºæ¥å…¥å¤–ç½‘çš„æµç¨‹"><span class="nav-number">1.1.</span> <span class="nav-text">å°ç¨‹åºæ¥å…¥å¤–ç½‘çš„æµç¨‹</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#æ³¨å†Œå¤–ç«™æœåŠ¡çš„è´¦å·"><span class="nav-number">1.1.1.</span> <span class="nav-text">æ³¨å†Œå¤–ç«™æœåŠ¡çš„è´¦å·</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#æ‰¾åˆ°å¯¹åº”çš„å°ç¨‹åºå¼€å‘æ¥å…¥æŒ‡å—"><span class="nav-number">1.1.2.</span> <span class="nav-text">æ‰¾åˆ°å¯¹åº”çš„å°ç¨‹åºå¼€å‘æ¥å…¥æŒ‡å—</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#è·å–å¯¹åº”çš„æ¥å…¥åœ°å€"><span class="nav-number">1.1.3.</span> <span class="nav-text">è·å–å¯¹åº”çš„æ¥å…¥åœ°å€</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#åœ¨å°ç¨‹åºå®é™…æ¥å…¥ï¼Œå¹¶è¿›è¡Œæµ‹è¯•"><span class="nav-number">1.1.4.</span> <span class="nav-text">åœ¨å°ç¨‹åºå®é™…æ¥å…¥ï¼Œå¹¶è¿›è¡Œæµ‹è¯•</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å®šä¹‰-LeanCloud-ç›¸å…³çš„è¾…åŠ©å‡½æ•°"><span class="nav-number">1.2.</span> <span class="nav-text">å®šä¹‰ LeanCloud ç›¸å…³çš„è¾…åŠ©å‡½æ•°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#åœ¨-LeanCloud-ä¸Šé¢åˆ›å»ºæ•°æ®åº“è¡¨"><span class="nav-number">1.3.</span> <span class="nav-text">åœ¨ LeanCloud ä¸Šé¢åˆ›å»ºæ•°æ®åº“è¡¨</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#å®šä¹‰-MyUser-å­—æ®µ"><span class="nav-number">1.3.1.</span> <span class="nav-text">å®šä¹‰ MyUser å­—æ®µ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#å®šä¹‰-Post-å­—æ®µ"><span class="nav-number">1.3.2.</span> <span class="nav-text">å®šä¹‰ Post å­—æ®µ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#å…³äºé»˜è®¤-Class-çš„è§£é‡Š"><span class="nav-number">1.3.3.</span> <span class="nav-text">å…³äºé»˜è®¤ Class çš„è§£é‡Š</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#åœ¨-LeanCloud-ä¸Šåˆ›å»ºäº‘å‡½æ•°"><span class="nav-number">1.4.</span> <span class="nav-text">åœ¨ LeanCloud ä¸Šåˆ›å»ºäº‘å‡½æ•°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#åˆ›å»º-User-é€»è¾‘-äº‘å‡½æ•°"><span class="nav-number">1.5.</span> <span class="nav-text">åˆ›å»º User é€»è¾‘ äº‘å‡½æ•°</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#éƒ¨ç½²"><span class="nav-number">1.5.1.</span> <span class="nav-text">éƒ¨ç½²</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#åœ¨å°ç¨‹åºç«¯è¿›è¡Œè°ƒè¯•"><span class="nav-number">1.5.2.</span> <span class="nav-text">åœ¨å°ç¨‹åºç«¯è¿›è¡Œè°ƒè¯•</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#åˆ›å»º-Post-é€»è¾‘äº‘å‡½æ•°"><span class="nav-number">1.6.</span> <span class="nav-text">åˆ›å»º Post é€»è¾‘äº‘å‡½æ•°</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#åˆ›å»ºäº‘å‡½æ•°"><span class="nav-number">1.6.1.</span> <span class="nav-text">åˆ›å»ºäº‘å‡½æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#éƒ¨ç½²-1"><span class="nav-number">1.6.2.</span> <span class="nav-text">éƒ¨ç½²</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#åœ¨å°ç¨‹åºç«¯æµ‹è¯•"><span class="nav-number">1.6.3.</span> <span class="nav-text">åœ¨å°ç¨‹åºç«¯æµ‹è¯•</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å°ç»“"><span class="nav-number">1.7.</span> <span class="nav-text">å°ç»“</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#One-More-Thing"><span class="nav-number">1.8.</span> <span class="nav-text">One More Thing</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#å¾®ä¿¡å°ç¨‹åºä¸Šçº¿"><span class="nav-number">1.8.1.</span> <span class="nav-text">å¾®ä¿¡å°ç¨‹åºä¸Šçº¿</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#æ”¯ä»˜å®å°ç¨‹åºä¸Šçº¿"><span class="nav-number">1.8.2.</span> <span class="nav-text">æ”¯ä»˜å®å°ç¨‹åºä¸Šçº¿</span></a></li></ol></li></ol></li></ol></div>
          
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="å›¾é›€ç¤¾åŒº">
  <p class="site-author-name" itemprop="name">å›¾é›€ç¤¾åŒº</p>
  <div class="site-description" itemprop="description">ç”± <a href="https://github.com/tuture-dev/tuture" target="_blank" rel="external nofollow noopener noreferrer">Tuture</a> å·¥å…·å†™æˆï¼Œè¿™é‡Œæ±‡é›†äº†èƒ½å¤Ÿè®©ä½ ä»å¤´æ•²åˆ°å°¾å¹¶åšå‡ºå¯è¿è¡Œé¡¹ç›®çš„ç²¾å½©çš„å…è´¹æŠ€æœ¯æ•™ç¨‹</div>
</div>
  <div class="feed-link motion-element">
    <a href="/atom.xml" rel="alternate">
      <i class="fa fa-rss"></i>RSS
    </a>
  </div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <span class="exturl" data-url="aHR0cHM6Ly9qdWVqaW4uaW0vdXNlci81YjMzNDE0MzUxODgyNTc0Yjk2OTRkMjg="><i class="fa fa-fw fa-custom juejin"></i>æ˜é‡‘</span>
      </span>
    
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="/images/social/wechat.png"><i class="fa fa-fw fa-custom wechat"></i>å¾®ä¿¡</a>
      </span>
    
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <span class="exturl" data-url="aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vdHV0dXJl"><i class="fa fa-fw fa-custom zhihu"></i>çŸ¥ä¹</span>
      </span>
    
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3R1dHVyZS1kZXY="><i class="fa fa-fw fa-github"></i>GitHub</span>
      </span>
    
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright"><span class="exturl" data-url="aHR0cDovL3d3dy5iZWlhbi5taWl0Lmdvdi5jbg==">æ²ªICPå¤‡19039313å· </span><span><img src="/images/gongan-url.png" style="display:inline-block;">
  
  <span class="exturl" data-url="aHR0cDovL3d3dy5iZWlhbi5nb3YuY24vcG9ydGFsL3JlZ2lzdGVyU3lzdGVtSW5mbz9yZWNvcmRjb2RlPTMxMDExNzAyMDA3MTMw">æ²ªå…¬ç½‘å®‰å¤‡ 31011702007130å· </span>&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love" id="animate">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">å›¾é›€ç¤¾åŒº</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">891k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">13:30</span>
</span></div>
  <div class="powered-by">ç”± <span class="exturl theme-link" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> å¼ºåŠ›é©±åŠ¨ v4.2.1</div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">ä¸»é¢˜ â€“ <span class="exturl theme-link" data-url="aHR0cHM6Ly90aGVtZS1uZXh0Lm9yZw==">NexT.Pisces</span> v7.4.0</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</div>












        
      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js?v=3.1.0"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>

<script src="/js/utils.js?v=7.4.0.js"></script>


<script src="/js/schemes/pisces.js?v=7.4.0.js"></script>


<script src="/js/next-boot.js?v=7.4.0.js"></script>

<script src="/js/bookmark.js?v=7.4.0.js"></script>




  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>








  
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/instantsearch.js@2/dist/instantsearch.min.css">
<script src="//cdn.jsdelivr.net/npm/instantsearch.js@2/dist/instantsearch.min.js"></script>
<script src="/js/algolia-search.js?v=7.4.0.js"></script>
















  

  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID: '6310753ce4e95163d2b0',
      clientSecret: '4fd6839b697f9d50e01eebbb9566d8bdf3bd75b4',
      repo: 'comments',
      owner: 'tuture-dev',
      admin: 'pftom,mRcfps,tuture-dev'.split(','),
      id: '6b7098d178b271e9d902ad2fe7cdce05',
        language: 'zh-CN',
      
      distractionFreeMode: 'true'
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
</script>


  <script>
    const line = document.getElementsByClassName('line');
    const arrLine = Array.from(line);

    const delRegex = /\[.*tuture.*-.*del.*?\]/;
    const addRegex = /\[.*tuture.*-.*add.*?\]/;
    const omitRegex = /\[.*tuture.*-.*omit.*?\]/;

    const delSpaceRegex = /^\s*\[.*tuture.*-.*del.*?\]\s*$/;
    const addSpaceRegex = /^\s*\[.*tuture.*-.*add.*?\]\s*$/;
    const omitSpaceRegex = /^\s*\[.*tuture.*-.*omit.*?\]\s*$/;

    arrLine.map(item => {
      if (item.innerText.startsWith('[tuture-add]')) {
        if (addSpaceRegex.test(item.innerText)) {
          item.innerHTML = item.innerHTML.replace(addRegex, ' ');
        } else {
          item.innerHTML = item.innerHTML.replace(addRegex, '');
        }

          item.className = item.className + ' tuture-add';
      } else if (item.innerText.startsWith('[tuture-del]')) {
          if (delSpaceRegex.test(item.innerText)) {
            item.innerHTML = item.innerHTML.replace(delRegex, ' ');
          } else {
            item.innerHTML = item.innerHTML.replace(delRegex, '');
          }

          item.className = item.className + ' tuture-del';
      } else if (item.innerText.startsWith('[tuture-omit]')) {
        item.innerHTML = item.innerHTML.replace(omitRegex, '...');
        item.className = item.className + ' tuture-omit';
      }
    })
  </script>
</body>
</html>
